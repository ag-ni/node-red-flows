[{"id":"dc52b959.21afb8","type":"tab","label":"ROBOT ARM","disabled":false,"info":""},{"id":"f15a84eb.884568","type":"tab","label":"PTZ Camera 1","disabled":false,"info":""},{"id":"2057e882.e0d458","type":"tab","label":"PTZ Camera 2","disabled":false,"info":""},{"id":"68b10b3.d3953f4","type":"tab","label":"DMX UNIVERSE","disabled":false,"info":""},{"id":"44b52a0d.4f3804","type":"tab","label":"MASTER PRESETS","disabled":false,"info":""},{"id":"416b1c35.063ec4","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"169f71f9.0db13e","type":"subflow","name":"Subflow 1","info":"","in":[],"out":[]},{"id":"ed916a0b.101318","type":"subflow","name":"Subflow 2","info":"","category":"","in":[{"x":50,"y":30,"wires":[]}],"out":[{"x":2100,"y":480,"wires":[{"id":"d456030a.5129b","port":0}]}]},{"id":"bcca6388.a5525","type":"subflow","name":"Subflow 3","info":"","category":"","in":[{"x":40,"y":520,"wires":[]}],"out":[{"x":2120,"y":340,"wires":[{"id":"351c8532.a666fa","port":0}]}]},{"id":"2180ec35.7437c4","type":"subflow","name":"Subflow 2 (2)","info":"","category":"","in":[],"out":[{"x":2100,"y":480,"wires":[{"id":"cddf4f4.5a4d1b","port":0}]}]},{"id":"b8aaba87.539188","type":"subflow","name":"Subflow 4","info":"","in":[{"x":60,"y":480,"wires":[]}],"out":[{"x":2398,"y":449,"wires":[{"id":"a2a617db.39d618","port":0}]}]},{"id":"b29a4984.6aeca8","type":"ui_group","z":"","name":"SERVO SLIDERS","tab":"ccefefa2.1224a","order":3,"disp":true,"width":"6","collapse":false},{"id":"a11c81fe.d3c2d","type":"ui_group","z":"","name":"PRESETS","tab":"","order":2,"disp":true,"width":"6","collapse":false},{"id":"d7c47ce4.c449","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"8f466b3e.ef20b8","type":"mongodb2","z":0,"uri":"mongodb://127.0.0.1:27017/cinebrain","name":"cinebrain db","options":"","parallelism":"-1"},{"id":"ba4e05b2.19cda8","type":"serial-port","z":"","serialport":"COM5","serialbaud":"9600","databits":"8","parity":"none","stopbits":"1","newline":"\\n","bin":"false","out":"char","addchar":false,"responsetimeout":""},{"id":"58a1a9d3.e4d9b8","type":"ptz-network","z":"","name":"CAM1","ipAddress":"192.168.0.100","port":"52381"},{"id":"7115c532.0f1f9c","type":"mui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"m-base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"m-page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"m-page-backgroundColor":{"value":"#fafafa","edited":false},"m-page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"m-group-textColor":{"value":"#1bbfff","edited":false},"m-group-borderColor":{"value":"#ffffff","edited":false},"m-group-backgroundColor":{"value":"#ffffff","edited":false},"m-widget-textColor":{"value":"#111111","edited":false},"m-widget-backgroundColor":{"value":"#0094ce","edited":false},"m-widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"f5dfc97e.529808","type":"ui_tab","z":"","name":"PTZ Camera 1","icon":"dashboard","order":2},{"id":"36696ac2.f5d396","type":"ui_group","z":"","name":"PTZ Save Presets","tab":"f5dfc97e.529808","order":6,"disp":true,"width":"6","collapse":false},{"id":"af5bbfb6.5cdf4","type":"ui_group","z":"","name":"PTZ Recall Presets","tab":"f5dfc97e.529808","order":5,"disp":true,"width":"6","collapse":false},{"id":"f7ae651b.b27568","type":"ui_group","z":"","name":"Pan-Tilt-Zoom","tab":"f5dfc97e.529808","order":2,"disp":true,"width":"6","collapse":false},{"id":"7c91b6f8.a07ed8","type":"ui_group","z":"","name":"PTZ Utilities","tab":"f5dfc97e.529808","order":1,"disp":true,"width":"6","collapse":false},{"id":"2b503a41.386926","type":"ui_group","z":"","name":"Image FX","tab":"f5dfc97e.529808","order":4,"disp":true,"width":"6","collapse":false},{"id":"7d63656f.2f5f1c","type":"ui_group","z":"","name":"Image Modes","tab":"f5dfc97e.529808","order":3,"disp":true,"width":"6","collapse":false},{"id":"ccefefa2.1224a","type":"ui_tab","z":"","name":"ROBOT ARM 1","icon":"dashboard","order":7},{"id":"1d707854.547168","type":"ui_group","z":"","name":"PRESETS","tab":"ccefefa2.1224a","order":2,"disp":true,"width":"6","collapse":false},{"id":"b83d5cb3.98dfc","type":"ui_group","name":"Group 3","tab":"ccefefa2.1224a","order":3,"disp":true,"width":6},{"id":"690f5193.ff6db","type":"ui_group","name":"Group 4","tab":"ccefefa2.1224a","order":4,"disp":true,"width":6},{"id":"7c727d4b.1d22e4","type":"ui_group","z":"dc52b959.21afb8","name":"SERVO LOG","tab":"ccefefa2.1224a","order":4,"disp":true,"width":"6","collapse":true},{"id":"59dc1ea7.f8853","type":"mui_group","z":"","name":"MUI_TEST","tab":"","disp":true,"width":"6","collapse":false},{"id":"3e868271.0f92be","type":"mui_tab","z":"","name":"MUI TEST","icon":"dashboard","order":1},{"id":"a031677c.b4bd68","type":"mui_group","z":"","name":"MUI TEST","tab":"3e868271.0f92be","order":1,"disp":true,"width":"6","collapse":false},{"id":"fee3bb1b.363958","type":"ui_tab","z":"","name":"PTZ Camera 2","icon":"dashboard","order":3},{"id":"c6a9c771.0a3ef8","type":"ui_group","z":"","name":"PTZ Utilities","tab":"fee3bb1b.363958","order":1,"disp":true,"width":"6","collapse":false},{"id":"684a12df.665b0c","type":"ui_group","z":"","name":"Pan-Tilt-Zoom","tab":"fee3bb1b.363958","order":2,"disp":true,"width":"6","collapse":false},{"id":"ff3e87f3.deae78","type":"ui_group","z":"","name":"Image Modes","tab":"fee3bb1b.363958","order":3,"disp":true,"width":"6","collapse":false},{"id":"42f6732.b676d8c","type":"ui_group","z":"","name":"Image FX","tab":"fee3bb1b.363958","order":4,"disp":true,"width":"6","collapse":false},{"id":"46fe4902.f25ed8","type":"ui_group","z":"","name":"PTZ Recall Presets","tab":"fee3bb1b.363958","order":5,"disp":true,"width":"6","collapse":false},{"id":"ae526e18.5ea7","type":"ui_group","z":"","name":"PTZ Save Presets","tab":"fee3bb1b.363958","order":6,"disp":true,"width":"6","collapse":false},{"id":"9e30a7e8.02cf88","type":"ui_group","z":"68b10b3.d3953f4","name":"DMX LOG","tab":"28b67ea8.0b9a52","order":4,"disp":true,"width":"6","collapse":true},{"id":"525219e4.77da98","type":"ui_group","z":"","name":"DMX SLIDERS","tab":"28b67ea8.0b9a52","order":3,"disp":true,"width":"8","collapse":true},{"id":"e8414499.885228","type":"mongodb2","z":"","uri":"mongodb://127.0.0.1:27017/cinebrain","name":"cinebrain db","options":"","parallelism":"-1"},{"id":"755c0043.d0fbf","type":"ui_group","z":"","name":"PRESETS","tab":"28b67ea8.0b9a52","order":1,"disp":false,"width":"6","collapse":false},{"id":"28b67ea8.0b9a52","type":"ui_tab","z":"","name":"DMX TEMPLATE","icon":"home","order":4},{"id":"4f6c34fd.c5d1bc","type":"ui_group","z":"","name":"RECORD PRESETS","tab":"","order":2,"disp":true,"width":"6","collapse":true},{"id":"e33de808.a12a18","type":"ui_group","z":"","name":"RECALL PRESETS","tab":"","order":1,"disp":true,"width":"6","collapse":true},{"id":"fb162f30.211db","type":"ui_group","z":"","name":"DMX SLIDERS","tab":"","order":3,"disp":true,"width":"8","collapse":true},{"id":"79aea73f.aa3a08","type":"mongodb2","z":"","uri":"mongodb://127.0.0.1:27017/cinebrain","name":"cinebrain db","options":"","parallelism":"-1"},{"id":"308e9e25.e2c0e2","type":"ui_tab","z":"","name":"DMX Chauvet 255","icon":"dashboard","order":5},{"id":"ef5d0924.1a70d8","type":"ui_group","z":"","name":"PRESETS","tab":"308e9e25.e2c0e2","order":1,"disp":true,"width":"4","collapse":false},{"id":"27f07b90.e6d524","type":"ui_group","z":"","name":"COLORS","tab":"308e9e25.e2c0e2","order":3,"disp":true,"width":"6","collapse":false},{"id":"ea3bd860.23d408","type":"ui_group","z":"","name":"MOVEMENT","tab":"308e9e25.e2c0e2","order":2,"disp":true,"width":"6","collapse":false},{"id":"1b4c344c.bd38ac","type":"ui_group","z":"","name":"GOBOS","tab":"308e9e25.e2c0e2","order":4,"disp":true,"width":"6","collapse":false},{"id":"d071e088.1d474","type":"ui_tab","z":"","name":"DMX ADJ Pinspot","icon":"dashboard","order":6},{"id":"c9bf2bce.8a91d8","type":"ui_group","z":"","name":"PRESETS","tab":"d071e088.1d474","order":1,"disp":true,"width":"6","collapse":false},{"id":"e1e5477d.90bf08","type":"ui_group","z":"","name":"SLIDERS","tab":"d071e088.1d474","order":2,"disp":true,"width":"6","collapse":false},{"id":"ffc7f18b.c999d","type":"ui_tab","z":"","name":"MASTER PRESETS","icon":"dashboard","order":1},{"id":"8a52e703.6595b8","type":"ui_group","z":"","name":"MASTER PRESETS","tab":"ffc7f18b.c999d","order":1,"disp":true,"width":"6","collapse":false},{"id":"4f7a655c.a30e5c","type":"ui_group","z":"","name":"SUB PRESETS","tab":"ffc7f18b.c999d","order":2,"disp":true,"width":"12","collapse":false},{"id":"e6818602.1349b8","type":"ui_group","z":"","name":"RECORD PRESETS","tab":"","order":2,"disp":true,"width":"6","collapse":true},{"id":"4cd650c.55a8bb","type":"ui_group","z":"","name":"RECALL PRESETS","tab":"","order":1,"disp":true,"width":"6","collapse":true},{"id":"c0d8a8a2.d6de68","type":"ui_group","z":"","name":"DMX SLIDERS","tab":"","order":3,"disp":true,"width":"8","collapse":true},{"id":"c33539e8.2b7428","type":"mongodb2","z":"","uri":"mongodb://127.0.0.1:27017/cinebrain","name":"cinebrain db","options":"","parallelism":"-1"},{"id":"3c318348.77e2ac","type":"ui_group","z":"416b1c35.063ec4","name":"DMX LOG","tab":"","order":4,"disp":true,"width":"6","collapse":true},{"id":"bb4bd04f.e91a5","type":"ui_group","z":"","name":"DMX SLIDERS","tab":"","order":3,"disp":true,"width":"8","collapse":true},{"id":"aa034a9c.e558d8","type":"mongodb2","z":"","uri":"mongodb://127.0.0.1:27017/cinebrain","name":"cinebrain db","options":"","parallelism":"-1"},{"id":"83b46347.a0bf8","type":"ui_group","z":"","name":"PRESETS","tab":"","order":1,"disp":false,"width":"6","collapse":false},{"id":"f02d8ce3.0e205","type":"ui_group","z":"","name":"RECORD PRESETS","tab":"","order":2,"disp":true,"width":"6","collapse":true},{"id":"3f9db380.6e433c","type":"ui_group","z":"","name":"RECALL PRESETS","tab":"","order":1,"disp":true,"width":"6","collapse":true},{"id":"c893e116.ca515","type":"ui_group","z":"","name":"DMX SLIDERS","tab":"","order":3,"disp":true,"width":"8","collapse":true},{"id":"d212f4fb.f3d0b8","type":"mongodb2","z":"","uri":"mongodb://127.0.0.1:27017/cinebrain","name":"cinebrain db","options":"","parallelism":"-1"},{"id":"127e1655.39d4aa","type":"ui_tab","z":"","name":"DARK LAB HOUSE DMX","icon":"dashboard","order":8},{"id":"cbc8ef35.63fca","type":"ui_group","z":"","name":"DMX 1-16","tab":"127e1655.39d4aa","order":2,"disp":true,"width":"6","collapse":false},{"id":"7166c0de.8c1d3","type":"ui_group","z":"","name":"DMX 17-32","tab":"127e1655.39d4aa","order":3,"disp":true,"width":"6","collapse":false},{"id":"b3d980a2.5ac25","type":"ui_group","z":"","name":"DMX 33-48","tab":"127e1655.39d4aa","order":4,"disp":true,"width":"6","collapse":false},{"id":"52937767.091a28","type":"ui_group","z":"","name":"DMX 49-64","tab":"127e1655.39d4aa","order":5,"disp":true,"width":"6","collapse":false},{"id":"d5fd5751.4c8a28","type":"ui_group","z":"","name":"DMX 65-80","tab":"127e1655.39d4aa","order":6,"disp":true,"width":"6","collapse":false},{"id":"dc78dc99.eb78e","type":"ui_group","z":"","name":"PRESETS","tab":"127e1655.39d4aa","order":1,"disp":true,"width":"6","collapse":false},{"id":"a07e7e4d.e2dd","type":"function","z":"dc52b959.21afb8","name":"Just get preset","func":"var servos = msg.payload.payload;\nvar last_servos = global.get(\"last_sent_servos\");\nvar robot_speed = global.get(\"robot_speed\");\nvar sameness_flag = 0;\nvar m = [];\nvar servo_command = \"\";\n\nfor(var i=0; i<servos.length; i++) {\n    if(servos[i]!=last_servos[i]){\n        sameness_flag=1;\n    }\n}\n\nif(sameness_flag==1){\n    \n    m[0] = { payload: \"reset\"};\n    \n    for (var i=1;i<7;i++)\n    {\n        m[i] = { payload: servos[i-1] };\n        \n        var id = i;\n        servo_command = servo_command + id + \":\" + servos[i-1] + \":\" + robot_speed;\n        if (id == 6) {\n            servo_command = servo_command + \"!\";\n        }\n        else {\n            servo_command = servo_command + \"&\";\n        }\n    }\n    \n    m[7] = { payload: servo_command };\n    global.set(\"last_sent_servos\", [...servos]);\n    global.set(\"servos_preset\", servos);\n\n    return m;\n\n}\n","outputs":8,"noerr":0,"x":1423,"y":499.5,"wires":[[],["f0e5f5df.8efa68"],["b879ed05.75191"],["eb3eeb15.41b978"],["377b3204.a2c96e"],["d43be5e9.3727e8"],["9fe16ce9.389b7"],["e32e2cc3.ba72","e61aee03.11fb4"]]},{"id":"fe156fc2.607ec","type":"function","z":"dc52b959.21afb8","name":"MIDI KNOB PARSE","func":"var knob_array = [];\nknob_array = msg.payload;\nvar output_array = [];\n\nswitch (knob_array[0]) {\n    case 48:\n        var scaled_value = Math.floor((knob_array[1]*1000)/127);\n        output_array[0] = {payload: scaled_value};\n        break;\n    case 49:\n        var scaled_value = Math.floor((knob_array[1]*1000)/127);\n        output_array[1] = {payload: scaled_value};\n        break;\n    case 50:\n        var scaled_value = Math.floor((knob_array[1]*1000)/127);\n        output_array[2] = {payload: scaled_value};\n        break;\n    case 51:\n        var scaled_value = Math.floor((knob_array[1]*1000)/127);\n        output_array[3] = {payload: scaled_value};\n        break;\n    case 52:\n        var scaled_value = Math.floor((knob_array[1]*1000)/127);\n        output_array[4] = {payload: scaled_value};\n        break;\n    case 53:\n        var scaled_value = Math.floor((knob_array[1]*1000)/127);\n        output_array[5] = {payload: scaled_value};\n        break;\n    case 54:\n        var scaled_value = Math.floor((knob_array[1]*1000)/127);\n        output_array[6] = {payload: scaled_value};\n        break;\n    case 55:\n        var scaled_value = Math.floor((knob_array[1]*3000)/127);\n        output_array[7] = {payload: scaled_value};\n        break;\n        \n}\nreturn output_array;\n\n\n","outputs":8,"noerr":0,"x":1453,"y":799.5,"wires":[["88719dee.fa512"],["76bff873.c83658"],["8264833.61d0c8"],["7786ac56.3fb864"],["3dbeeea5.962e02"],["8f69056e.0e6858"],[],["351a1fb5.e0fde","258f8b61.61ffd4"]]},{"id":"b879ed05.75191","type":"ui_slider","z":"dc52b959.21afb8","name":"Servo2","label":"Servo 2","group":"b29a4984.6aeca8","order":2,"width":"0","height":"0","passthru":true,"topic":"Slider","min":0,"max":"1000","step":"1","x":1663,"y":479.5,"wires":[["76bff873.c83658"]]},{"id":"cd47a5aa.4d6b38","type":"ui_slider","z":"dc52b959.21afb8","name":"Preset Recall Speed","label":"Robot Speed","group":"1d707854.547168","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":"500","max":"3000","step":1,"x":1709,"y":679.5,"wires":[["351a1fb5.e0fde","258f8b61.61ffd4"]]},{"id":"9fe16ce9.389b7","type":"ui_slider","z":"dc52b959.21afb8","name":"Servo6","label":"Servo 6","group":"b29a4984.6aeca8","order":6,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"1000","step":"1","x":1663,"y":639.5,"wires":[["8f69056e.0e6858"]]},{"id":"d43be5e9.3727e8","type":"ui_slider","z":"dc52b959.21afb8","name":"Servo5","label":"Servo 5","group":"b29a4984.6aeca8","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"1000","step":"1","x":1663,"y":599.5,"wires":[["3dbeeea5.962e02"]]},{"id":"377b3204.a2c96e","type":"ui_slider","z":"dc52b959.21afb8","name":"Servo4","label":"Servo 4","group":"b29a4984.6aeca8","order":4,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"1000","step":"1","x":1663,"y":559.5,"wires":[["7786ac56.3fb864"]]},{"id":"eb3eeb15.41b978","type":"ui_slider","z":"dc52b959.21afb8","name":"Servo3","label":"Servo 3","group":"b29a4984.6aeca8","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"1000","step":"1","x":1663,"y":519.5,"wires":[["8264833.61d0c8"]]},{"id":"88719dee.fa512","type":"change","z":"dc52b959.21afb8","name":"save to Global Servos1","rules":[{"t":"set","p":"servos_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1933,"y":439.5,"wires":[[]]},{"id":"76bff873.c83658","type":"change","z":"dc52b959.21afb8","name":"save to Global Servos2","rules":[{"t":"set","p":"servos_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1933,"y":479.5,"wires":[[]]},{"id":"8264833.61d0c8","type":"change","z":"dc52b959.21afb8","name":"save to Global Servos3","rules":[{"t":"set","p":"servos_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1933,"y":519.5,"wires":[[]]},{"id":"7786ac56.3fb864","type":"change","z":"dc52b959.21afb8","name":"save to Global Servos4","rules":[{"t":"set","p":"servos_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1933,"y":559.5,"wires":[[]]},{"id":"3dbeeea5.962e02","type":"change","z":"dc52b959.21afb8","name":"save to Global Servos5","rules":[{"t":"set","p":"servos_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1933,"y":599.5,"wires":[[]]},{"id":"8f69056e.0e6858","type":"change","z":"dc52b959.21afb8","name":"save to Global Servos6","rules":[{"t":"set","p":"servos_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1933,"y":639.5,"wires":[[]]},{"id":"351a1fb5.e0fde","type":"change","z":"dc52b959.21afb8","name":"save to Global RobotSpeed","rules":[{"t":"set","p":"robot_speed","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1943,"y":679.5,"wires":[[]]},{"id":"5fe7f4eb.c1834c","type":"function","z":"dc52b959.21afb8","name":"insert preset","func":"var preset = [];\npreset = global.get(\"servos_preset\");\nvar newMsg = {};\nnewMsg.collection = 'servos_presets';\nnewMsg.payload = [\n  {topic: msg.payload},\n  {\n    \"$set\": {\n      \"payload\": preset\n    }\n  },\n  {upsert:true}\n];\n\nreturn newMsg;\n","outputs":1,"noerr":0,"x":958,"y":121,"wires":[["535081ea.4ab9c"]]},{"id":"dea4b3e0.02343","type":"function","z":"dc52b959.21afb8","name":"init global variables","func":"global.set(\"servos_preset\",[500,500,500,500,500,500]); \nmsg.payload = global.get(\"servos_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":973,"y":539.5,"wires":[["666c479b.36fd08","2f7b0534.adfe7a"]]},{"id":"7b300998.70ba68","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":733,"y":539.5,"wires":[["dea4b3e0.02343"]]},{"id":"666c479b.36fd08","type":"debug","z":"dc52b959.21afb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1193,"y":539.5,"wires":[]},{"id":"957db32d.bd8d5","type":"debug","z":"dc52b959.21afb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1193,"y":619.5,"wires":[]},{"id":"32f73dff.e75932","type":"function","z":"dc52b959.21afb8","name":"check global preset","func":"msg.payload = global.get(\"servos_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":973,"y":619.5,"wires":[["957db32d.bd8d5","2f7b0534.adfe7a"]]},{"id":"4c7eed78.081d94","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":723,"y":619.5,"wires":[["32f73dff.e75932"]]},{"id":"f0e5f5df.8efa68","type":"ui_slider","z":"dc52b959.21afb8","name":"Servo1","label":"Servo 1","group":"b29a4984.6aeca8","order":1,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"1000","step":"1","x":1663,"y":439.5,"wires":[["88719dee.fa512"]]},{"id":"be5bb7cc.37df68","type":"function","z":"dc52b959.21afb8","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":845,"y":239,"wires":[["f6cecf8c.a1681"]]},{"id":"330d1133.13b17e","type":"ui_dropdown","z":"dc52b959.21afb8","name":"Recall Pulldown","label":"Recall","place":"Select option","group":"1d707854.547168","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1583,"y":239.5,"wires":[["a07e7e4d.e2dd","f2a5a908.f7a208"]]},{"id":"e7284929.d77468","type":"function","z":"dc52b959.21afb8","name":"Format Preset Pulldown","func":"flow.set(\"robot_db_preset\", msg.payload);\nvar msg_array = [];\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic != undefined){\n        tmp_object[msg_object.topic] = {\"topic\": msg_object.topic, \"payload\": msg_object.payload};\n        msg_array[i] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":240,"wires":[["330d1133.13b17e"]]},{"id":"84bb1e9a.882c7","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":696,"y":237.5,"wires":[["be5bb7cc.37df68"]]},{"id":"3aef48ba.a57b88","type":"ui_text_input","z":"dc52b959.21afb8","name":"","label":"Edit Preset Name","group":"1d707854.547168","order":4,"width":0,"height":0,"passthru":true,"mode":"text","delay":"300","topic":"","x":2013,"y":239.5,"wires":[["c266d6b.ee33a28"]]},{"id":"51857a37.72d9b4","type":"ui_button","z":"dc52b959.21afb8","name":"Save","group":"1d707854.547168","order":5,"width":0,"height":0,"passthru":false,"label":"Save Preset","color":"#FFF","bgcolor":"#FF0000","icon":"","payload":"","payloadType":"date","topic":"","x":638,"y":119.5,"wires":[["58c97ebe.d4c04"]]},{"id":"c266d6b.ee33a28","type":"function","z":"dc52b959.21afb8","name":"set global preset name","func":"global.set(\"robot_arm_preset_name\", msg.payload);","outputs":1,"noerr":0,"x":2223,"y":239.5,"wires":[[]]},{"id":"58c97ebe.d4c04","type":"function","z":"dc52b959.21afb8","name":"save preset","func":"msg.payload = global.get(\"robot_arm_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":120,"wires":[["5fe7f4eb.c1834c"]]},{"id":"f2a5a908.f7a208","type":"function","z":"dc52b959.21afb8","name":"get preset name","func":"msg.payload = msg.payload.topic;\nreturn msg;","outputs":1,"noerr":0,"x":1803,"y":239.5,"wires":[["3aef48ba.a57b88"]]},{"id":"1d58cd04.fd4743","type":"ui_text","z":"dc52b959.21afb8","group":"1d707854.547168","order":3,"width":0,"height":0,"name":"","label":"SAVE PRESET","format":"{{msg.payload}}","layout":"row-left","x":683,"y":319.5,"wires":[]},{"id":"a87a0242.b6b3f","type":"function","z":"dc52b959.21afb8","name":"delete preset","func":"var newMsg = {};\nnewMsg.operation  = 'deleteOne';\nnewMsg.payload    = {'topic' : msg.payload};\nreturn newMsg;","outputs":1,"noerr":0,"x":959,"y":180,"wires":[["5712796a.e93028"]]},{"id":"2b13c850.7c7318","type":"ui_button","z":"dc52b959.21afb8","name":"Delete","group":"1d707854.547168","order":5,"width":0,"height":0,"passthru":false,"label":"Delete Preset","color":"#FFF","bgcolor":"#FF00FF","icon":"","payload":"","payloadType":"date","topic":"","x":639,"y":178.5,"wires":[["c1c39a79.6148d8"]]},{"id":"c1c39a79.6148d8","type":"function","z":"dc52b959.21afb8","name":"delete preset","func":"msg.payload = global.get(\"robot_arm_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":791,"y":179,"wires":[["a87a0242.b6b3f"]]},{"id":"10a3ed05.bc4e43","type":"debug","z":"dc52b959.21afb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":943,"y":759.5,"wires":[]},{"id":"b7344ea9.ffe84","type":"function","z":"dc52b959.21afb8","name":"send servo data","func":"var servos = global.get(\"servos_preset\");\nvar last_servos = global.get(\"last_sent_servos\");\nvar sameness_flag = false;\nvar m = [];\n\nfor(var i=0; i<servos.length; i++) {\n    if(servos[i]!=last_servos[i]){\n        sameness_flag= true;\n    }\n}\n\nif(sameness_flag){\n  \n    var robot_speed = 150;\n\n    var servo_string =   \"1:\" + servos[0] + \":\" + robot_speed + \"&\" +\n                        \"2:\" + servos[1] + \":\" + robot_speed + \"&\" +\n                        \"3:\" + servos[2] + \":\" + robot_speed + \"&\" +\n                        \"4:\" + servos[3] + \":\" + robot_speed + \"&\" +\n                        \"5:\" + servos[4] + \":\" + robot_speed + \"&\" +\n                        \"6:\" + servos[5] + \":\" + robot_speed + \"!\";\n    global.set(\"last_sent_servos\", [...servos]);\n    m[0] = { payload: servo_string };\n    m[1] = { payload: servos};\n    return m;\n}\n\n","outputs":2,"noerr":0,"x":2483,"y":839.5,"wires":[["e61aee03.11fb4","e32e2cc3.ba72"],[]]},{"id":"5e2de41.4e2571c","type":"ui_button","z":"dc52b959.21afb8","name":"RESET SERVO POSITIONS","group":"1d707854.547168","order":0,"width":0,"height":0,"passthru":false,"label":"RESET SERVO POSITIONS","color":"","bgcolor":"","icon":"","payload":"1:500:1000&2:500:1000&3:500:1000&4:500:1000&5:500:1000&6:500:1000!","payloadType":"str","topic":"","x":723,"y":379.5,"wires":[["dcb710d9.a9fce"]]},{"id":"dcb710d9.a9fce","type":"function","z":"dc52b959.21afb8","name":"load reset","func":"msg.payload = { payload : [500,500,500,500,500,500] };\nreturn msg;","outputs":1,"noerr":0,"x":1003,"y":399.5,"wires":[["a07e7e4d.e2dd"]]},{"id":"99da116f.01ef5","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"1000","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1513,"y":699.5,"wires":[["cd47a5aa.4d6b38"]]},{"id":"9fb0cccc.617c2","type":"trigger","z":"dc52b959.21afb8","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"-150","extend":false,"units":"ms","reset":"reset","bytopic":"all","name":"","x":2103,"y":879.5,"wires":[["30979909.84c036","b7344ea9.ffe84"]]},{"id":"7b1deb14.33b0a4","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"1","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":1893,"y":859.5,"wires":[["9fb0cccc.617c2"]]},{"id":"258f8b61.61ffd4","type":"ui_numeric","z":"dc52b959.21afb8","name":"preset recall speed","label":"numeric","group":"b29a4984.6aeca8","order":0,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"1000","step":1,"x":2010,"y":780,"wires":[[]]},{"id":"e234e47a.bf3d58","type":"function","z":"dc52b959.21afb8","name":"save last sent servos","func":"global.set(\"last_sent_servos\", [0,0,0,0,0,0]);\nreturn msg;","outputs":1,"noerr":0,"x":2583,"y":679.5,"wires":[[]]},{"id":"8b2702a9.519bb","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":2393,"y":679.5,"wires":[["e234e47a.bf3d58"]]},{"id":"2f7b0534.adfe7a","type":"function","z":"dc52b959.21afb8","name":"Reset from global","func":"var preset = [];\nvar m = [];\npreset = global.get(\"servos_preset\");\n\n\nfor (var i=0;i<7;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":6,"noerr":0,"x":1433,"y":619.5,"wires":[["f0e5f5df.8efa68"],["b879ed05.75191"],["eb3eeb15.41b978"],["377b3204.a2c96e"],["d43be5e9.3727e8"],["9fe16ce9.389b7"]]},{"id":"cd149163.d8aa9","type":"inject","z":"dc52b959.21afb8","name":"RESET SERVO POSITIONS","topic":"","payload":"1:500:1000&2:500:1000&3:500:1000&4:500:1000&5:500:1000&6:500:1000!","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":743,"y":419.5,"wires":[["dcb710d9.a9fce"]]},{"id":"4b071ae8.11c164","type":"inject","z":"dc52b959.21afb8","name":"reset","topic":"","payload":"reset","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1893,"y":899.5,"wires":[["9fb0cccc.617c2"]]},{"id":"6ed62360.bf7c5c","type":"function","z":"dc52b959.21afb8","name":"get last sent","func":"msg.payload = global.get(\"last_sent_servos\");\n\nreturn msg;","outputs":1,"noerr":0,"x":2553,"y":359.5,"wires":[["b47257b9.4ced88"]]},{"id":"92192add.dec4f8","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":2383,"y":359.5,"wires":[["6ed62360.bf7c5c"]]},{"id":"67d93db1.497184","type":"function","z":"dc52b959.21afb8","name":"get current","func":"msg.payload = global.get(\"servos_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":2553,"y":419.5,"wires":[["b47257b9.4ced88"]]},{"id":"510ef9f4.29a338","type":"inject","z":"dc52b959.21afb8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":2383,"y":419.5,"wires":[["67d93db1.497184"]]},{"id":"b47257b9.4ced88","type":"debug","z":"dc52b959.21afb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":2830,"y":380,"wires":[]},{"id":"e61aee03.11fb4","type":"debug","z":"dc52b959.21afb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":2750,"y":980,"wires":[]},{"id":"30979909.84c036","type":"function","z":"dc52b959.21afb8","name":"get last sent","func":"msg.payload = { last_sent_servos: global.get(\"last_sent_servos\"),\n                current_servos: global.get(\"servos_preset\")\n            \n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2333,"y":899.5,"wires":[[]]},{"id":"535081ea.4ab9c","type":"mongodb2 in","z":"dc52b959.21afb8","service":"_ext_","configNode":"8f466b3e.ef20b8","name":"Store Data into MongoDB","collection":"robot_arm_presets","operation":"findOneAndUpdate","x":1170,"y":100,"wires":[["be5bb7cc.37df68"]]},{"id":"f6cecf8c.a1681","type":"mongodb2 in","z":"dc52b959.21afb8","service":"_ext_","configNode":"8f466b3e.ef20b8","name":"Mongo DB dynamic operation","collection":"robot_arm_presets","operation":"","x":1079,"y":242,"wires":[["e7284929.d77468","6a0b8411.d481fc"]]},{"id":"5712796a.e93028","type":"mongodb2 in","z":"dc52b959.21afb8","service":"_ext_","configNode":"8f466b3e.ef20b8","name":"Store Data into MongoDB","collection":"robot_arm_presets","operation":"","x":1170,"y":181,"wires":[["be5bb7cc.37df68"]]},{"id":"98b5ccfb.e82dc","type":"serial in","z":"dc52b959.21afb8","name":"","serial":"ba4e05b2.19cda8","x":713,"y":759.5,"wires":[["10a3ed05.bc4e43"]]},{"id":"e32e2cc3.ba72","type":"serial out","z":"dc52b959.21afb8","name":"","serial":"ba4e05b2.19cda8","x":2810,"y":800,"wires":[]},{"id":"b3cc39b4.0f4ff8","type":"midi in","z":"dc52b959.21afb8","name":"AKAI APC KEY25 MIDI IN","midiport":"0","x":110,"y":680,"wires":[["788ab250.fbadec"]]},{"id":"83f4e27.7285c2","type":"udp out","z":"f15a84eb.884568","name":"CAM1","addr":"192.168.0.100","iface":"","port":"52381","ipv":"udp4","outport":"5250","base64":false,"multicast":"false","x":2230,"y":1040,"wires":[]},{"id":"35a845b4.937d4a","type":"function","z":"f15a84eb.884568","name":"Recall Preset 1","func":"msg.payload = flow.get(\"recall_preset_1\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":140,"wires":[["d15f4934.93ea98"]]},{"id":"d15f4934.93ea98","type":"function","z":"f15a84eb.884568","name":"format with init message","func":"var m = [];\n\nm[0] = { payload: flow.get(\"ptz_init\") };\n\nm[1] = { payload: msg.payload };\n\nreturn m;","outputs":2,"noerr":0,"x":1970,"y":1040,"wires":[["83f4e27.7285c2"],["83f4e27.7285c2"]]},{"id":"b7e3cebf.967b6","type":"function","z":"f15a84eb.884568","name":"FLOW PTZ CONTROL VARIABLES","func":"flow.set(\"ptz_init\", Buffer.from('020000010000000001', 'hex'));\n\nflow.set(\"recall_preset_1\", Buffer.from('01000007000000648101043f0200ff', 'hex'));\nflow.set(\"recall_preset_2\", Buffer.from('01000007000000648101043f0201ff', 'hex'));\nflow.set(\"recall_preset_3\", Buffer.from('01000007000000648101043f0202ff', 'hex'));\nflow.set(\"recall_preset_4\", Buffer.from('01000007000000648101043f0203ff', 'hex'));\nflow.set(\"recall_preset_5\", Buffer.from('01000007000000648101043f0204ff', 'hex'));\nflow.set(\"recall_preset_6\", Buffer.from('01000007000000648101043f0205ff', 'hex'));\n\nflow.set(\"save_preset_1\", Buffer.from('01000007000000108101043f0100ff', 'hex'));\nflow.set(\"save_preset_2\", Buffer.from('01000007000000108101043f0101ff', 'hex'));\nflow.set(\"save_preset_3\", Buffer.from('01000007000000108101043f0102ff', 'hex'));\nflow.set(\"save_preset_4\", Buffer.from('01000007000000108101043f0103ff', 'hex'));\nflow.set(\"save_preset_5\", Buffer.from('01000007000000108101043f0104ff', 'hex'));\nflow.set(\"save_preset_6\", Buffer.from('01000007000000108101043f0105ff', 'hex'));\n\nflow.set('ptz_on', Buffer.from('010000060000000c8101040002ff', 'hex'));\nflow.set('ptz_off', Buffer.from('010000060000000c8101040003ff', 'hex'));\n\nflow.set('ptz_up_left', Buffer.from('0100000900000099810106010c080101ff', 'hex'));\nflow.set('ptz_up', Buffer.from('010000090000009b810106010c080301ff', 'hex'));\nflow.set('ptz_up_right', Buffer.from('010000090000009d810106010c080201ff', 'hex'));\nflow.set('ptz_left', Buffer.from('01000009000000a3810106010c080103ff', 'hex'));\nflow.set('ptz_right', Buffer.from('01000009000000a5810106010c080203ff', 'hex'));\nflow.set('ptz_down_left', Buffer.from('01000009000000a7810106010c080102ff', 'hex'));\nflow.set('ptz_down', Buffer.from('01000009000000a9810106010c080302ff', 'hex'));\nflow.set('ptz_down_right', Buffer.from('01000009000000ab810106010c080202ff', 'hex'));\nflow.set('ptz_stop', Buffer.from('01000009000000ac810106010c080303ff', 'hex'));\n\nflow.set('ptz_zoom_in', Buffer.from('01000006000000b78101040723ff', 'hex'));\nflow.set('ptz_zoom_out', Buffer.from('01000006000000b98101040733ff', 'hex'));\nflow.set('ptz_zoom_stop', Buffer.from('01000006000000ba8101040700ff', 'hex'));\n\nflow.set('ptz_iris_up', Buffer.from('01000006000003148101040b02ff', 'hex'));\nflow.set('ptz_iris_down', Buffer.from('01000006000003168101040b03ff', 'hex'));\nflow.set('ptz_shutter_up', Buffer.from('01000006000003148101040a02ff', 'hex'));\nflow.set('ptz_shutter_down', Buffer.from('01000006000003168101040a03ff', 'hex'));\nflow.set('ptz_gain_up', Buffer.from('01000006000003148101040c02ff', 'hex'));\nflow.set('ptz_gain_down', Buffer.from('01000006000003168101040c03ff', 'hex'));\nflow.set('ptz_iris_priority', Buffer.from('0100000600000009810104390Bff', 'hex'));\nflow.set('ptz_shutter_priority', Buffer.from('0100000600000009810104390Aff', 'hex'));\nflow.set('ptz_bright_mode', Buffer.from('0100000600000009810104390Dff', 'hex'));\nflow.set('ptz_bright_up', Buffer.from('01000006000000098101040D02ff', 'hex'));\nflow.set('ptz_bright_down', Buffer.from('01000006000000098101040D03ff', 'hex'));\nflow.set('ptz_awb', Buffer.from('01000006000003148101043500ff', 'hex'));\nflow.set('ptz_onetouch_wb', Buffer.from('01000006000003148101043503ff', 'hex'));\nflow.set('ptz_onetouch_wb_trigger', Buffer.from('01000006000003148101041005ff', 'hex'));   \nflow.set('ptz_manual_wb', Buffer.from('01000006000003148101043505ff', 'hex'));\nflow.set('ptz_full_auto', Buffer.from('01000006000000098101043900ff', 'hex'));\nflow.set('ptz_manual_exposure', Buffer.from('01000006000003168101043903ff', 'hex'));\nflow.set('ptz_fx_off', Buffer.from('01000006000003148101046300ff', 'hex'));\nflow.set('ptz_fx_neg', Buffer.from('01000006000000098101046302ff', 'hex'));\nflow.set('ptz_fx_bw', Buffer.from('01000006000003168101046304ff', 'hex'));\n\nflow.set('ptz_onscreen_on', Buffer.from('010000060000000c81017e011802ff', 'hex'));\nflow.set('ptz_onscreen_off', Buffer.from('010000060000000c81017e011803ff', 'hex'));\n","outputs":1,"noerr":0,"x":430,"y":40,"wires":[[]]},{"id":"8b7893db.7d564","type":"inject","z":"f15a84eb.884568","name":"store global PTZ variables","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":120,"y":40,"wires":[["b7e3cebf.967b6"]]},{"id":"24b4b6ae.82c36a","type":"ui_button","z":"f15a84eb.884568","name":"Recall Preset 1","group":"af5bbfb6.5cdf4","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 1","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":140,"wires":[["35a845b4.937d4a"]]},{"id":"cf80c27a.26dd6","type":"function","z":"f15a84eb.884568","name":"Recall Preset 2","func":"msg.payload = flow.get(\"recall_preset_2\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":220,"wires":[["d15f4934.93ea98"]]},{"id":"8921e449.694368","type":"ui_button","z":"f15a84eb.884568","name":"Recall Preset 2","group":"af5bbfb6.5cdf4","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 2","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":220,"wires":[["cf80c27a.26dd6"]]},{"id":"972be649.3d5038","type":"function","z":"f15a84eb.884568","name":"Recall Preset 3","func":"msg.payload = flow.get(\"recall_preset_3\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":300,"wires":[["d15f4934.93ea98"]]},{"id":"22e9743a.e7edac","type":"ui_button","z":"f15a84eb.884568","name":"Recall Preset 3","group":"af5bbfb6.5cdf4","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 3","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":300,"wires":[["972be649.3d5038"]]},{"id":"61995632.b9fa68","type":"function","z":"f15a84eb.884568","name":"Recall Preset 4","func":"msg.payload = flow.get(\"recall_preset_4\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":380,"wires":[["d15f4934.93ea98"]]},{"id":"b09ec6db.179848","type":"ui_button","z":"f15a84eb.884568","name":"Recall Preset 4","group":"af5bbfb6.5cdf4","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 4","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":380,"wires":[["61995632.b9fa68"]]},{"id":"759e1874.41dde8","type":"function","z":"f15a84eb.884568","name":"Recall Preset 5","func":"msg.payload = flow.get(\"recall_preset_5\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":460,"wires":[["d15f4934.93ea98"]]},{"id":"d48fabaa.1d30f8","type":"ui_button","z":"f15a84eb.884568","name":"Recall Preset 5","group":"af5bbfb6.5cdf4","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 5","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":460,"wires":[["759e1874.41dde8"]]},{"id":"851d4444.167278","type":"function","z":"f15a84eb.884568","name":"Recall Preset 6","func":"msg.payload = flow.get(\"recall_preset_6\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":540,"wires":[["d15f4934.93ea98"]]},{"id":"41f706db.e10f98","type":"ui_button","z":"f15a84eb.884568","name":"Recall Preset 6","group":"af5bbfb6.5cdf4","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 6","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":540,"wires":[["851d4444.167278"]]},{"id":"9fef523f.3aea6","type":"function","z":"f15a84eb.884568","name":"Save Preset 1","func":"msg.payload = flow.get(\"save_preset_1\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":100,"wires":[["d15f4934.93ea98"]]},{"id":"fe3e3b47.65c358","type":"ui_button","z":"f15a84eb.884568","name":"Save Preset 1","group":"36696ac2.f5d396","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 1","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":100,"wires":[["9fef523f.3aea6"]]},{"id":"6aea43df.c2c1cc","type":"function","z":"f15a84eb.884568","name":"Save Preset 2","func":"msg.payload = flow.get(\"save_preset_2\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":180,"wires":[["d15f4934.93ea98"]]},{"id":"2afb2073.c8a91","type":"ui_button","z":"f15a84eb.884568","name":"Save Preset 2","group":"36696ac2.f5d396","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 2","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":180,"wires":[["6aea43df.c2c1cc"]]},{"id":"8ea1fb16.691528","type":"function","z":"f15a84eb.884568","name":"Save Preset 3","func":"msg.payload = flow.get(\"save_preset_3\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":260,"wires":[["d15f4934.93ea98"]]},{"id":"ddade702.990b78","type":"ui_button","z":"f15a84eb.884568","name":"Save Preset 3","group":"36696ac2.f5d396","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 3","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":260,"wires":[["8ea1fb16.691528"]]},{"id":"cb68ab05.d043e8","type":"function","z":"f15a84eb.884568","name":"Save Preset 4","func":"msg.payload = flow.get(\"save_preset_4\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":340,"wires":[["d15f4934.93ea98"]]},{"id":"4581424e.6f9fec","type":"ui_button","z":"f15a84eb.884568","name":"Save Preset 4","group":"36696ac2.f5d396","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 4","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":340,"wires":[["cb68ab05.d043e8"]]},{"id":"eafd0e66.d5c72","type":"function","z":"f15a84eb.884568","name":"Save Preset 5","func":"msg.payload = flow.get(\"save_preset_5\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":420,"wires":[["d15f4934.93ea98"]]},{"id":"fdf9e2bd.9e844","type":"ui_button","z":"f15a84eb.884568","name":"Save Preset 5","group":"36696ac2.f5d396","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 5","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":420,"wires":[["eafd0e66.d5c72"]]},{"id":"3abe499b.6f1b56","type":"function","z":"f15a84eb.884568","name":"Save Preset 6","func":"msg.payload = flow.get(\"save_preset_6\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":500,"wires":[["d15f4934.93ea98"]]},{"id":"cb86ced5.5e8fe","type":"ui_button","z":"f15a84eb.884568","name":"Save Preset 6","group":"36696ac2.f5d396","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 6","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":500,"wires":[["3abe499b.6f1b56"]]},{"id":"bced2f19.b9027","type":"ui_switch","z":"f15a84eb.884568","name":"PTZ On/Off","label":"Power ON/OFF","group":"7c91b6f8.a07ed8","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":730,"y":40,"wires":[["79285b07.64fd94"]]},{"id":"79285b07.64fd94","type":"function","z":"f15a84eb.884568","name":"Power On/Off","func":"var power_msg = {};\nif(msg.payload){\n    power_msg = { payload: flow.get(\"ptz_on\")};\n}\nelse {\n    power_msg = { payload: flow.get(\"ptz_off\")};\n}\n\nreturn power_msg;","outputs":1,"noerr":0,"x":960,"y":40,"wires":[["d15f4934.93ea98"]]},{"id":"7426ae70.8a40c","type":"function","z":"f15a84eb.884568","name":"UP-LEFT","func":"msg.payload = flow.get(\"ptz_up_left\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":600,"wires":[["d15f4934.93ea98"]]},{"id":"b744c277.dc728","type":"ui_button","z":"f15a84eb.884568","name":"UP-LEFT","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"UP-LEFT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":220,"y":600,"wires":[["7426ae70.8a40c"]]},{"id":"22bc9543.78c4ea","type":"function","z":"f15a84eb.884568","name":"UP","func":"msg.payload = flow.get(\"ptz_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":640,"wires":[["d15f4934.93ea98"]]},{"id":"50ab33aa.3b580c","type":"ui_button","z":"f15a84eb.884568","name":"UP","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"UP","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":210,"y":640,"wires":[["22bc9543.78c4ea"]]},{"id":"55dd74c.9f9c48c","type":"function","z":"f15a84eb.884568","name":"UP-RIGHT","func":"msg.payload = flow.get(\"ptz_up_right\");\n\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":680,"wires":[["d15f4934.93ea98"]]},{"id":"9a053c4b.37313","type":"ui_button","z":"f15a84eb.884568","name":"UP-RIGHT","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"UP-RIGHT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":230,"y":680,"wires":[["55dd74c.9f9c48c"]]},{"id":"65302e5c.32581","type":"function","z":"f15a84eb.884568","name":"LEFT","func":"msg.payload = flow.get(\"ptz_left\");\n\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":720,"wires":[["d15f4934.93ea98"]]},{"id":"f780281d.5d9d48","type":"ui_button","z":"f15a84eb.884568","name":"LEFT","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"LEFT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":210,"y":720,"wires":[["65302e5c.32581"]]},{"id":"19e30d04.0228c3","type":"function","z":"f15a84eb.884568","name":"RIGHT","func":"msg.payload = flow.get(\"ptz_right\");\n\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":760,"wires":[["d15f4934.93ea98"]]},{"id":"d2c4046.73d05f8","type":"ui_button","z":"f15a84eb.884568","name":"RIGHT","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"RIGHT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":210,"y":760,"wires":[["19e30d04.0228c3"]]},{"id":"7d6fb909.8a7148","type":"function","z":"f15a84eb.884568","name":"DOWN-LEFT","func":"msg.payload = flow.get(\"ptz_down_left\");\n\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":800,"wires":[["d15f4934.93ea98"]]},{"id":"dbc7a148.83465","type":"ui_button","z":"f15a84eb.884568","name":"DOWN-LEFT","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"DOWN-LEFT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":230,"y":800,"wires":[["7d6fb909.8a7148"]]},{"id":"6ddbf215.c6832c","type":"function","z":"f15a84eb.884568","name":"DOWN","func":"msg.payload = flow.get(\"ptz_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":840,"wires":[["d15f4934.93ea98"]]},{"id":"8202e1da.0e6a5","type":"ui_button","z":"f15a84eb.884568","name":"DOWN","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"DOWN","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":220,"y":840,"wires":[["6ddbf215.c6832c"]]},{"id":"31613944.224c06","type":"function","z":"f15a84eb.884568","name":"DOWN-RIGHT","func":"msg.payload = flow.get(\"ptz_down_right\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":880,"wires":[["d15f4934.93ea98"]]},{"id":"18012d15.53e413","type":"ui_button","z":"f15a84eb.884568","name":"DOWN-RIGHT","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"DOWN-RIGHT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":880,"wires":[["31613944.224c06"]]},{"id":"138912a4.8c775d","type":"function","z":"f15a84eb.884568","name":"STOP","func":"msg.payload = flow.get(\"ptz_stop\");\n\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":940,"wires":[["d15f4934.93ea98"]]},{"id":"4f6af4ce.a2402c","type":"ui_button","z":"f15a84eb.884568","name":"STOP","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"STOP","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":210,"y":940,"wires":[["138912a4.8c775d"]]},{"id":"f8263692.d08da8","type":"function","z":"f15a84eb.884568","name":"ZOOM-IN","func":"msg.payload = flow.get(\"ptz_zoom_in\");\n\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":980,"wires":[["d15f4934.93ea98"]]},{"id":"4be178c5.f291e8","type":"ui_button","z":"f15a84eb.884568","name":"ZOOM-IN","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"ZOOM-IN","color":"#FFFFFF","bgcolor":"blue","icon":"","payload":"1","payloadType":"num","topic":"","x":220,"y":980,"wires":[["f8263692.d08da8"]]},{"id":"4b3ddbe7.91eae4","type":"function","z":"f15a84eb.884568","name":"ZOOM-OUT","func":"msg.payload = flow.get(\"ptz_zoom_out\");\n\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":1020,"wires":[["d15f4934.93ea98"]]},{"id":"1308101e.32305","type":"ui_button","z":"f15a84eb.884568","name":"ZOOM-OUT","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"ZOOM-OUT","color":"#FFFFFF","bgcolor":"blue","icon":"","payload":"1","payloadType":"num","topic":"","x":230,"y":1020,"wires":[["4b3ddbe7.91eae4"]]},{"id":"1afbcda6.dfbe72","type":"function","z":"f15a84eb.884568","name":"STOP ZOOM","func":"msg.payload = flow.get(\"ptz_zoom_stop\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":1060,"wires":[["d15f4934.93ea98"]]},{"id":"2e2079d2.549726","type":"ui_button","z":"f15a84eb.884568","name":"STOP ZOOM","group":"f7ae651b.b27568","order":0,"width":0,"height":0,"passthru":false,"label":"STOP ZOOM","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":1060,"wires":[["1afbcda6.dfbe72"]]},{"id":"addf310e.d203c","type":"ui_switch","z":"f15a84eb.884568","name":"Menu Display On/Off","label":"Menu Display ON/OFF","group":"7c91b6f8.a07ed8","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":760,"y":80,"wires":[["29400727.6a07f8"]]},{"id":"29400727.6a07f8","type":"function","z":"f15a84eb.884568","name":"Menu Display ON/OFF","func":"var menu_msg = {};\nif(msg.payload){\n    menu_msg = { payload: flow.get(\"ptz_onscreen_on\")};\n}\nelse {\n    menu_msg = { payload: flow.get(\"ptz_onscreen_off\")};\n}\n\nreturn menu_msg;","outputs":1,"noerr":0,"x":980,"y":80,"wires":[["d15f4934.93ea98"]]},{"id":"6c8cc698.5191f8","type":"function","z":"f15a84eb.884568","name":"Iris UP","func":"msg.payload = flow.get(\"ptz_iris_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1191,"y":780,"wires":[["d15f4934.93ea98"]]},{"id":"61182e41.db17a","type":"ui_button","z":"f15a84eb.884568","name":"Iris UP","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Iris UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":971,"y":780,"wires":[["6c8cc698.5191f8"]]},{"id":"be36db6e.7aec68","type":"function","z":"f15a84eb.884568","name":"Iris DOWN","func":"msg.payload = flow.get(\"ptz_iris_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1211,"y":820,"wires":[["d15f4934.93ea98"]]},{"id":"93b3c79c.c7f9b8","type":"ui_button","z":"f15a84eb.884568","name":"Iris DOWN","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Iris DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":991,"y":820,"wires":[["be36db6e.7aec68"]]},{"id":"b9f69ff1.09891","type":"function","z":"f15a84eb.884568","name":"Gain UP","func":"msg.payload = flow.get(\"ptz_gain_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":860,"wires":[["d15f4934.93ea98"]]},{"id":"5a8e3cb8.c896a4","type":"ui_button","z":"f15a84eb.884568","name":"Gain UP","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Gain UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":980,"y":860,"wires":[["b9f69ff1.09891"]]},{"id":"a393080a.e59518","type":"function","z":"f15a84eb.884568","name":"Gain DOWN","func":"msg.payload = flow.get(\"ptz_gain_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":900,"wires":[["d15f4934.93ea98"]]},{"id":"7191be92.fdb97","type":"ui_button","z":"f15a84eb.884568","name":"Gain DOWN","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Gain DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":990,"y":900,"wires":[["a393080a.e59518"]]},{"id":"86c1dc87.6a6cc","type":"function","z":"f15a84eb.884568","name":"Shutter UP","func":"msg.payload = flow.get(\"ptz_shutter_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":940,"wires":[["d15f4934.93ea98"]]},{"id":"92ec3d08.ccdfc","type":"ui_button","z":"f15a84eb.884568","name":"Shutter UP","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Shutter UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":990,"y":940,"wires":[["86c1dc87.6a6cc"]]},{"id":"91658d04.1b915","type":"function","z":"f15a84eb.884568","name":"Shutter DOWN","func":"msg.payload = flow.get(\"ptz_shutter_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":980,"wires":[["d15f4934.93ea98"]]},{"id":"dedc7240.19ae1","type":"ui_button","z":"f15a84eb.884568","name":"Shutter DOWN","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Shutter DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1000,"y":980,"wires":[["91658d04.1b915"]]},{"id":"6dce75b6.f0330c","type":"function","z":"f15a84eb.884568","name":"Bright UP","func":"msg.payload = flow.get(\"ptz_bright_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1020,"wires":[["d15f4934.93ea98"]]},{"id":"1045e2ff.0511bd","type":"ui_button","z":"f15a84eb.884568","name":"Bright UP","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Bright UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":980,"y":1020,"wires":[["6dce75b6.f0330c"]]},{"id":"46570d42.6cdd94","type":"function","z":"f15a84eb.884568","name":"Bright DOWN","func":"msg.payload = flow.get(\"ptz_bright_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":1060,"wires":[["d15f4934.93ea98"]]},{"id":"3253a9ea.841946","type":"ui_button","z":"f15a84eb.884568","name":"Bright DOWN","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"Bright DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1000,"y":1060,"wires":[["46570d42.6cdd94"]]},{"id":"f19753ab.e15ab","type":"function","z":"f15a84eb.884568","name":"Iris Priority","func":"msg.payload = flow.get(\"ptz_iris_priority\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1180,"wires":[["d15f4934.93ea98"]]},{"id":"f332ad5e.18ca8","type":"ui_button","z":"f15a84eb.884568","name":"Iris Priority","group":"7d63656f.2f5f1c","order":2,"width":0,"height":0,"passthru":false,"label":"Iris Priority","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":990,"y":1180,"wires":[["f19753ab.e15ab"]]},{"id":"6811e136.e1746","type":"function","z":"f15a84eb.884568","name":"Shutter Priority","func":"msg.payload = flow.get(\"ptz_shutter_priority\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":1220,"wires":[["d15f4934.93ea98"]]},{"id":"b6e61f87.a94a5","type":"ui_button","z":"f15a84eb.884568","name":"Shutter Priority","group":"7d63656f.2f5f1c","order":3,"width":0,"height":0,"passthru":false,"label":"Shutter Priority","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":1000,"y":1220,"wires":[["6811e136.e1746"]]},{"id":"1296f77c.2bc4d9","type":"function","z":"f15a84eb.884568","name":"Bright Mode","func":"msg.payload = flow.get(\"ptz_bright_mode\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1260,"wires":[["d15f4934.93ea98"]]},{"id":"bfab0.b70005508","type":"ui_button","z":"f15a84eb.884568","name":"Bright Mode","group":"7d63656f.2f5f1c","order":4,"width":0,"height":0,"passthru":false,"label":"Bright Mode","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":990,"y":1260,"wires":[["1296f77c.2bc4d9"]]},{"id":"55b4d33b.6b936c","type":"function","z":"f15a84eb.884568","name":"Auto White Balance","func":"msg.payload = flow.get(\"ptz_awb\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1190,"y":1340,"wires":[["d15f4934.93ea98"]]},{"id":"47e396a.45b8f68","type":"ui_button","z":"f15a84eb.884568","name":"Auto White Balance","group":"7d63656f.2f5f1c","order":6,"width":0,"height":0,"passthru":false,"label":"Auto White Balance","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":950,"y":1340,"wires":[["55b4d33b.6b936c"]]},{"id":"4b8faac9.8a0074","type":"function","z":"f15a84eb.884568","name":"Full Auto","func":"msg.payload = flow.get(\"ptz_full_auto\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1140,"wires":[["d15f4934.93ea98"]]},{"id":"1ed58811.7e1008","type":"ui_button","z":"f15a84eb.884568","name":"Full Auto","group":"7d63656f.2f5f1c","order":1,"width":0,"height":0,"passthru":false,"label":"Full Auto","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":980,"y":1140,"wires":[["4b8faac9.8a0074"]]},{"id":"a59a895d.a878e8","type":"function","z":"f15a84eb.884568","name":"1-touch White Balance","func":"msg.payload = flow.get(\"ptz_onetouch_wb\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1380,"wires":[["d15f4934.93ea98"]]},{"id":"9ece2c4e.7d7a4","type":"ui_button","z":"f15a84eb.884568","name":"1-touch White Balance","group":"7d63656f.2f5f1c","order":7,"width":0,"height":0,"passthru":false,"label":"1-touch White Balance","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":960,"y":1380,"wires":[["a59a895d.a878e8"]]},{"id":"6f573723.e15298","type":"function","z":"f15a84eb.884568","name":"1-touch White Bal. Trigger","func":"msg.payload = flow.get(\"ptz_onetouch_wb_trigger\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1420,"wires":[["d15f4934.93ea98"]]},{"id":"b3c11c43.4e544","type":"ui_button","z":"f15a84eb.884568","name":"1-touch White Bal Trigger","group":"7d63656f.2f5f1c","order":8,"width":0,"height":0,"passthru":false,"label":"1-touch White Bal Trigger","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":970,"y":1420,"wires":[["6f573723.e15298"]]},{"id":"f2614172.d3a77","type":"function","z":"f15a84eb.884568","name":"Manual White Balance","func":"msg.payload = flow.get(\"ptz_manual_wb\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1460,"wires":[["d15f4934.93ea98"]]},{"id":"7cacf197.42262","type":"ui_button","z":"f15a84eb.884568","name":"Manual White Balance","group":"7d63656f.2f5f1c","order":9,"width":0,"height":0,"passthru":false,"label":"Manual White Balance","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":960,"y":1460,"wires":[["f2614172.d3a77"]]},{"id":"309bd2d3.259cce","type":"function","z":"f15a84eb.884568","name":"Manual Exposure","func":"msg.payload = flow.get(\"ptz_manual_exposure\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1190,"y":1500,"wires":[["d15f4934.93ea98"]]},{"id":"95940fc8.42b29","type":"ui_button","z":"f15a84eb.884568","name":"Manual Exposure","group":"7d63656f.2f5f1c","order":5,"width":0,"height":0,"passthru":false,"label":"Manual Exposure","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":950,"y":1500,"wires":[["309bd2d3.259cce"]]},{"id":"54c8b5b.a42924c","type":"function","z":"f15a84eb.884568","name":"FX Off","func":"msg.payload = flow.get(\"ptz_fx_off\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":1620,"wires":[["d15f4934.93ea98"]]},{"id":"7820a11.edd986","type":"ui_button","z":"f15a84eb.884568","name":"FX Off","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"FX Off","color":"#FFFFFF","bgcolor":"black","icon":"","payload":"1","payloadType":"num","topic":"","x":910,"y":1620,"wires":[["54c8b5b.a42924c"]]},{"id":"ca2cba70.4fb6d8","type":"function","z":"f15a84eb.884568","name":"FX Negative","func":"msg.payload = flow.get(\"ptz_fx_neg\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1170,"y":1660,"wires":[["d15f4934.93ea98"]]},{"id":"92ef7f28.474e3","type":"ui_button","z":"f15a84eb.884568","name":"FX Negative","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"FX Negative","color":"#FFFFFF","bgcolor":"black","icon":"","payload":"1","payloadType":"num","topic":"","x":930,"y":1660,"wires":[["ca2cba70.4fb6d8"]]},{"id":"69945446.0d0c0c","type":"function","z":"f15a84eb.884568","name":"FX Black & White","func":"msg.payload = flow.get(\"ptz_fx_bw\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1190,"y":1700,"wires":[["d15f4934.93ea98"]]},{"id":"8fa59a97.57d6b8","type":"ui_button","z":"f15a84eb.884568","name":"FX Black & White","group":"2b503a41.386926","order":0,"width":0,"height":0,"passthru":false,"label":"FX Black & White","color":"#FFFFFF","bgcolor":"black","icon":"","payload":"1","payloadType":"num","topic":"","x":950,"y":1700,"wires":[["69945446.0d0c0c"]]},{"id":"11e7cc30.0bd454","type":"inject","z":"2057e882.e0d458","name":"store global PTZ variables","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":140,"y":40,"wires":[["689870c1.42808"]]},{"id":"fe33b37a.1a903","type":"udp out","z":"2057e882.e0d458","name":"CAM2","addr":"192.168.0.200","iface":"","port":"52381","ipv":"udp4","outport":"5250","base64":false,"multicast":"false","x":2250,"y":1040,"wires":[]},{"id":"f93425f7.6b7a28","type":"function","z":"2057e882.e0d458","name":"Recall Preset 1","func":"msg.payload = flow.get(\"recall_preset_1\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":140,"wires":[["c3b5ce99.bd306"]]},{"id":"c3b5ce99.bd306","type":"function","z":"2057e882.e0d458","name":"format with init message","func":"var m = [];\n\nm[0] = { payload: flow.get(\"ptz_init\") };\n\nm[1] = { payload: msg.payload };\n\nreturn m;","outputs":2,"noerr":0,"x":1990,"y":1040,"wires":[["fe33b37a.1a903"],["fe33b37a.1a903"]]},{"id":"689870c1.42808","type":"function","z":"2057e882.e0d458","name":"FLOW PTZ CONTROL VARIABLES","func":"flow.set(\"ptz_init\", Buffer.from('020000010000000001', 'hex'));\n\nflow.set(\"recall_preset_1\", Buffer.from('01000007000000648101043f0200ff', 'hex'));\nflow.set(\"recall_preset_2\", Buffer.from('01000007000000648101043f0201ff', 'hex'));\nflow.set(\"recall_preset_3\", Buffer.from('01000007000000648101043f0202ff', 'hex'));\nflow.set(\"recall_preset_4\", Buffer.from('01000007000000648101043f0203ff', 'hex'));\nflow.set(\"recall_preset_5\", Buffer.from('01000007000000648101043f0204ff', 'hex'));\nflow.set(\"recall_preset_6\", Buffer.from('01000007000000648101043f0205ff', 'hex'));\n\nflow.set(\"save_preset_1\", Buffer.from('01000007000000108101043f0100ff', 'hex'));\nflow.set(\"save_preset_2\", Buffer.from('01000007000000108101043f0101ff', 'hex'));\nflow.set(\"save_preset_3\", Buffer.from('01000007000000108101043f0102ff', 'hex'));\nflow.set(\"save_preset_4\", Buffer.from('01000007000000108101043f0103ff', 'hex'));\nflow.set(\"save_preset_5\", Buffer.from('01000007000000108101043f0104ff', 'hex'));\nflow.set(\"save_preset_6\", Buffer.from('01000007000000108101043f0105ff', 'hex'));\n\nflow.set('ptz_on', Buffer.from('010000060000000c8101040002ff', 'hex'));\nflow.set('ptz_off', Buffer.from('010000060000000c8101040003ff', 'hex'));\n\nflow.set('ptz_up_left', Buffer.from('0100000900000099810106010c080101ff', 'hex'));\nflow.set('ptz_up', Buffer.from('010000090000009b810106010c080301ff', 'hex'));\nflow.set('ptz_up_right', Buffer.from('010000090000009d810106010c080201ff', 'hex'));\nflow.set('ptz_left', Buffer.from('01000009000000a3810106010c080103ff', 'hex'));\nflow.set('ptz_right', Buffer.from('01000009000000a5810106010c080203ff', 'hex'));\nflow.set('ptz_down_left', Buffer.from('01000009000000a7810106010c080102ff', 'hex'));\nflow.set('ptz_down', Buffer.from('01000009000000a9810106010c080302ff', 'hex'));\nflow.set('ptz_down_right', Buffer.from('01000009000000ab810106010c080202ff', 'hex'));\nflow.set('ptz_stop', Buffer.from('01000009000000ac810106010c080303ff', 'hex'));\n\nflow.set('ptz_zoom_in', Buffer.from('01000006000000b78101040723ff', 'hex'));\nflow.set('ptz_zoom_out', Buffer.from('01000006000000b98101040733ff', 'hex'));\nflow.set('ptz_zoom_stop', Buffer.from('01000006000000ba8101040700ff', 'hex'));\n\nflow.set('ptz_iris_up', Buffer.from('01000006000003148101040b02ff', 'hex'));\nflow.set('ptz_iris_down', Buffer.from('01000006000003168101040b03ff', 'hex'));\nflow.set('ptz_shutter_up', Buffer.from('01000006000003148101040a02ff', 'hex'));\nflow.set('ptz_shutter_down', Buffer.from('01000006000003168101040a03ff', 'hex'));\nflow.set('ptz_gain_up', Buffer.from('01000006000003148101040c02ff', 'hex'));\nflow.set('ptz_gain_down', Buffer.from('01000006000003168101040c03ff', 'hex'));\nflow.set('ptz_iris_priority', Buffer.from('0100000600000009810104390Bff', 'hex'));\nflow.set('ptz_shutter_priority', Buffer.from('0100000600000009810104390Aff', 'hex'));\nflow.set('ptz_bright_mode', Buffer.from('0100000600000009810104390Dff', 'hex'));\nflow.set('ptz_bright_up', Buffer.from('01000006000000098101040D02ff', 'hex'));\nflow.set('ptz_bright_down', Buffer.from('01000006000000098101040D03ff', 'hex'));\nflow.set('ptz_awb', Buffer.from('01000006000003148101043500ff', 'hex'));\nflow.set('ptz_onetouch_wb', Buffer.from('01000006000003148101043503ff', 'hex'));\nflow.set('ptz_onetouch_wb_trigger', Buffer.from('01000006000003148101041005ff', 'hex'));   \nflow.set('ptz_manual_wb', Buffer.from('01000006000003148101043505ff', 'hex'));\nflow.set('ptz_full_auto', Buffer.from('01000006000000098101043900ff', 'hex'));\nflow.set('ptz_manual_exposure', Buffer.from('01000006000003168101043903ff', 'hex'));\nflow.set('ptz_fx_off', Buffer.from('01000006000003148101046300ff', 'hex'));\nflow.set('ptz_fx_neg', Buffer.from('01000006000000098101046302ff', 'hex'));\nflow.set('ptz_fx_bw', Buffer.from('01000006000003168101046304ff', 'hex'));\n\nflow.set('ptz_onscreen_on', Buffer.from('010000060000000c81017e011802ff', 'hex'));\nflow.set('ptz_onscreen_off', Buffer.from('010000060000000c81017e011803ff', 'hex'));\n","outputs":1,"noerr":0,"x":450,"y":40,"wires":[[]]},{"id":"393998d6.b3b348","type":"ui_button","z":"2057e882.e0d458","name":"Recall Preset 1","group":"46fe4902.f25ed8","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 1","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":140,"wires":[["f93425f7.6b7a28"]]},{"id":"8c884e6c.ccfbb","type":"function","z":"2057e882.e0d458","name":"Recall Preset 2","func":"msg.payload = flow.get(\"recall_preset_2\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":220,"wires":[["c3b5ce99.bd306"]]},{"id":"4f9cfc02.f98954","type":"ui_button","z":"2057e882.e0d458","name":"Recall Preset 2","group":"46fe4902.f25ed8","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 2","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":220,"wires":[["8c884e6c.ccfbb"]]},{"id":"4e5e64f7.a9ce4c","type":"function","z":"2057e882.e0d458","name":"Recall Preset 3","func":"msg.payload = flow.get(\"recall_preset_3\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":300,"wires":[["c3b5ce99.bd306"]]},{"id":"252bc934.0ca856","type":"ui_button","z":"2057e882.e0d458","name":"Recall Preset 3","group":"46fe4902.f25ed8","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 3","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":300,"wires":[["4e5e64f7.a9ce4c"]]},{"id":"2d808a0.5595c76","type":"function","z":"2057e882.e0d458","name":"Recall Preset 4","func":"msg.payload = flow.get(\"recall_preset_4\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":380,"wires":[["c3b5ce99.bd306"]]},{"id":"79fe7d9.2573d84","type":"ui_button","z":"2057e882.e0d458","name":"Recall Preset 4","group":"46fe4902.f25ed8","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 4","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":380,"wires":[["2d808a0.5595c76"]]},{"id":"3c68f9b8.f0c756","type":"function","z":"2057e882.e0d458","name":"Recall Preset 5","func":"msg.payload = flow.get(\"recall_preset_5\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":460,"wires":[["c3b5ce99.bd306"]]},{"id":"efb7ef7e.149c5","type":"ui_button","z":"2057e882.e0d458","name":"Recall Preset 5","group":"46fe4902.f25ed8","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 5","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":460,"wires":[["3c68f9b8.f0c756"]]},{"id":"f86ccb5e.563428","type":"function","z":"2057e882.e0d458","name":"Recall Preset 6","func":"msg.payload = flow.get(\"recall_preset_6\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":540,"wires":[["c3b5ce99.bd306"]]},{"id":"eccec97f.ca6098","type":"ui_button","z":"2057e882.e0d458","name":"Recall Preset 6","group":"46fe4902.f25ed8","order":0,"width":0,"height":0,"passthru":false,"label":"Recall Preset 6","color":"#FFFFFF","bgcolor":"green","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":540,"wires":[["f86ccb5e.563428"]]},{"id":"c2b51a5a.599168","type":"function","z":"2057e882.e0d458","name":"Save Preset 1","func":"msg.payload = flow.get(\"save_preset_1\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":100,"wires":[["c3b5ce99.bd306"]]},{"id":"b3890747.9ab998","type":"ui_button","z":"2057e882.e0d458","name":"Save Preset 1","group":"ae526e18.5ea7","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 1","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":100,"wires":[["c2b51a5a.599168"]]},{"id":"d46001b4.04997","type":"function","z":"2057e882.e0d458","name":"Save Preset 2","func":"msg.payload = flow.get(\"save_preset_2\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":180,"wires":[["c3b5ce99.bd306"]]},{"id":"db73a385.756a1","type":"ui_button","z":"2057e882.e0d458","name":"Save Preset 2","group":"ae526e18.5ea7","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 2","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":180,"wires":[["d46001b4.04997"]]},{"id":"6fe737c8.25a138","type":"function","z":"2057e882.e0d458","name":"Save Preset 3","func":"msg.payload = flow.get(\"save_preset_3\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":260,"wires":[["c3b5ce99.bd306"]]},{"id":"a549de1e.f2e12","type":"ui_button","z":"2057e882.e0d458","name":"Save Preset 3","group":"ae526e18.5ea7","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 3","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":260,"wires":[["6fe737c8.25a138"]]},{"id":"8137aad4.9d2378","type":"function","z":"2057e882.e0d458","name":"Save Preset 4","func":"msg.payload = flow.get(\"save_preset_4\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":340,"wires":[["c3b5ce99.bd306"]]},{"id":"4678531e.49112c","type":"ui_button","z":"2057e882.e0d458","name":"Save Preset 4","group":"ae526e18.5ea7","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 4","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":340,"wires":[["8137aad4.9d2378"]]},{"id":"2b9597c.6e02a68","type":"function","z":"2057e882.e0d458","name":"Save Preset 5","func":"msg.payload = flow.get(\"save_preset_5\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":420,"wires":[["c3b5ce99.bd306"]]},{"id":"e8250c54.a1cd7","type":"ui_button","z":"2057e882.e0d458","name":"Save Preset 5","group":"ae526e18.5ea7","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 5","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":420,"wires":[["2b9597c.6e02a68"]]},{"id":"aeb85e23.8dc18","type":"function","z":"2057e882.e0d458","name":"Save Preset 6","func":"msg.payload = flow.get(\"save_preset_6\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":500,"wires":[["c3b5ce99.bd306"]]},{"id":"4bf76dad.275bc4","type":"ui_button","z":"2057e882.e0d458","name":"Save Preset 6","group":"ae526e18.5ea7","order":0,"width":0,"height":0,"passthru":false,"label":"Save Preset 6","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":500,"wires":[["aeb85e23.8dc18"]]},{"id":"2cd9fd15.dc5bc2","type":"ui_switch","z":"2057e882.e0d458","name":"PTZ On/Off","label":"Power ON/OFF","group":"c6a9c771.0a3ef8","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":750,"y":40,"wires":[["10d21e51.57a552"]]},{"id":"10d21e51.57a552","type":"function","z":"2057e882.e0d458","name":"Power On/Off","func":"var power_msg = {};\nif(msg.payload){\n    power_msg = { payload: flow.get(\"ptz_on\")};\n}\nelse {\n    power_msg = { payload: flow.get(\"ptz_off\")};\n}\n\nreturn power_msg;","outputs":1,"noerr":0,"x":980,"y":40,"wires":[["c3b5ce99.bd306"]]},{"id":"8f241469.3ccd98","type":"function","z":"2057e882.e0d458","name":"UP-LEFT","func":"msg.payload = flow.get(\"ptz_up_left\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":600,"wires":[["c3b5ce99.bd306"]]},{"id":"d3be5fb2.d7c41","type":"ui_button","z":"2057e882.e0d458","name":"UP-LEFT","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"UP-LEFT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":600,"wires":[["8f241469.3ccd98"]]},{"id":"8b1e7e7b.c092d","type":"function","z":"2057e882.e0d458","name":"UP","func":"msg.payload = flow.get(\"ptz_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":640,"wires":[["c3b5ce99.bd306"]]},{"id":"e652418d.f93b9","type":"ui_button","z":"2057e882.e0d458","name":"UP","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"UP","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":230,"y":640,"wires":[["8b1e7e7b.c092d"]]},{"id":"772f2453.4e117c","type":"function","z":"2057e882.e0d458","name":"UP-RIGHT","func":"msg.payload = flow.get(\"ptz_up_right\");\n\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":680,"wires":[["c3b5ce99.bd306"]]},{"id":"5317ac78.a6d004","type":"ui_button","z":"2057e882.e0d458","name":"UP-RIGHT","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"UP-RIGHT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":250,"y":680,"wires":[["772f2453.4e117c"]]},{"id":"b0995b9e.e72b38","type":"function","z":"2057e882.e0d458","name":"LEFT","func":"msg.payload = flow.get(\"ptz_left\");\n\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":720,"wires":[["c3b5ce99.bd306"]]},{"id":"b4993226.71633","type":"ui_button","z":"2057e882.e0d458","name":"LEFT","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"LEFT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":230,"y":720,"wires":[["b0995b9e.e72b38"]]},{"id":"3af3848f.85459c","type":"function","z":"2057e882.e0d458","name":"RIGHT","func":"msg.payload = flow.get(\"ptz_right\");\n\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":760,"wires":[["c3b5ce99.bd306"]]},{"id":"1291d50e.97329b","type":"ui_button","z":"2057e882.e0d458","name":"RIGHT","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"RIGHT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":230,"y":760,"wires":[["3af3848f.85459c"]]},{"id":"9da70086.1aad9","type":"function","z":"2057e882.e0d458","name":"DOWN-LEFT","func":"msg.payload = flow.get(\"ptz_down_left\");\n\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":800,"wires":[["c3b5ce99.bd306"]]},{"id":"d9a811a6.e759f","type":"ui_button","z":"2057e882.e0d458","name":"DOWN-LEFT","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"DOWN-LEFT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":250,"y":800,"wires":[["9da70086.1aad9"]]},{"id":"efe740e9.777fc","type":"function","z":"2057e882.e0d458","name":"DOWN","func":"msg.payload = flow.get(\"ptz_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":840,"wires":[["c3b5ce99.bd306"]]},{"id":"43ae4c39.775564","type":"ui_button","z":"2057e882.e0d458","name":"DOWN","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"DOWN","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":840,"wires":[["efe740e9.777fc"]]},{"id":"19f5656a.4c3c0b","type":"function","z":"2057e882.e0d458","name":"DOWN-RIGHT","func":"msg.payload = flow.get(\"ptz_down_right\");\n\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":880,"wires":[["c3b5ce99.bd306"]]},{"id":"f88e0233.f27b7","type":"ui_button","z":"2057e882.e0d458","name":"DOWN-RIGHT","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"DOWN-RIGHT","color":"#FFFFFF","bgcolor":"orange","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":880,"wires":[["19f5656a.4c3c0b"]]},{"id":"42f58934.44bf48","type":"function","z":"2057e882.e0d458","name":"STOP","func":"msg.payload = flow.get(\"ptz_stop\");\n\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":940,"wires":[["c3b5ce99.bd306"]]},{"id":"d3b66cef.b1684","type":"ui_button","z":"2057e882.e0d458","name":"STOP","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"STOP","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":230,"y":940,"wires":[["42f58934.44bf48"]]},{"id":"80ef1fe4.ab70b","type":"function","z":"2057e882.e0d458","name":"ZOOM-IN","func":"msg.payload = flow.get(\"ptz_zoom_in\");\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":980,"wires":[["c3b5ce99.bd306"]]},{"id":"d61563b0.68278","type":"ui_button","z":"2057e882.e0d458","name":"ZOOM-IN","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"ZOOM-IN","color":"#FFFFFF","bgcolor":"blue","icon":"","payload":"1","payloadType":"num","topic":"","x":240,"y":980,"wires":[["80ef1fe4.ab70b"]]},{"id":"334cd25.297712e","type":"function","z":"2057e882.e0d458","name":"ZOOM-OUT","func":"msg.payload = flow.get(\"ptz_zoom_out\");\n\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":1020,"wires":[["c3b5ce99.bd306"]]},{"id":"fe2af625.6e8dd8","type":"ui_button","z":"2057e882.e0d458","name":"ZOOM-OUT","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"ZOOM-OUT","color":"#FFFFFF","bgcolor":"blue","icon":"","payload":"1","payloadType":"num","topic":"","x":250,"y":1020,"wires":[["334cd25.297712e"]]},{"id":"36849b7e.af75a4","type":"function","z":"2057e882.e0d458","name":"STOP ZOOM","func":"msg.payload = flow.get(\"ptz_zoom_stop\");\n\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":1060,"wires":[["c3b5ce99.bd306"]]},{"id":"6d934c69.053024","type":"ui_button","z":"2057e882.e0d458","name":"STOP ZOOM","group":"684a12df.665b0c","order":0,"width":0,"height":0,"passthru":false,"label":"STOP ZOOM","color":"#FFFFFF","bgcolor":"red","icon":"","payload":"1","payloadType":"num","topic":"","x":260,"y":1060,"wires":[["36849b7e.af75a4"]]},{"id":"bb244d06.2ea4f","type":"ui_switch","z":"2057e882.e0d458","name":"Menu Display On/Off","label":"Menu Display ON/OFF","group":"c6a9c771.0a3ef8","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":780,"y":80,"wires":[["270e0b45.4c28f4"]]},{"id":"270e0b45.4c28f4","type":"function","z":"2057e882.e0d458","name":"Menu Display ON/OFF","func":"var menu_msg = {};\nif(msg.payload){\n    menu_msg = { payload: flow.get(\"ptz_onscreen_on\")};\n}\nelse {\n    menu_msg = { payload: flow.get(\"ptz_onscreen_off\")};\n}\n\nreturn menu_msg;","outputs":1,"noerr":0,"x":1000,"y":80,"wires":[["c3b5ce99.bd306"]]},{"id":"e77bf4e9.9d1778","type":"function","z":"2057e882.e0d458","name":"Iris UP","func":"msg.payload = flow.get(\"ptz_iris_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1211,"y":780,"wires":[["c3b5ce99.bd306"]]},{"id":"7175e92.1080818","type":"ui_button","z":"2057e882.e0d458","name":"Iris UP","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Iris UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":991,"y":780,"wires":[["e77bf4e9.9d1778"]]},{"id":"8b1a0566.f4bca8","type":"function","z":"2057e882.e0d458","name":"Iris DOWN","func":"msg.payload = flow.get(\"ptz_iris_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1231,"y":820,"wires":[["c3b5ce99.bd306"]]},{"id":"563cb69a.f284a8","type":"ui_button","z":"2057e882.e0d458","name":"Iris DOWN","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Iris DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1011,"y":820,"wires":[["8b1a0566.f4bca8"]]},{"id":"d77da84.27ebd58","type":"function","z":"2057e882.e0d458","name":"Gain UP","func":"msg.payload = flow.get(\"ptz_gain_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":860,"wires":[["c3b5ce99.bd306"]]},{"id":"a13da22c.1b2ed","type":"ui_button","z":"2057e882.e0d458","name":"Gain UP","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Gain UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1000,"y":860,"wires":[["d77da84.27ebd58"]]},{"id":"c6da3528.ad04c8","type":"function","z":"2057e882.e0d458","name":"Gain DOWN","func":"msg.payload = flow.get(\"ptz_gain_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1230,"y":900,"wires":[["c3b5ce99.bd306"]]},{"id":"b65e2ae8.a48f48","type":"ui_button","z":"2057e882.e0d458","name":"Gain DOWN","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Gain DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1010,"y":900,"wires":[["c6da3528.ad04c8"]]},{"id":"e162abdf.ee4258","type":"function","z":"2057e882.e0d458","name":"Shutter UP","func":"msg.payload = flow.get(\"ptz_shutter_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1230,"y":940,"wires":[["c3b5ce99.bd306"]]},{"id":"5b5bcd1a.624244","type":"ui_button","z":"2057e882.e0d458","name":"Shutter UP","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Shutter UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1010,"y":940,"wires":[["e162abdf.ee4258"]]},{"id":"9d573d3d.dc79c","type":"function","z":"2057e882.e0d458","name":"Shutter DOWN","func":"msg.payload = flow.get(\"ptz_shutter_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1240,"y":980,"wires":[["c3b5ce99.bd306"]]},{"id":"be8a9b04.aa90c8","type":"ui_button","z":"2057e882.e0d458","name":"Shutter DOWN","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Shutter DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1020,"y":980,"wires":[["9d573d3d.dc79c"]]},{"id":"3463c3d4.4c226c","type":"function","z":"2057e882.e0d458","name":"Bright UP","func":"msg.payload = flow.get(\"ptz_bright_up\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":1020,"wires":[["c3b5ce99.bd306"]]},{"id":"67c8b1d9.ddf19","type":"ui_button","z":"2057e882.e0d458","name":"Bright UP","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Bright UP","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1000,"y":1020,"wires":[["3463c3d4.4c226c"]]},{"id":"719cde77.89325","type":"function","z":"2057e882.e0d458","name":"Bright DOWN","func":"msg.payload = flow.get(\"ptz_bright_down\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1240,"y":1060,"wires":[["c3b5ce99.bd306"]]},{"id":"d15b8e75.4d66b","type":"ui_button","z":"2057e882.e0d458","name":"Bright DOWN","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"Bright DOWN","color":"#FFFFFF","bgcolor":"purple","icon":"","payload":"1","payloadType":"num","topic":"","x":1020,"y":1060,"wires":[["719cde77.89325"]]},{"id":"df84c309.26277","type":"function","z":"2057e882.e0d458","name":"Iris Priority","func":"msg.payload = flow.get(\"ptz_iris_priority\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1230,"y":1180,"wires":[["c3b5ce99.bd306"]]},{"id":"60ad76df.6cdff8","type":"ui_button","z":"2057e882.e0d458","name":"Iris Priority","group":"ff3e87f3.deae78","order":2,"width":0,"height":0,"passthru":false,"label":"Iris Priority","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":1010,"y":1180,"wires":[["df84c309.26277"]]},{"id":"e89c40a5.098c9","type":"function","z":"2057e882.e0d458","name":"Shutter Priority","func":"msg.payload = flow.get(\"ptz_shutter_priority\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1240,"y":1220,"wires":[["c3b5ce99.bd306"]]},{"id":"b121b903.d85228","type":"ui_button","z":"2057e882.e0d458","name":"Shutter Priority","group":"ff3e87f3.deae78","order":3,"width":0,"height":0,"passthru":false,"label":"Shutter Priority","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":1020,"y":1220,"wires":[["e89c40a5.098c9"]]},{"id":"d92ca9ec.da13c8","type":"function","z":"2057e882.e0d458","name":"Bright Mode","func":"msg.payload = flow.get(\"ptz_bright_mode\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1230,"y":1260,"wires":[["c3b5ce99.bd306"]]},{"id":"697de29d.70fd4c","type":"ui_button","z":"2057e882.e0d458","name":"Bright Mode","group":"ff3e87f3.deae78","order":4,"width":0,"height":0,"passthru":false,"label":"Bright Mode","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":1010,"y":1260,"wires":[["d92ca9ec.da13c8"]]},{"id":"1875300f.6fed2","type":"function","z":"2057e882.e0d458","name":"Auto White Balance","func":"msg.payload = flow.get(\"ptz_awb\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1340,"wires":[["c3b5ce99.bd306"]]},{"id":"2ff72300.fbcb5c","type":"ui_button","z":"2057e882.e0d458","name":"Auto White Balance","group":"ff3e87f3.deae78","order":6,"width":0,"height":0,"passthru":false,"label":"Auto White Balance","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":970,"y":1340,"wires":[["1875300f.6fed2"]]},{"id":"f28aa0f.5a6536","type":"function","z":"2057e882.e0d458","name":"Full Auto","func":"msg.payload = flow.get(\"ptz_full_auto\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":1140,"wires":[["c3b5ce99.bd306"]]},{"id":"6555a229.dbcd1c","type":"ui_button","z":"2057e882.e0d458","name":"Full Auto","group":"ff3e87f3.deae78","order":1,"width":0,"height":0,"passthru":false,"label":"Full Auto","color":"#FFFFFF","bgcolor":"pink","icon":"","payload":"1","payloadType":"num","topic":"","x":1000,"y":1140,"wires":[["f28aa0f.5a6536"]]},{"id":"a6b73923.a496b8","type":"function","z":"2057e882.e0d458","name":"1-touch White Balance","func":"msg.payload = flow.get(\"ptz_onetouch_wb\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":1380,"wires":[["c3b5ce99.bd306"]]},{"id":"123c1728.f758c9","type":"ui_button","z":"2057e882.e0d458","name":"1-touch White Balance","group":"ff3e87f3.deae78","order":7,"width":0,"height":0,"passthru":false,"label":"1-touch White Balance","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":980,"y":1380,"wires":[["a6b73923.a496b8"]]},{"id":"ffcc3a55.27a678","type":"function","z":"2057e882.e0d458","name":"1-touch White Bal. Trigger","func":"msg.payload = flow.get(\"ptz_onetouch_wb_trigger\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1230,"y":1420,"wires":[["c3b5ce99.bd306"]]},{"id":"bdce4c62.303a","type":"ui_button","z":"2057e882.e0d458","name":"1-touch White Bal Trigger","group":"ff3e87f3.deae78","order":8,"width":0,"height":0,"passthru":false,"label":"1-touch White Bal Trigger","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":990,"y":1420,"wires":[["ffcc3a55.27a678"]]},{"id":"7b5e0191.bc373","type":"function","z":"2057e882.e0d458","name":"Manual White Balance","func":"msg.payload = flow.get(\"ptz_manual_wb\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":1460,"wires":[["c3b5ce99.bd306"]]},{"id":"57b322c8.b57d6c","type":"ui_button","z":"2057e882.e0d458","name":"Manual White Balance","group":"ff3e87f3.deae78","order":9,"width":0,"height":0,"passthru":false,"label":"Manual White Balance","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":980,"y":1460,"wires":[["7b5e0191.bc373"]]},{"id":"cfb116d.19ce4e8","type":"function","z":"2057e882.e0d458","name":"Manual Exposure","func":"msg.payload = flow.get(\"ptz_manual_exposure\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1500,"wires":[["c3b5ce99.bd306"]]},{"id":"8baf3f99.6b29a","type":"ui_button","z":"2057e882.e0d458","name":"Manual Exposure","group":"ff3e87f3.deae78","order":5,"width":0,"height":0,"passthru":false,"label":"Manual Exposure","color":"#FFFFFF","bgcolor":"grey","icon":"","payload":"1","payloadType":"num","topic":"","x":970,"y":1500,"wires":[["cfb116d.19ce4e8"]]},{"id":"7d3f6dff.113664","type":"function","z":"2057e882.e0d458","name":"FX Off","func":"msg.payload = flow.get(\"ptz_fx_off\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1170,"y":1620,"wires":[["c3b5ce99.bd306"]]},{"id":"f9c4d9ef.3eb3d8","type":"ui_button","z":"2057e882.e0d458","name":"FX Off","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"FX Off","color":"#FFFFFF","bgcolor":"black","icon":"","payload":"1","payloadType":"num","topic":"","x":930,"y":1620,"wires":[["7d3f6dff.113664"]]},{"id":"fe040f18.4a5d7","type":"function","z":"2057e882.e0d458","name":"FX Negative","func":"msg.payload = flow.get(\"ptz_fx_neg\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1190,"y":1660,"wires":[["c3b5ce99.bd306"]]},{"id":"b288f8a0.5d6da8","type":"ui_button","z":"2057e882.e0d458","name":"FX Negative","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"FX Negative","color":"#FFFFFF","bgcolor":"black","icon":"","payload":"1","payloadType":"num","topic":"","x":950,"y":1660,"wires":[["fe040f18.4a5d7"]]},{"id":"ae5d77ec.b894e8","type":"function","z":"2057e882.e0d458","name":"FX Black & White","func":"msg.payload = flow.get(\"ptz_fx_bw\");\n\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":1700,"wires":[["c3b5ce99.bd306"]]},{"id":"a8d4d765.1497a8","type":"ui_button","z":"2057e882.e0d458","name":"FX Black & White","group":"42f6732.b676d8c","order":0,"width":0,"height":0,"passthru":false,"label":"FX Black & White","color":"#FFFFFF","bgcolor":"black","icon":"","payload":"1","payloadType":"num","topic":"","x":970,"y":1700,"wires":[["ae5d77ec.b894e8"]]},{"id":"d2fca79d.2ec948","type":"dmxusbpro","z":"68b10b3.d3953f4","name":"","port":"COM4","DMX_starting_address":"400","x":1270,"y":240,"wires":[[]]},{"id":"3a402de4.fcef82","type":"debug","z":"68b10b3.d3953f4","name":"Current Universe","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1290,"y":340,"wires":[]},{"id":"af1dd946.2539a8","type":"function","z":"68b10b3.d3953f4","name":"format and trigger DMX universe","func":"msg.payload = msg.payload.dmx;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":240,"wires":[["d2fca79d.2ec948"]]},{"id":"b327d4c6.a26678","type":"ui_slider","z":"ed916a0b.101318","name":"DMX2 FINE PAN","label":"","group":"ea3bd860.23d408","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":380,"wires":[["b102f0ab.46198"]]},{"id":"89e80b03.b8bec8","type":"ui_slider","z":"ed916a0b.101318","name":"DMX11 SHUTTER","label":"","group":"ea3bd860.23d408","order":15,"width":0,"height":0,"passthru":true,"topic":"Slider","min":"7","max":"215","step":1,"x":1150,"y":220,"wires":[["55d9844b.9fbcbc"]]},{"id":"45ad78f8.f45fb8","type":"ui_slider","z":"ed916a0b.101318","name":"DMX10 DIMMER","label":"","group":"ea3bd860.23d408","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":260,"wires":[["d8da9abc.e28d28"]]},{"id":"f92ed2dd.76421","type":"ui_slider","z":"ed916a0b.101318","name":"DMX6 COLOR WHEEL SPEED","label":"","group":"27f07b90.e6d524","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"63","step":"1","x":670,"y":800,"wires":[["f5d6999a.ae7958"]]},{"id":"130a9efe.bcf1a1","type":"ui_slider","z":"ed916a0b.101318","name":"DMX5 SPEED","label":"","group":"ea3bd860.23d408","order":13,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1140,"y":460,"wires":[["a8f1a517.d55358"]]},{"id":"dc3e5822.50d098","type":"ui_slider","z":"ed916a0b.101318","name":"DMX4 FINE TILT","label":"","group":"ea3bd860.23d408","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":420,"wires":[["7af80827.6758d8"]]},{"id":"2ecb7cbf.ef0994","type":"ui_slider","z":"ed916a0b.101318","name":"DMX3 TILT","label":"","group":"ea3bd860.23d408","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":340,"wires":[["38a58d29.2e8db2"]]},{"id":"449ef367.35a6bc","type":"change","z":"ed916a0b.101318","name":"save to Global DMX1","rules":[{"t":"set","p":"chauvet_255_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":300,"wires":[["d456030a.5129b"]]},{"id":"37e402b3.12f72e","type":"change","z":"ed916a0b.101318","name":"save to Global DMX2","rules":[{"t":"set","p":"chauvet_255_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":380,"wires":[["d456030a.5129b"]]},{"id":"c9baec6b.d2238","type":"change","z":"ed916a0b.101318","name":"save to Global DMX3","rules":[{"t":"set","p":"chauvet_255_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":340,"wires":[["d456030a.5129b"]]},{"id":"82fa3edc.8c682","type":"change","z":"ed916a0b.101318","name":"save to Global DMX4","rules":[{"t":"set","p":"chauvet_255_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":420,"wires":[["d456030a.5129b"]]},{"id":"26502f28.43f6c","type":"change","z":"ed916a0b.101318","name":"save to Global DMX5","rules":[{"t":"set","p":"chauvet_255_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":460,"wires":[["d456030a.5129b"]]},{"id":"9ccbad9.eb9405","type":"change","z":"ed916a0b.101318","name":"save to Global DMX6","rules":[{"t":"set","p":"chauvet_255_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":780,"wires":[["d456030a.5129b"]]},{"id":"987864b7.253f18","type":"change","z":"ed916a0b.101318","name":"save to Global DMX7","rules":[{"t":"set","p":"chauvet_255_preset[6]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":540,"wires":[["d456030a.5129b"]]},{"id":"23289ab7.183116","type":"change","z":"ed916a0b.101318","name":"save to Global DMX8","rules":[{"t":"set","p":"chauvet_255_preset[7]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":580,"wires":[["d456030a.5129b"]]},{"id":"fc1d3eab.2e39f","type":"change","z":"ed916a0b.101318","name":"save to Global DMX9","rules":[{"t":"set","p":"chauvet_255_preset[8]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":500,"wires":[["d456030a.5129b"]]},{"id":"e76c8be6.9088c8","type":"change","z":"ed916a0b.101318","name":"save to Global DMX10","rules":[{"t":"set","p":"chauvet_255_preset[9]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":260,"wires":[["d456030a.5129b"]]},{"id":"8f823552.cba4b8","type":"change","z":"ed916a0b.101318","name":"save to Global DMX11","rules":[{"t":"set","p":"chauvet_255_preset[10]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":220,"wires":[["d456030a.5129b"]]},{"id":"563f3f58.502d6","type":"function","z":"ed916a0b.101318","name":"Just get preset","func":"global.set(\"chauvet_255_preset\", msg.payload.payload);\n\nvar preset = [];\nvar m = [];\npreset = global.get(\"chauvet_255_preset\");\n\n\nfor (var i=0;i<13;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":13,"noerr":0,"x":901,"y":368,"wires":[["fc566ac3.1dbd48"],["b327d4c6.a26678"],["2ecb7cbf.ef0994"],["dc3e5822.50d098"],["130a9efe.bcf1a1"],["5d455786.ef6888"],["9d19f5cf.940fa8"],["aa2c9890.0961c8"],["9e6cea23.fea4a8"],["45ad78f8.f45fb8"],["89e80b03.b8bec8"],[],[]]},{"id":"a33dcff5.e5d7","type":"function","z":"ed916a0b.101318","name":"insert preset","func":"var preset = [];\npreset = global.get(\"chauvet_255_preset\");\nvar newMsg = {};\nnewMsg.collection = 'chauvet_255_presets';\nnewMsg.payload = [\n  {topic: msg.payload},\n  {\n    \"$set\": {\n      \"payload\": preset\n    }\n  },\n  {upsert:true}\n];\n\nreturn newMsg;\n","outputs":1,"noerr":0,"x":398,"y":81,"wires":[["7f781a0a.22bc44"]]},{"id":"7f781a0a.22bc44","type":"mongodb2 in","z":"ed916a0b.101318","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"chauvet_255_presets","operation":"findOneAndUpdate","x":609,"y":82,"wires":[["573298d.a47dd68"]]},{"id":"f2648bcd.604178","type":"function","z":"ed916a0b.101318","name":"init global variables","func":"global.set(\"dmx_preset\",[0,0,0,0,0,0,0,0,0,0,0,0]); \nmsg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":417,"y":496,"wires":[["21793120.e3a49e","1eab64a0.de779b"]]},{"id":"6637cbdb.f653c4","type":"inject","z":"ed916a0b.101318","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":222,"y":496.5,"wires":[["f2648bcd.604178"]]},{"id":"21793120.e3a49e","type":"debug","z":"ed916a0b.101318","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":624,"y":496,"wires":[]},{"id":"e126d035.6a566","type":"debug","z":"ed916a0b.101318","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":623,"y":578,"wires":[]},{"id":"bf9cd3fd.566f7","type":"function","z":"ed916a0b.101318","name":"check global preset","func":"msg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":416,"y":579,"wires":[["e126d035.6a566","1eab64a0.de779b"]]},{"id":"4b78ca16.2d17c4","type":"inject","z":"ed916a0b.101318","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":215,"y":573.5,"wires":[["bf9cd3fd.566f7"]]},{"id":"1eab64a0.de779b","type":"function","z":"ed916a0b.101318","name":"Reset from global","func":"var preset = [];\nvar m = [];\npreset = global.get(\"chauvet_255_preset\");\n\n\nfor (var i=0;i<13;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":13,"noerr":0,"x":865.5,"y":588,"wires":[["fc566ac3.1dbd48"],["b327d4c6.a26678"],["2ecb7cbf.ef0994"],["dc3e5822.50d098"],["130a9efe.bcf1a1"],["5d455786.ef6888"],["9d19f5cf.940fa8"],["aa2c9890.0961c8"],["9e6cea23.fea4a8"],["45ad78f8.f45fb8"],["89e80b03.b8bec8"],[],[]]},{"id":"2cd200a3.7e9fd","type":"mongodb2 in","z":"ed916a0b.101318","service":"_ext_","configNode":"e8414499.885228","name":"Mongo DB dynamic operation","collection":"chauvet_255_presets","operation":"","x":519,"y":202,"wires":[["4fe5bec8.2d721"]]},{"id":"573298d.a47dd68","type":"function","z":"ed916a0b.101318","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":285,"y":199,"wires":[["2cd200a3.7e9fd"]]},{"id":"f585b7ba.d8cd48","type":"ui_dropdown","z":"ed916a0b.101318","name":"Recall Pulldown","label":"Recall","place":"Select option","group":"ef5d0924.1a70d8","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1140,"y":60,"wires":[["563f3f58.502d6","98840117.9cb5e"]]},{"id":"4fe5bec8.2d721","type":"function","z":"ed916a0b.101318","name":"Format Preset Pulldown","func":"//var preset_array = msg.payload;\nvar msg_array = [];\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic != undefined){\n        tmp_object[msg_object.topic] = {\"topic\": msg_object.topic, \"payload\": msg_object.payload};\n        msg_array[i] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":60,"wires":[["f585b7ba.d8cd48"]]},{"id":"63c5aff5.73d64","type":"inject","z":"ed916a0b.101318","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":136,"y":197.5,"wires":[["573298d.a47dd68"]]},{"id":"76d655ab.43d20c","type":"ui_text_input","z":"ed916a0b.101318","name":"","label":"Edit Preset Name","group":"ef5d0924.1a70d8","order":4,"width":0,"height":0,"passthru":true,"mode":"text","delay":"300","topic":"","x":1523,"y":57,"wires":[["8a55a58e.5761a8"]]},{"id":"370eedc3.e69aa2","type":"ui_button","z":"ed916a0b.101318","name":"Save","group":"ef5d0924.1a70d8","order":5,"width":0,"height":0,"passthru":false,"label":"Save Preset","color":"#FFF","bgcolor":"#FF0000","icon":"","payload":"","payloadType":"date","topic":"","x":78,"y":79.5,"wires":[["d217d2f1.1adf8"]]},{"id":"8a55a58e.5761a8","type":"function","z":"ed916a0b.101318","name":"set global preset name","func":"global.set(\"chauvet_255_preset_name\", msg.payload);","outputs":1,"noerr":0,"x":1755,"y":60,"wires":[[]]},{"id":"d217d2f1.1adf8","type":"function","z":"ed916a0b.101318","name":"save preset","func":"msg.payload = global.get(\"chauvet_255_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":230,"y":80,"wires":[["a33dcff5.e5d7"]]},{"id":"98840117.9cb5e","type":"function","z":"ed916a0b.101318","name":"get preset name","func":"msg.payload = msg.payload.topic;\nreturn msg;","outputs":1,"noerr":0,"x":1328,"y":58.5,"wires":[["76d655ab.43d20c"]]},{"id":"5058950e.95120c","type":"ui_text","z":"ed916a0b.101318","group":"ef5d0924.1a70d8","order":3,"width":0,"height":0,"name":"","label":"SAVE PRESET","format":"{{msg.payload}}","layout":"row-left","x":254,"y":331,"wires":[]},{"id":"9c1707bb.bb6f68","type":"ui_text","z":"ed916a0b.101318","group":"ef5d0924.1a70d8","order":1,"width":0,"height":0,"name":"","label":"RECALL PRESET","format":"{{msg.payload}}","layout":"row-left","x":270,"y":280,"wires":[]},{"id":"e49ae529.ad8f38","type":"function","z":"ed916a0b.101318","name":"delete preset","func":"var newMsg = {};\nnewMsg.operation  = 'deleteOne';\nnewMsg.payload    = {'topic' : msg.payload};\nreturn newMsg;","outputs":1,"noerr":0,"x":399,"y":140,"wires":[["1d30f7e4.34b588"]]},{"id":"1d30f7e4.34b588","type":"mongodb2 in","z":"ed916a0b.101318","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"chauvet_255_presets","operation":"","x":610,"y":141,"wires":[["573298d.a47dd68"]]},{"id":"824fbeb.edc4f4","type":"ui_button","z":"ed916a0b.101318","name":"Delete","group":"ef5d0924.1a70d8","order":6,"width":0,"height":0,"passthru":false,"label":"Delete Preset","color":"#FFF","bgcolor":"#FF00FF","icon":"","payload":"","payloadType":"date","topic":"","x":79,"y":138.5,"wires":[["86c20534.8abb68"]]},{"id":"86c20534.8abb68","type":"function","z":"ed916a0b.101318","name":"delete preset","func":"msg.payload = global.get(\"chauvet_255_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":231,"y":139,"wires":[["e49ae529.ad8f38"]]},{"id":"d456030a.5129b","type":"function","z":"ed916a0b.101318","name":"Send Current Universe","func":"msg.payload = { \n                dmx: global.get(\"chauvet_255_preset\"),\n                offset: 1\n            };\nreturn msg;","outputs":1,"noerr":0,"x":1940,"y":480,"wires":[[]]},{"id":"76ad3007.c137a","type":"subflow:ed916a0b.101318","z":"68b10b3.d3953f4","name":"Chauvet Intimidator 255 - 13ch","x":590,"y":240,"wires":[["af1dd946.2539a8"]]},{"id":"b102f0ab.46198","type":"ui_numeric","z":"ed916a0b.101318","name":"DMX 2: Fine Pan","label":"Fine Pan","group":"ea3bd860.23d408","order":8,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":380,"wires":[["37e402b3.12f72e"]]},{"id":"38a58d29.2e8db2","type":"ui_numeric","z":"ed916a0b.101318","name":"DMX 3: Tilt (0-270 deg)","label":"Tilt (0-270 deg)","group":"ea3bd860.23d408","order":6,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":340,"wires":[["c9baec6b.d2238"]]},{"id":"7af80827.6758d8","type":"ui_numeric","z":"ed916a0b.101318","name":"DMX 4: Fine Tilt","label":"Fine Tilt","group":"ea3bd860.23d408","order":10,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1340,"y":420,"wires":[["82fa3edc.8c682"]]},{"id":"a8f1a517.d55358","type":"ui_numeric","z":"ed916a0b.101318","name":"DMX 5 Speed (Fast to Slow)","label":"Speed (Fast to Slow)","group":"ea3bd860.23d408","order":12,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1380,"y":460,"wires":[["26502f28.43f6c"]]},{"id":"5d455786.ef6888","type":"ui_numeric","z":"ed916a0b.101318","name":"","label":"Color DMX Output Value","group":"27f07b90.e6d524","order":1,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1410,"y":780,"wires":[["9ccbad9.eb9405"]]},{"id":"d8da9abc.e28d28","type":"ui_numeric","z":"ed916a0b.101318","name":"DMX 10 Dimmer (0-100%)","label":"Dimmer (0-100%)","group":"ea3bd860.23d408","order":2,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1380,"y":260,"wires":[["e76c8be6.9088c8"]]},{"id":"55d9844b.9fbcbc","type":"ui_numeric","z":"ed916a0b.101318","name":"DMX 11 Shutter","label":"Strobe (Slow to Fast)","group":"ea3bd860.23d408","order":14,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1360,"y":220,"wires":[["8f823552.cba4b8","7846dd84.b713b4"]]},{"id":"fc566ac3.1dbd48","type":"ui_slider","z":"ed916a0b.101318","name":"DMX1 PAN","label":"","group":"ea3bd860.23d408","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":300,"wires":[["4b17d588.acf18c"]]},{"id":"4b17d588.acf18c","type":"ui_numeric","z":"ed916a0b.101318","name":"DMX 1: Pan (0-540 deg)","label":"Pan (0-254 = 0-540 deg)","group":"ea3bd860.23d408","order":4,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":300,"wires":[["449ef367.35a6bc"]]},{"id":"43f1fe7b.9d6cd","type":"ui_switch","z":"ed916a0b.101318","name":"","label":"Shutter ON/OFF","group":"ea3bd860.23d408","order":1,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"7","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1400,"y":120,"wires":[["89e80b03.b8bec8"]]},{"id":"7846dd84.b713b4","type":"function","z":"ed916a0b.101318","name":"update shutter switch based on dmx data","func":"if (msg.payload > 4){\n    msg.payload = 7;\n}\nelse {\n    msg.payload = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1640,"y":180,"wires":[["43f1fe7b.9d6cd"]]},{"id":"9e6cea23.fea4a8","type":"ui_switch","z":"ed916a0b.101318","name":"","label":"Prism ON/OFF","group":"ea3bd860.23d408","order":16,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"16","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1140,"y":500,"wires":[["fc1d3eab.2e39f"]]},{"id":"8d020dec.ae069","type":"ui_button","z":"ed916a0b.101318","name":"red","group":"27f07b90.e6d524","order":8,"width":0,"height":0,"passthru":false,"label":"red","color":"","bgcolor":"red","icon":"","payload":"28","payloadType":"num","topic":"","x":910,"y":1020,"wires":[["5d455786.ef6888"]]},{"id":"8598fae1.b274e8","type":"ui_button","z":"ed916a0b.101318","name":"white","group":"27f07b90.e6d524","order":4,"width":0,"height":0,"passthru":false,"label":"white (color wheel off)","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":910,"y":860,"wires":[["5d455786.ef6888"]]},{"id":"18182aea.06fd35","type":"ui_button","z":"ed916a0b.101318","name":"yellow","group":"27f07b90.e6d524","order":5,"width":0,"height":0,"passthru":false,"label":"yellow","color":"black","bgcolor":"yellow","icon":"","payload":"7","payloadType":"num","topic":"","x":910,"y":900,"wires":[["5d455786.ef6888"]]},{"id":"5240cff2.7b23b","type":"ui_button","z":"ed916a0b.101318","name":"pink","group":"27f07b90.e6d524","order":6,"width":0,"height":0,"passthru":false,"label":"pink","color":"","bgcolor":"magenta","icon":"","payload":"14","payloadType":"num","topic":"","x":910,"y":940,"wires":[["5d455786.ef6888"]]},{"id":"8286b730.d69438","type":"ui_button","z":"ed916a0b.101318","name":"green","group":"27f07b90.e6d524","order":7,"width":0,"height":0,"passthru":false,"label":"green","color":"","bgcolor":"green","icon":"","payload":"21","payloadType":"num","topic":"","x":910,"y":980,"wires":[["5d455786.ef6888"]]},{"id":"cef1f8e7.3ccbf8","type":"ui_button","z":"ed916a0b.101318","name":"cyan","group":"27f07b90.e6d524","order":9,"width":0,"height":0,"passthru":false,"label":"cyan","color":"black","bgcolor":"cyan","icon":"","payload":"35","payloadType":"num","topic":"","x":910,"y":1060,"wires":[["5d455786.ef6888"]]},{"id":"e0ea971e.c47df8","type":"ui_button","z":"ed916a0b.101318","name":"lime","group":"27f07b90.e6d524","order":10,"width":0,"height":0,"passthru":false,"label":"lime","color":"black","bgcolor":"lime","icon":"","payload":"42","payloadType":"num","topic":"","x":910,"y":1100,"wires":[["5d455786.ef6888"]]},{"id":"614a82da.c65fdc","type":"ui_button","z":"ed916a0b.101318","name":"orange","group":"27f07b90.e6d524","order":11,"width":0,"height":0,"passthru":false,"label":"orange","color":"","bgcolor":"orange","icon":"","payload":"49","payloadType":"num","topic":"","x":920,"y":1140,"wires":[["5d455786.ef6888"]]},{"id":"2adff5e2.cce8ca","type":"ui_button","z":"ed916a0b.101318","name":"blue","group":"27f07b90.e6d524","order":12,"width":0,"height":0,"passthru":false,"label":"blue","color":"","bgcolor":"blue","icon":"","payload":"56","payloadType":"num","topic":"","x":910,"y":1180,"wires":[["5d455786.ef6888"]]},{"id":"eb6e03d1.2696c","type":"ui_switch","z":"ed916a0b.101318","name":"","label":"Color Wheel UP/DOWN & SPEED","group":"27f07b90.e6d524","order":2,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"192","onvalueType":"num","onicon":"","oncolor":"","offvalue":"128","offvalueType":"num","officon":"","offcolor":"","x":680,"y":740,"wires":[["e7cbaf4f.84ba7"]]},{"id":"e7cbaf4f.84ba7","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"color_wheel_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":740,"wires":[["8e998892.832f08"]]},{"id":"f5d6999a.ae7958","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"color_wheel_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":800,"wires":[["8e998892.832f08"]]},{"id":"f57cf0f5.cd4e4","type":"ui_button","z":"ed916a0b.101318","name":"red + cyan","group":"27f07b90.e6d524","order":17,"width":0,"height":0,"passthru":false,"label":"red + cyan","color":"cyan","bgcolor":"red","icon":"","payload":"93","payloadType":"num","topic":"","x":1130,"y":1000,"wires":[["5d455786.ef6888"]]},{"id":"eaeb18b8.b05a08","type":"ui_button","z":"ed916a0b.101318","name":"white + yellow","group":"27f07b90.e6d524","order":13,"width":0,"height":0,"passthru":false,"label":"white + yellow","color":"black","bgcolor":"white","icon":"","payload":"65","payloadType":"num","topic":"","x":1140,"y":840,"wires":[["5d455786.ef6888"]]},{"id":"946d1a34.b4ebc8","type":"ui_button","z":"ed916a0b.101318","name":"yellow + pink","group":"27f07b90.e6d524","order":14,"width":0,"height":0,"passthru":false,"label":"yellow + pink","color":"magenta","bgcolor":"yellow","icon":"","payload":"72","payloadType":"num","topic":"","x":1130,"y":880,"wires":[["5d455786.ef6888"]]},{"id":"cbddbc4f.10601","type":"ui_button","z":"ed916a0b.101318","name":"pink + green","group":"27f07b90.e6d524","order":15,"width":0,"height":0,"passthru":false,"label":"pink + green","color":"green","bgcolor":"magenta","icon":"","payload":"79","payloadType":"num","topic":"","x":1130,"y":920,"wires":[["5d455786.ef6888"]]},{"id":"5adcfb41.b6b1a4","type":"ui_button","z":"ed916a0b.101318","name":"green + red","group":"27f07b90.e6d524","order":16,"width":0,"height":0,"passthru":false,"label":"green + red","color":"red","bgcolor":"green","icon":"","payload":"86","payloadType":"num","topic":"","x":1130,"y":960,"wires":[["5d455786.ef6888"]]},{"id":"2844e02f.18ab4","type":"ui_button","z":"ed916a0b.101318","name":"cyan + lime","group":"27f07b90.e6d524","order":18,"width":0,"height":0,"passthru":false,"label":"cyan + lime","color":"green","bgcolor":"cyan","icon":"","payload":"100","payloadType":"num","topic":"","x":1130,"y":1040,"wires":[["5d455786.ef6888"]]},{"id":"1ed9feaa.be7861","type":"ui_button","z":"ed916a0b.101318","name":"lime + orange","group":"27f07b90.e6d524","order":19,"width":0,"height":0,"passthru":false,"label":"lime + orange","color":"orange","bgcolor":"lime","icon":"","payload":"107","payloadType":"num","topic":"","x":1140,"y":1080,"wires":[["5d455786.ef6888"]]},{"id":"9f8f6d2f.314c5","type":"ui_button","z":"ed916a0b.101318","name":"orange + blue","group":"27f07b90.e6d524","order":20,"width":0,"height":0,"passthru":false,"label":"orange + blue","color":"blue","bgcolor":"orange","icon":"","payload":"114","payloadType":"num","topic":"","x":1140,"y":1120,"wires":[["5d455786.ef6888"]]},{"id":"f8566b05.98f6f8","type":"ui_button","z":"ed916a0b.101318","name":"dark + white","group":"27f07b90.e6d524","order":21,"width":0,"height":0,"passthru":false,"label":"blue + white","color":"white","bgcolor":"blue","icon":"","payload":"121","payloadType":"num","topic":"","x":1130,"y":1160,"wires":[["5d455786.ef6888"]]},{"id":"8e998892.832f08","type":"function","z":"ed916a0b.101318","name":"color wheel slider + offset","func":"var offset = flow.get(\"color_wheel_offset\");\nvar color_wheel_speed = flow.get(\"color_wheel_speed\");\nmsg.payload = offset + color_wheel_speed;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":780,"wires":[["5d455786.ef6888"]]},{"id":"387e363b.3bab5a","type":"ui_slider","z":"ed916a0b.101318","name":"DMX8 GOBO ROTATION SPEED","label":"","group":"1b4c344c.bd38ac","order":17,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"111","step":"1","x":1180,"y":1340,"wires":[["2b2daeed.c57912"]]},{"id":"aa2c9890.0961c8","type":"ui_numeric","z":"ed916a0b.101318","name":"","label":"Gobo Rotation Value","group":"1b4c344c.bd38ac","order":13,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1360,"y":580,"wires":[["23289ab7.183116"]]},{"id":"3ba5ea60.88bb06","type":"ui_switch","z":"ed916a0b.101318","name":"","label":"Gobo Rotate UP/DOWN","group":"1b4c344c.bd38ac","order":16,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"120","onvalueType":"num","onicon":"","oncolor":"","offvalue":"8","offvalueType":"num","officon":"","offcolor":"","x":1150,"y":1300,"wires":[["11db5b09.1a1185"]]},{"id":"11db5b09.1a1185","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"gobo_rotate_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":1420,"y":1300,"wires":[["ba45a1b9.6f62a"]]},{"id":"2b2daeed.c57912","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"gobo_rotate_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":1420,"y":1340,"wires":[["ba45a1b9.6f62a"]]},{"id":"ba45a1b9.6f62a","type":"function","z":"ed916a0b.101318","name":"gobo rotation slider + offset","func":"var bounce_flag = flow.get(\"gobo_bounce_flag\");\n\nif(bounce_flag===0){\n\n   var rotate_flag = flow.get(\"gobo_rotate_flag\");\n   \n    if (rotate_flag ===0) {\n        msg.payload = 0;\n       \n    }\n    else {\n         flow.set(\"gobo_bounce_flag\", 0);\n        \n        var offset = flow.get(\"gobo_rotate_offset\");\n        var speed = flow.get(\"gobo_rotate_speed\");\n        \n        msg.payload = offset + speed;\n    }\n     \n}\nelse {\n    \n     flow.set(\"gobo_rotate_flag\", 0);\n     msg.payload = 232;  \n    \n    \n      \n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1720,"y":1280,"wires":[["aa2c9890.0961c8"]]},{"id":"bc295174.1615a","type":"ui_button","z":"ed916a0b.101318","name":"no gobo","group":"1b4c344c.bd38ac","order":2,"width":0,"height":0,"passthru":false,"label":"no gobo","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1360,"y":840,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"c149fe4c.896e6","type":"ui_button","z":"ed916a0b.101318","name":"dots in a circle gobo","group":"1b4c344c.bd38ac","order":3,"width":0,"height":0,"passthru":false,"label":"dots in a circle gobo","color":"black","bgcolor":"white","icon":"","payload":"8","payloadType":"num","topic":"","x":1400,"y":880,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"c0185f5.c3c18a","type":"ui_button","z":"ed916a0b.101318","name":"bubbles","group":"1b4c344c.bd38ac","order":4,"width":0,"height":0,"passthru":false,"label":"bubbles","color":"black","bgcolor":"white","icon":"","payload":"16","payloadType":"num","topic":"","x":1360,"y":920,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"9e52ac82.f4829","type":"ui_switch","z":"ed916a0b.101318","name":"","label":"Gobo Bounce ON/OFF","group":"1b4c344c.bd38ac","order":14,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1140,"y":1220,"wires":[["1cca628b.00e3ad"]]},{"id":"eab5906b.0e525","type":"ui_switch","z":"ed916a0b.101318","name":"","label":"Gobo Rotate ON/OFF","group":"1b4c344c.bd38ac","order":15,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1140,"y":1260,"wires":[["8505c9f1.fe8ca8"]]},{"id":"1cca628b.00e3ad","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"gobo_bounce_flag\", msg.payload);\nif (msg.payload ===1) {\n    flow.set(\"gobo_rotate_flag\", 0);\n    msg.payload = 0;\n}\nelse {\n    msg.payload = null;\n}\nreturn msg;\n","outputs":1,"noerr":0,"x":1420,"y":1220,"wires":[["ba45a1b9.6f62a","eab5906b.0e525"]]},{"id":"8505c9f1.fe8ca8","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"gobo_rotate_flag\", msg.payload);\nif (msg.payload ===1) {\n    flow.set(\"gobo_bounce_flag\", 0);\n    msg.payload = 0\n}\nelse {\n    msg.payload = null;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1420,"y":1260,"wires":[["ba45a1b9.6f62a","9e52ac82.f4829"]]},{"id":"a0f01872.92ec28","type":"ui_button","z":"ed916a0b.101318","name":"swirls","group":"1b4c344c.bd38ac","order":5,"width":0,"height":0,"passthru":false,"label":"swirls","color":"black","bgcolor":"white","icon":"","payload":"24","payloadType":"num","topic":"","x":1350,"y":960,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"7dc336d1.161988","type":"ui_button","z":"ed916a0b.101318","name":"biohazard","group":"1b4c344c.bd38ac","order":6,"width":0,"height":0,"passthru":false,"label":"biohazard","color":"black","bgcolor":"white","icon":"","payload":"32","payloadType":"num","topic":"","x":1360,"y":1000,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"f4961fb7.8b66b","type":"ui_button","z":"ed916a0b.101318","name":"flower","group":"1b4c344c.bd38ac","order":7,"width":0,"height":0,"passthru":false,"label":"flower","color":"black","bgcolor":"white","icon":"","payload":"40","payloadType":"num","topic":"","x":1350,"y":1040,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"6434ac36.e5f254","type":"ui_button","z":"ed916a0b.101318","name":"triangle grate","group":"1b4c344c.bd38ac","order":8,"width":0,"height":0,"passthru":false,"label":"triangle grate","color":"black","bgcolor":"white","icon":"","payload":"48","payloadType":"num","topic":"","x":1370,"y":1080,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"d81a30b2.527f4","type":"ui_button","z":"ed916a0b.101318","name":"spiral","group":"1b4c344c.bd38ac","order":9,"width":0,"height":0,"passthru":false,"label":"spiral","color":"black","bgcolor":"white","icon":"","payload":"56","payloadType":"num","topic":"","x":1350,"y":1120,"wires":[["9d6d3cbe.e3ab8"]]},{"id":"9d19f5cf.940fa8","type":"ui_numeric","z":"ed916a0b.101318","name":"","label":"Gobo Output Value","group":"1b4c344c.bd38ac","order":1,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":540,"wires":[["987864b7.253f18"]]},{"id":"9d6d3cbe.e3ab8","type":"function","z":"ed916a0b.101318","name":"set current gobo selection","func":"flow.set(\"current_gobo_selection\", msg.payload);\nmsg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"x":1650,"y":960,"wires":[["29a4dae8.f015f6"]]},{"id":"b36ecc7f.cca6b","type":"ui_slider","z":"ed916a0b.101318","name":"DMX7 GOBO SHAKE SPEED","label":"Shake:","group":"1b4c344c.bd38ac","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"8","step":"1","x":1430,"y":1160,"wires":[["29a4dae8.f015f6"]]},{"id":"29a4dae8.f015f6","type":"function","z":"ed916a0b.101318","name":"gobo rotation slider + offset","func":"var current_gobo = flow.get(\"current_gobo_selection\");\nif (msg.payload === 0) {\n    msg.payload = current_gobo;\n    return msg;\n}\nelse if(msg.payload!==null) {\n    switch(current_gobo) {\n        case 56:\n            msg.payload = msg.payload + 63;\n            break;\n        case 48:\n            msg.payload = msg.payload + 71;\n            break;\n        case 40:\n            msg.payload = msg.payload + 79;\n            break;\n        case 32:\n            msg.payload = msg.payload + 87;\n            break;\n        case 24:\n            msg.payload = msg.payload + 95;\n            break;\n        case 16:\n            msg.payload = msg.payload + 103;\n            break;\n        case 8:\n            msg.payload = msg.payload + 111;\n            break;\n        default:\n            msg.payload = 0;\n    }\n    return msg;\n}\n","outputs":1,"noerr":0,"x":2000,"y":960,"wires":[["9d19f5cf.940fa8"]]},{"id":"2f4135dc.3f5ada","type":"ui_slider","z":"ed916a0b.101318","name":"DMX7 GOBO CYCLE SPEED","label":"","group":"1b4c344c.bd38ac","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"63","step":"1","x":1770,"y":1140,"wires":[["93fe0826.2660a8"]]},{"id":"42b23959.f1bae8","type":"ui_switch","z":"ed916a0b.101318","name":"","label":"Gobo Cycle UP/DOWN & SPEED","group":"1b4c344c.bd38ac","order":11,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"192","onvalueType":"num","onicon":"","oncolor":"","offvalue":"128","offvalueType":"num","officon":"","offcolor":"","x":1780,"y":1080,"wires":[["640f7d9b.d746b4"]]},{"id":"640f7d9b.d746b4","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"gobo_cycle_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":2020,"y":1080,"wires":[["af10d7ce.b4b628"]]},{"id":"93fe0826.2660a8","type":"function","z":"ed916a0b.101318","name":"save flow offset","func":"flow.set(\"gobo_cycle_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":2020,"y":1140,"wires":[["af10d7ce.b4b628"]]},{"id":"af10d7ce.b4b628","type":"function","z":"ed916a0b.101318","name":"gobo cycle slider + offset","func":"var offset = flow.get(\"gobo_cycle_offset\");\nvar gobo_cycle_speed = flow.get(\"gobo_cycle_speed\");\nmsg.payload = offset + gobo_cycle_speed;\nreturn msg;","outputs":1,"noerr":0,"x":2250,"y":1120,"wires":[["9d19f5cf.940fa8"]]},{"id":"b3aa4f1f.1cfcb","type":"subflow:bcca6388.a5525","z":"68b10b3.d3953f4","name":"ADJ Pinspot LED Quad","x":570,"y":340,"wires":[["69e11d54.3bc404"]]},{"id":"351c8532.a666fa","type":"function","z":"bcca6388.a5525","name":"Send Current Universe","func":"msg.payload = { \n                dmx: global.get(\"chauvet_255_preset\"),\n                offset: 1\n            };\nreturn msg;","outputs":1,"noerr":0,"x":1940,"y":340,"wires":[[]]},{"id":"ca82846c.975fd8","type":"ui_slider","z":"bcca6388.a5525","name":"DMX11 SHUTTER","label":"","group":"ea3bd860.23d408","order":15,"width":0,"height":0,"passthru":true,"topic":"Slider","min":"7","max":"215","step":1,"x":1150,"y":200,"wires":[["38acb0fc.6dc2b"]]},{"id":"f2d091f1.30d66","type":"ui_slider","z":"bcca6388.a5525","name":"DMX5 DIMMER","label":"","group":"e1e5477d.90bf08","order":2,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1140,"y":440,"wires":[["7f2df472.dea0bc"]]},{"id":"92188af8.bfb628","type":"ui_slider","z":"bcca6388.a5525","name":"DMX6 STROBE SPEED","label":"","group":"e1e5477d.90bf08","order":13,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"239","step":"1","x":710,"y":520,"wires":[["da8a27c3.1b5b18"]]},{"id":"13fccb82.998164","type":"change","z":"bcca6388.a5525","name":"save to Global DMX1","rules":[{"t":"set","p":"chauvet_255_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":280,"wires":[["351c8532.a666fa"]]},{"id":"e45f50f8.2957c","type":"change","z":"bcca6388.a5525","name":"save to Global DMX2","rules":[{"t":"set","p":"chauvet_255_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":320,"wires":[["351c8532.a666fa"]]},{"id":"e150641b.0b90d8","type":"change","z":"bcca6388.a5525","name":"save to Global DMX3","rules":[{"t":"set","p":"chauvet_255_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":360,"wires":[["351c8532.a666fa"]]},{"id":"9f47a0b5.56355","type":"change","z":"bcca6388.a5525","name":"save to Global DMX4","rules":[{"t":"set","p":"chauvet_255_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":400,"wires":[["351c8532.a666fa"]]},{"id":"272d12f3.dde3ae","type":"change","z":"bcca6388.a5525","name":"save to Global DMX6","rules":[{"t":"set","p":"chauvet_255_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":480,"wires":[["351c8532.a666fa"]]},{"id":"1a6859b0.facea6","type":"change","z":"bcca6388.a5525","name":"save to Global DMX5","rules":[{"t":"set","p":"chauvet_255_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":440,"wires":[["351c8532.a666fa"]]},{"id":"9f3b0c29.71424","type":"change","z":"bcca6388.a5525","name":"save to Global DMX11","rules":[{"t":"set","p":"chauvet_255_preset[10]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":200,"wires":[["351c8532.a666fa"]]},{"id":"4d6c6362.6d9d3c","type":"function","z":"bcca6388.a5525","name":"Just get preset","func":"global.set(\"adj_pinspot_preset\", msg.payload.payload);\n\nvar preset = [];\nvar m = [];\npreset = global.get(\"adj_pinspot_preset\");\n\n\nfor (var i=0;i<6;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":6,"noerr":0,"x":800,"y":260,"wires":[["530bd5ca.7f41bc"],["41cf2f91.e7258"],["1ef809fa.c29086"],["b9a4dc4e.60534"],["f2d091f1.30d66"],[]]},{"id":"c1e9c0af.de02a","type":"function","z":"bcca6388.a5525","name":"insert preset","func":"var preset = [];\npreset = global.get(\"adj_pinspot_preset\");\nvar newMsg = {};\nnewMsg.collection = 'adj_pinspot_preset';\nnewMsg.payload = [\n  {topic: msg.payload},\n  {\n    \"$set\": {\n      \"payload\": preset\n    }\n  },\n  {upsert:true}\n];\n\nreturn newMsg;\n","outputs":1,"noerr":0,"x":398,"y":61,"wires":[["9784ecc8.8f6a7"]]},{"id":"9784ecc8.8f6a7","type":"mongodb2 in","z":"bcca6388.a5525","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"adj_pinspot_presets","operation":"findOneAndUpdate","x":609,"y":62,"wires":[["63cd8fad.9bafe"]]},{"id":"57d7a904.f142e8","type":"function","z":"bcca6388.a5525","name":"init global variables","func":"global.set(\"dmx_preset\",[0,0,0,0,0,0,0,0,0,0,0,0]); \nmsg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":360,"wires":[["44117ba1.c66174","5bd98887.2bd6b8"]]},{"id":"49992853.3f4b28","type":"inject","z":"bcca6388.a5525","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":360,"wires":[["57d7a904.f142e8"]]},{"id":"44117ba1.c66174","type":"debug","z":"bcca6388.a5525","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":490,"y":360,"wires":[]},{"id":"4ff0fb55.41aed4","type":"debug","z":"bcca6388.a5525","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":490,"y":420,"wires":[]},{"id":"b6c04970.c25928","type":"function","z":"bcca6388.a5525","name":"check global preset","func":"msg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":420,"wires":[["4ff0fb55.41aed4","5bd98887.2bd6b8"]]},{"id":"cc228e3b.0750c","type":"inject","z":"bcca6388.a5525","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":420,"wires":[["b6c04970.c25928"]]},{"id":"5bd98887.2bd6b8","type":"function","z":"bcca6388.a5525","name":"Reset from global","func":"var preset = [];\nvar m = [];\npreset = global.get(\"adj_pinspot_preset\");\n\n\nfor (var i=0;i<6;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":6,"noerr":0,"x":810,"y":380,"wires":[["530bd5ca.7f41bc"],["41cf2f91.e7258"],["1ef809fa.c29086"],["b9a4dc4e.60534"],["f2d091f1.30d66"],[]]},{"id":"f479debe.2d35e","type":"mongodb2 in","z":"bcca6388.a5525","service":"_ext_","configNode":"e8414499.885228","name":"Mongo DB dynamic operation","collection":"adj_pinspot_presets","operation":"","x":519,"y":182,"wires":[["aa1903b9.f306a"]]},{"id":"63cd8fad.9bafe","type":"function","z":"bcca6388.a5525","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":285,"y":179,"wires":[["f479debe.2d35e"]]},{"id":"9f311e1b.ef721","type":"ui_dropdown","z":"bcca6388.a5525","name":"Recall Pulldown","label":"Recall","place":"Select option","group":"c9bf2bce.8a91d8","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1140,"y":40,"wires":[["4d6c6362.6d9d3c","ed49ecef.417ce"]]},{"id":"aa1903b9.f306a","type":"function","z":"bcca6388.a5525","name":"Format Preset Pulldown","func":"//var preset_array = msg.payload;\nvar msg_array = [];\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic != undefined){\n        tmp_object[msg_object.topic] = {\"topic\": msg_object.topic, \"payload\": msg_object.payload};\n        msg_array[i] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":40,"wires":[["9f311e1b.ef721"]]},{"id":"36080d8f.a8ba62","type":"inject","z":"bcca6388.a5525","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":180,"wires":[["63cd8fad.9bafe"]]},{"id":"c99c867c.b65c08","type":"ui_text_input","z":"bcca6388.a5525","name":"","label":"Edit Preset Name","group":"c9bf2bce.8a91d8","order":3,"width":0,"height":0,"passthru":true,"mode":"text","delay":"300","topic":"","x":1523,"y":37,"wires":[["5a7af80b.e3c938"]]},{"id":"39634940.1cb946","type":"ui_button","z":"bcca6388.a5525","name":"Save","group":"c9bf2bce.8a91d8","order":5,"width":0,"height":0,"passthru":false,"label":"Save Preset","color":"#FFF","bgcolor":"#FF0000","icon":"","payload":"","payloadType":"date","topic":"","x":70,"y":60,"wires":[["bd61b541.5ac8c8"]]},{"id":"5a7af80b.e3c938","type":"function","z":"bcca6388.a5525","name":"set global preset name","func":"global.set(\"adj_pinspot_preset_name\", msg.payload);","outputs":1,"noerr":0,"x":1755,"y":40,"wires":[[]]},{"id":"bd61b541.5ac8c8","type":"function","z":"bcca6388.a5525","name":"save preset","func":"msg.payload = global.get(\"adj_pinspot_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":230,"y":60,"wires":[["c1e9c0af.de02a"]]},{"id":"ed49ecef.417ce","type":"function","z":"bcca6388.a5525","name":"get preset name","func":"msg.payload = msg.payload.topic;\nreturn msg;","outputs":1,"noerr":0,"x":1328,"y":38.5,"wires":[["c99c867c.b65c08"]]},{"id":"5c857d58.a44ab4","type":"ui_text","z":"bcca6388.a5525","group":"c9bf2bce.8a91d8","order":4,"width":0,"height":0,"name":"","label":"SAVE PRESET","format":"{{msg.payload}}","layout":"row-left","x":100,"y":300,"wires":[]},{"id":"33c6e666.ca373a","type":"ui_text","z":"bcca6388.a5525","group":"c9bf2bce.8a91d8","order":1,"width":0,"height":0,"name":"","label":"RECALL PRESET","format":"{{msg.payload}}","layout":"row-left","x":110,"y":240,"wires":[]},{"id":"463c4758.9c9f98","type":"function","z":"bcca6388.a5525","name":"delete preset","func":"var newMsg = {};\nnewMsg.operation  = 'deleteOne';\nnewMsg.payload    = {'topic' : msg.payload};\nreturn newMsg;","outputs":1,"noerr":0,"x":399,"y":120,"wires":[["e0010259.54f77"]]},{"id":"e0010259.54f77","type":"mongodb2 in","z":"bcca6388.a5525","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"adj_pinspot_presets","operation":"","x":610,"y":121,"wires":[["63cd8fad.9bafe"]]},{"id":"8e4cf20e.58ed3","type":"ui_button","z":"bcca6388.a5525","name":"Delete","group":"c9bf2bce.8a91d8","order":6,"width":0,"height":0,"passthru":false,"label":"Delete Preset","color":"#FFF","bgcolor":"#FF00FF","icon":"","payload":"","payloadType":"date","topic":"","x":70,"y":120,"wires":[["7c853799.c4a938"]]},{"id":"7c853799.c4a938","type":"function","z":"bcca6388.a5525","name":"delete preset","func":"msg.payload = global.get(\"adj_pinspot_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":231,"y":119,"wires":[["463c4758.9c9f98"]]},{"id":"c8e3a077.66cc4","type":"ui_numeric","z":"bcca6388.a5525","name":"","label":"Strobe Values","group":"e1e5477d.90bf08","order":11,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1320,"y":480,"wires":[["272d12f3.dde3ae"]]},{"id":"7f2df472.dea0bc","type":"ui_numeric","z":"bcca6388.a5525","name":"DMX 5 Dimmer (0-100%)","label":"Dimmer (0-100%)","group":"e1e5477d.90bf08","order":1,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":440,"wires":[["1a6859b0.facea6"]]},{"id":"38acb0fc.6dc2b","type":"ui_numeric","z":"bcca6388.a5525","name":"DMX 11 Shutter","label":"Strobe (Slow to Fast)","group":"ea3bd860.23d408","order":14,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1360,"y":200,"wires":[["9f3b0c29.71424","421b1206.31f1ec"]]},{"id":"530bd5ca.7f41bc","type":"ui_slider","z":"bcca6388.a5525","name":"DMX1 RED","label":"","group":"e1e5477d.90bf08","order":4,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":280,"wires":[["d17bf671.168958"]]},{"id":"d17bf671.168958","type":"ui_numeric","z":"bcca6388.a5525","name":"DMX 1: RED","label":"RED","group":"e1e5477d.90bf08","order":3,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1310,"y":280,"wires":[["13fccb82.998164"]]},{"id":"ac8d88f4.460b28","type":"ui_switch","z":"bcca6388.a5525","name":"","label":"Shutter ON/OFF","group":"ea3bd860.23d408","order":1,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"7","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1400,"y":100,"wires":[["ca82846c.975fd8"]]},{"id":"421b1206.31f1ec","type":"function","z":"bcca6388.a5525","name":"update shutter switch based on dmx data","func":"if (msg.payload > 4){\n    msg.payload = 7;\n}\nelse {\n    msg.payload = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1640,"y":160,"wires":[["ac8d88f4.460b28"]]},{"id":"bc28600a.41122","type":"ui_switch","z":"bcca6388.a5525","name":"","label":"Strobe ON/OFF & SPEED","group":"e1e5477d.90bf08","order":12,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"8","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":710,"y":480,"wires":[["7c45b0c9.16025"]]},{"id":"7c45b0c9.16025","type":"function","z":"bcca6388.a5525","name":"save flow offset","func":"flow.set(\"strobe_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":480,"wires":[["9f5f2cdc.7de5d"]]},{"id":"da8a27c3.1b5b18","type":"function","z":"bcca6388.a5525","name":"save flow offset","func":"flow.set(\"strobe_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":520,"wires":[["9f5f2cdc.7de5d"]]},{"id":"9f5f2cdc.7de5d","type":"function","z":"bcca6388.a5525","name":"strobe speed + offset","func":"var offset = flow.get(\"strobe_offset\");\nvar sound_strobe = flow.get(\"sound_strobe_flag\");\nif(offset!==0){\n    if (sound_strobe !==0 ) {\n        msg.payload = sound_strobe;\n    }\n    else {\n        var strobe_speed = flow.get(\"strobe_speed\");\n        msg.payload = offset + strobe_speed;\n    }\n}\nelse {\n    msg.payload = 0;\n}\nreturn msg;\n","outputs":1,"noerr":0,"x":1120,"y":480,"wires":[["c8e3a077.66cc4"]]},{"id":"41cf2f91.e7258","type":"ui_slider","z":"bcca6388.a5525","name":"DMX2 GREEN","label":"","group":"e1e5477d.90bf08","order":6,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1140,"y":320,"wires":[["fc256d3a.0c37"]]},{"id":"fc256d3a.0c37","type":"ui_numeric","z":"bcca6388.a5525","name":"DMX 2: GREEN","label":"GREEN","group":"e1e5477d.90bf08","order":5,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1320,"y":320,"wires":[["e45f50f8.2957c"]]},{"id":"1ef809fa.c29086","type":"ui_slider","z":"bcca6388.a5525","name":"DMX3 BLUE","label":"","group":"e1e5477d.90bf08","order":8,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":360,"wires":[["38a9ff9.02eff"]]},{"id":"38a9ff9.02eff","type":"ui_numeric","z":"bcca6388.a5525","name":"DMX 3: BLUE","label":"BLUE","group":"e1e5477d.90bf08","order":7,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1320,"y":360,"wires":[["e150641b.0b90d8"]]},{"id":"b9a4dc4e.60534","type":"ui_slider","z":"bcca6388.a5525","name":"DMX4 WHITE","label":"","group":"e1e5477d.90bf08","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1140,"y":400,"wires":[["f6927484.511c28"]]},{"id":"f6927484.511c28","type":"ui_numeric","z":"bcca6388.a5525","name":"DMX 4: WHITE","label":"WHITE","group":"e1e5477d.90bf08","order":9,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1320,"y":400,"wires":[["9f47a0b5.56355"]]},{"id":"efc17a87.3ce578","type":"ui_switch","z":"bcca6388.a5525","name":"","label":"Sound Activated Strobe ON/OFF","group":"e1e5477d.90bf08","order":14,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"248","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":680,"y":560,"wires":[["e0ce1433.4d3298"]]},{"id":"e0ce1433.4d3298","type":"function","z":"bcca6388.a5525","name":"save flow offset","func":"flow.set(\"sound_strobe_flag\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":560,"wires":[["9f5f2cdc.7de5d"]]},{"id":"69e11d54.3bc404","type":"function","z":"68b10b3.d3953f4","name":"format and trigger DMX universe","func":"var temp_dmx_array = msg.payload.dmx;\n//var current_dmx_universe = \nfor(var i = 0; i < temp_dmx_array.length; i++) {\n    \n}\n\n\nmsg.payload = msg.payload.dmx;\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":340,"wires":[["d2fca79d.2ec948"]]},{"id":"12b8a4ce.f2149b","type":"function","z":"44b52a0d.4f3804","name":"insert preset","func":"var preset = [];\npreset = global.get(\"master_preset\");\nvar newMsg = {};\nnewMsg.collection = 'master_presets';\nnewMsg.payload = [\n  {topic: msg.payload},\n  {\n    \"$set\": {\n      \"payload\": preset\n    }\n  },\n  {upsert:true}\n];\n\nreturn newMsg;\n","outputs":1,"noerr":0,"x":375,"y":81.5,"wires":[["a2b17e0f.7b60d"]]},{"id":"ac45731e.5839f","type":"function","z":"44b52a0d.4f3804","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":262,"y":199.5,"wires":[["5dffa273.34169c"]]},{"id":"f4c15c3.e8da5a","type":"ui_dropdown","z":"44b52a0d.4f3804","name":"Recall Pulldown","label":"Recall","place":"Select option","group":"8a52e703.6595b8","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":980,"y":200,"wires":[["1881517a.126aef","7dece72b.b04158"]]},{"id":"5a0e845b.1ab97c","type":"function","z":"44b52a0d.4f3804","name":"Format Preset Pulldown","func":"var msg_array = [];\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic != undefined){\n        tmp_object[msg_object.topic] = {\"topic\": msg_object.topic, \"payload\": msg_object.payload};\n        msg_array[i] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":200,"wires":[["f4c15c3.e8da5a"]]},{"id":"9232668e.d623c8","type":"inject","z":"44b52a0d.4f3804","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":113,"y":198,"wires":[["ac45731e.5839f"]]},{"id":"1c883c33.4cc5c4","type":"ui_text_input","z":"44b52a0d.4f3804","name":"","label":"Edit Master Preset Name","group":"8a52e703.6595b8","order":4,"width":0,"height":0,"passthru":true,"mode":"text","delay":"300","topic":"","x":1450,"y":200,"wires":[["21d9a4bd.29792c"]]},{"id":"bd44ff2e.22c9b","type":"ui_button","z":"44b52a0d.4f3804","name":"Save","group":"8a52e703.6595b8","order":5,"width":0,"height":0,"passthru":false,"label":"Save Master Preset","color":"#FFF","bgcolor":"#FF0000","icon":"","payload":"","payloadType":"date","topic":"","x":55,"y":80,"wires":[["76dc8ab7.98f684"]]},{"id":"21d9a4bd.29792c","type":"function","z":"44b52a0d.4f3804","name":"set global preset name","func":"global.set(\"master_preset_name\", msg.payload);","outputs":1,"noerr":0,"x":1700,"y":200,"wires":[[]]},{"id":"76dc8ab7.98f684","type":"function","z":"44b52a0d.4f3804","name":"save preset","func":"msg.payload = global.get(\"master_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":190,"y":80,"wires":[["12b8a4ce.f2149b"]]},{"id":"1881517a.126aef","type":"function","z":"44b52a0d.4f3804","name":"get preset name","func":"msg.payload = msg.payload.topic;\nreturn msg;","outputs":1,"noerr":0,"x":1220,"y":200,"wires":[["1c883c33.4cc5c4"]]},{"id":"dab1a16d.c7682","type":"ui_text","z":"44b52a0d.4f3804","group":"8a52e703.6595b8","order":3,"width":0,"height":0,"name":"","label":"SAVE MASTER PRESET","format":"{{msg.payload}}","layout":"row-left","x":130,"y":300,"wires":[]},{"id":"47e0bf00.01a9","type":"ui_text","z":"44b52a0d.4f3804","group":"8a52e703.6595b8","order":1,"width":0,"height":0,"name":"","label":"RECALL MASTER PRESET","format":"{{msg.payload}}","layout":"row-left","x":140,"y":260,"wires":[]},{"id":"34883490.ba9ffc","type":"function","z":"44b52a0d.4f3804","name":"delete preset","func":"var newMsg = {};\nnewMsg.operation  = 'deleteOne';\nnewMsg.payload    = {'topic' : msg.payload};\nreturn newMsg;","outputs":1,"noerr":0,"x":376,"y":140.5,"wires":[["80b2996a.b9b008"]]},{"id":"553046f3.19ef78","type":"ui_button","z":"44b52a0d.4f3804","name":"Delete","group":"8a52e703.6595b8","order":5,"width":0,"height":0,"passthru":false,"label":"Delete Master Preset","color":"#FFF","bgcolor":"#FF00FF","icon":"","payload":"","payloadType":"date","topic":"","x":56,"y":139,"wires":[["fa22de5.104a72"]]},{"id":"fa22de5.104a72","type":"function","z":"44b52a0d.4f3804","name":"delete preset","func":"msg.payload = global.get(\"master_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":208,"y":139.5,"wires":[["34883490.ba9ffc"]]},{"id":"a2b17e0f.7b60d","type":"mongodb2 in","z":"44b52a0d.4f3804","service":"_ext_","configNode":"8f466b3e.ef20b8","name":"Store Data into MongoDB","collection":"master_presets","operation":"findOneAndUpdate","x":586,"y":82.5,"wires":[["ac45731e.5839f"]]},{"id":"5dffa273.34169c","type":"mongodb2 in","z":"44b52a0d.4f3804","service":"_ext_","configNode":"8f466b3e.ef20b8","name":"Mongo DB dynamic operation","collection":"master_presets","operation":"","x":490,"y":200,"wires":[["5a0e845b.1ab97c"]]},{"id":"80b2996a.b9b008","type":"mongodb2 in","z":"44b52a0d.4f3804","service":"_ext_","configNode":"8f466b3e.ef20b8","name":"Store Data into MongoDB","collection":"master_presets","operation":"","x":587,"y":141.5,"wires":[["ac45731e.5839f"]]},{"id":"f27229c.77045d8","type":"function","z":"44b52a0d.4f3804","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":320,"y":540,"wires":[["c93a7c49.e7b2c"]]},{"id":"f7834333.35f37","type":"ui_dropdown","z":"44b52a0d.4f3804","name":"Recall Pulldown","label":"Robot Arm 1","place":"Select option","group":"4f7a655c.a30e5c","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1020,"y":540,"wires":[["2385b4be.a082ec"]]},{"id":"d2bfb04a.b5c76","type":"function","z":"44b52a0d.4f3804","name":"Format Preset Pulldown","func":"var msg_array = [];\nmsg_array[0] = \"No Action\";\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic !== undefined){\n        tmp_object = msg_object.topic;\n        msg_array[i+1] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":540,"wires":[["f7834333.35f37"]]},{"id":"b8776cc2.00672","type":"inject","z":"44b52a0d.4f3804","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":540,"wires":[["f27229c.77045d8"]]},{"id":"c93a7c49.e7b2c","type":"mongodb2 in","z":"44b52a0d.4f3804","service":"_ext_","configNode":"8f466b3e.ef20b8","name":"Mongo DB dynamic operation","collection":"robot_arm_presets","operation":"","x":530,"y":540,"wires":[["d2bfb04a.b5c76"]]},{"id":"c3e44619.21ef58","type":"ui_dropdown","z":"44b52a0d.4f3804","name":"Recall Pulldown","label":"Chauvet 255","place":"Select option","group":"4f7a655c.a30e5c","order":3,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1020,"y":600,"wires":[["a97c15a3.65ed48"]]},{"id":"ca6cbfb1.14c4c","type":"function","z":"44b52a0d.4f3804","name":"Format Preset Pulldown","func":"var msg_array = [];\nmsg_array[0] = \"No Action\";\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic !== undefined){\n        tmp_object = msg_object.topic;\n        msg_array[i+1] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":600,"wires":[["c3e44619.21ef58"]]},{"id":"ac0587eb.c99458","type":"mongodb2 in","z":"44b52a0d.4f3804","service":"_ext_","configNode":"e8414499.885228","name":"Mongo DB dynamic operation","collection":"chauvet_255_presets","operation":"","x":530,"y":600,"wires":[["ca6cbfb1.14c4c"]]},{"id":"5dda5852.517918","type":"function","z":"44b52a0d.4f3804","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":320,"y":600,"wires":[["ac0587eb.c99458"]]},{"id":"612b7a20.3d5004","type":"inject","z":"44b52a0d.4f3804","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":600,"wires":[["5dda5852.517918"]]},{"id":"27827e73.1874f2","type":"mongodb2 in","z":"44b52a0d.4f3804","service":"_ext_","configNode":"e8414499.885228","name":"Mongo DB dynamic operation","collection":"adj_pinspot_presets","operation":"","x":530,"y":660,"wires":[["5844f019.d906b"]]},{"id":"ee5d332f.16b3f","type":"function","z":"44b52a0d.4f3804","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":320,"y":660,"wires":[["27827e73.1874f2"]]},{"id":"e8fafbcd.f33c18","type":"inject","z":"44b52a0d.4f3804","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":660,"wires":[["ee5d332f.16b3f"]]},{"id":"2b320be5.248494","type":"ui_dropdown","z":"44b52a0d.4f3804","name":"Recall Pulldown","label":"ADJ Pinspot","place":"Select option","group":"4f7a655c.a30e5c","order":4,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1020,"y":660,"wires":[["753d3be1.42ba64"]]},{"id":"5844f019.d906b","type":"function","z":"44b52a0d.4f3804","name":"Format Preset Pulldown","func":"var msg_array = [];\nmsg_array[0] = \"No Action\";\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic !== undefined){\n        tmp_object =  msg_object.topic;\n        msg_array[i+1] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":660,"wires":[["2b320be5.248494"]]},{"id":"442e3d16.81d7d4","type":"ui_dropdown","z":"44b52a0d.4f3804","name":"PTZ 1 Recall Pulldown","label":"PTZ 1","place":"Select option","group":"4f7a655c.a30e5c","order":5,"width":0,"height":0,"passthru":false,"options":[{"label":"No Action","value":"No Action","type":"str"},{"label":"Preset 1","value":"Preset 1","type":"str"},{"label":"Preset 2","value":"Preset 2","type":"str"},{"label":"Preset 3","value":"Preset 3","type":"str"},{"label":"Preset 4","value":"Preset 4","type":"str"},{"label":"Preset 5","value":"Preset 5","type":"str"},{"label":"Preset 6","value":"Preset 6","type":"str"}],"payload":"","topic":"","x":1040,"y":720,"wires":[["369d5d0d.cc9462"]]},{"id":"dfad0e3d.37ef8","type":"ui_dropdown","z":"44b52a0d.4f3804","name":"PTZ 2 Recall Pulldown","label":"PTZ 2","place":"Select option","group":"4f7a655c.a30e5c","order":6,"width":0,"height":0,"passthru":false,"options":[{"label":"No Action","value":"No Action","type":"str"},{"label":"Preset 1","value":"Preset 1","type":"str"},{"label":"Preset 2","value":"Preset 2","type":"str"},{"label":"Preset 3","value":"Preset 3","type":"str"},{"label":"Preset 4","value":"Preset 4","type":"str"},{"label":"Preset 5","value":"Prese 5","type":"str"},{"label":"Preset 6","value":"Preset 6","type":"str"}],"payload":"","topic":"","x":1040,"y":780,"wires":[["63af7c29.5f8614"]]},{"id":"2385b4be.a082ec","type":"function","z":"44b52a0d.4f3804","name":"save to master_preset_object","func":"var master_preset_object = global.get(\"master_preset\");\nmaster_preset_object['robot_1'] = msg.payload;\nglobal.set(\"master_preset\", master_preset_object);\n","outputs":1,"noerr":0,"x":1310,"y":540,"wires":[[]]},{"id":"a97c15a3.65ed48","type":"function","z":"44b52a0d.4f3804","name":"save to master_preset_object","func":"var master_preset_object =  global.get(\"master_preset\");\nmaster_preset_object.chauvet_255 = msg.payload;\n global.set(\"master_preset\", master_preset_object);\n","outputs":1,"noerr":0,"x":1310,"y":600,"wires":[[]]},{"id":"753d3be1.42ba64","type":"function","z":"44b52a0d.4f3804","name":"save to master_preset_object","func":"var master_preset_object =  global.get(\"master_preset\");\nmaster_preset_object.adj_pinspot = msg.payload;\nglobal.set(\"master_preset\", master_preset_object);\n","outputs":1,"noerr":0,"x":1310,"y":660,"wires":[[]]},{"id":"369d5d0d.cc9462","type":"function","z":"44b52a0d.4f3804","name":"save to master_preset_object","func":"var master_preset_object =  global.get(\"master_preset\");\nmaster_preset_object.ptz_1 = msg.payload;\n global.set(\"master_preset\", master_preset_object);\n","outputs":1,"noerr":0,"x":1310,"y":720,"wires":[[]]},{"id":"63af7c29.5f8614","type":"function","z":"44b52a0d.4f3804","name":"save to master_preset_object","func":"var master_preset_object =  global.get(\"master_preset\");\nmaster_preset_object.ptz_2 = msg.payload;\n global.set(\"master_preset\", master_preset_object);\n","outputs":1,"noerr":0,"x":1310,"y":780,"wires":[[]]},{"id":"e98465a8.6b6418","type":"ui_button","z":"44b52a0d.4f3804","name":"Refresh Preset Lists","group":"4f7a655c.a30e5c","order":1,"width":0,"height":0,"passthru":false,"label":"Refresh Preset Lists","color":"black","bgcolor":"yellow","icon":"","payload":"","payloadType":"str","topic":"","x":120,"y":360,"wires":[["f27229c.77045d8","5dda5852.517918","ee5d332f.16b3f"]]},{"id":"7dece72b.b04158","type":"function","z":"44b52a0d.4f3804","name":"Just get preset","func":"global.set(\"master_preset\", msg.payload.payload);\n\nvar preset = {};\nvar m = [];\npreset = global.get(\"master_preset\");\n\nm[0] = { payload: preset.robot_1};\nm[1] = { payload: preset.chauvet_255}; \nm[2] = { payload: preset.adj_pinspot};\nm[3] = { payload: preset.ptz_1}; \nm[4] = { payload: preset.ptz_2};\n\nm[5] = {    chauvet_255: preset.chauvet_255,\n            adj_pinspot: preset.adj_pinspot\n};\n\nreturn m;\n","outputs":6,"noerr":0,"x":740,"y":340,"wires":[["f7834333.35f37","7948db74.494324"],["c3e44619.21ef58"],["2b320be5.248494"],["442e3d16.81d7d4","fc1f3923.219f88"],["dfad0e3d.37ef8","8381be6a.d1596"],["af676703.1a6c48"]]},{"id":"fd18051d.27d148","type":"inject","z":"44b52a0d.4f3804","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":850,"y":60,"wires":[["51f8e29.0bc8d1c"]]},{"id":"51f8e29.0bc8d1c","type":"function","z":"44b52a0d.4f3804","name":"","func":"var master_preset_object = {\n                                robot_1: 0,\n                                chauvet_255: 1,\n                                adj_pinspot: 2,\n                                ptz_1: 3,\n                                ptz_2: 4\n};\nglobal.set(\"master_preset\", master_preset_object);\n","outputs":1,"noerr":0,"x":1040,"y":60,"wires":[[]]},{"id":"7948db74.494324","type":"link out","z":"44b52a0d.4f3804","name":"Robot 1 Master Preset Out","links":["332f9ccf.361174"],"x":1015,"y":280,"wires":[]},{"id":"af676703.1a6c48","type":"link out","z":"44b52a0d.4f3804","name":"DMX Master Preset Out","links":["ac10a925.4c8ea8"],"x":1015,"y":320,"wires":[]},{"id":"fc1f3923.219f88","type":"link out","z":"44b52a0d.4f3804","name":"PTZ 1 Master Preset Out","links":["85a31370.02ba4"],"x":1015,"y":360,"wires":[]},{"id":"8381be6a.d1596","type":"link out","z":"44b52a0d.4f3804","name":"PTZ 2 Master Preset Out","links":["46e4988e.1260c8"],"x":1015,"y":400,"wires":[]},{"id":"332f9ccf.361174","type":"link in","z":"dc52b959.21afb8","name":"","links":["7948db74.494324"],"x":963,"y":319.5,"wires":[[]]},{"id":"85a31370.02ba4","type":"link in","z":"f15a84eb.884568","name":"PTZ 1 Master Preset In","links":["fc1f3923.219f88"],"x":15,"y":300,"wires":[[]]},{"id":"46e4988e.1260c8","type":"link in","z":"2057e882.e0d458","name":"PTZ 2 Master Preset In","links":["8381be6a.d1596"],"x":15,"y":300,"wires":[[]]},{"id":"ac10a925.4c8ea8","type":"link in","z":"68b10b3.d3953f4","name":"DMX Master Preset In","links":["af676703.1a6c48"],"x":95,"y":300,"wires":[["852d541a.ef1bd8"]]},{"id":"852d541a.ef1bd8","type":"function","z":"68b10b3.d3953f4","name":"","func":"var m = [];\nm[0] = msg.payload.chauvet_255;\nm[1] = msg.payload.adj_pinspot;\nreturn m;","outputs":2,"noerr":0,"x":210,"y":300,"wires":[["76ad3007.c137a"],["b3aa4f1f.1cfcb"]]},{"id":"eef0378a.0faf78","type":"function","z":"68b10b3.d3953f4","name":"reset universe","func":"var universe_array = [];\n//flow.get(\"current_universe_array\");\nfor(var i=0; i<513; i++)\n{\n    universe_array[i]=0;\n}\nflow.set(\"current_universe_array\", universe_array);\nmsg.payload = universe_array;\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":140,"wires":[["d2fca79d.2ec948"]]},{"id":"16f4a9b5.5dfa66","type":"inject","z":"68b10b3.d3953f4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":140,"wires":[["eef0378a.0faf78"]]},{"id":"420104e9.ca385c","type":"ui_button","z":"68b10b3.d3953f4","name":"RESET DMX","group":"8a52e703.6595b8","order":0,"width":0,"height":0,"passthru":false,"label":"DMX PANIC","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":720,"y":80,"wires":[["eef0378a.0faf78"]]},{"id":"80b9f781.aa4e08","type":"debug","z":"dc52b959.21afb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":670,"y":900,"wires":[]},{"id":"788ab250.fbadec","type":"function","z":"dc52b959.21afb8","name":"filter midi messages by type","func":"var m = [];\nvar type = msg.midi.type;\nif (type == \"controlchange\"){\n    m[0] = msg;\n}\nelse if ((type == \"noteon\") || (type == \"noteoff\")) {\n    m[1] = msg;\n}\nelse {\n    m[2] = msg;\n}\nreturn m;","outputs":3,"noerr":0,"x":400,"y":680,"wires":[["fe156fc2.607ec"],["80b9f781.aa4e08","4f0a82bd.0c772c"],[]]},{"id":"4f0a82bd.0c772c","type":"function","z":"dc52b959.21afb8","name":"save preset with midi keyboard","func":"var m = [];\nvar type = msg.midi.type;\nvar note_num = msg.payload[0];\nif (note_num===93){\n    if (type == \"noteon\"){\n        flow.set(\"preset_record\", true);\n    }\n    else if (type == \"noteoff\") {\n        flow.set(\"preset_record\", false);\n    }\n}\nelse{\n    var preset_record = flow.get(\"preset_record\");\n    if (preset_record){\n        global.set(\"robot_arm_preset_name\", msg.payload[0]);\n        m[0] = { payload: 1};\n    }\n    else {\n         m[1] = { payload: msg.payload[0] };\n         m[2] = { payload: msg.payload[1] };\n    }\n    \n}\nreturn m;","outputs":3,"noerr":0,"x":330,"y":560,"wires":[["58c97ebe.d4c04"],["3805ebca.3773b4"],[]]},{"id":"32a43d6b.a332b2","type":"ui_button","z":"dc52b959.21afb8","name":"Load Presets","group":"1d707854.547168","order":5,"width":0,"height":0,"passthru":false,"label":"Load Presets","color":"white","bgcolor":"purple","icon":"","payload":"","payloadType":"date","topic":"","x":510,"y":240,"wires":[["be5bb7cc.37df68"]]},{"id":"3805ebca.3773b4","type":"function","z":"dc52b959.21afb8","name":"trigger pitch preset","func":"var robot_preset = flow.get(\"robot_db_preset\");\nfor(var i = 0;i<robot_preset.length; i++){\n    var temp_preset = robot_preset[i];\n    if (temp_preset.topic==msg.payload){\n        msg.payload = { payload: temp_preset.payload };\n    }\n    \n}\nreturn msg;","outputs":1,"noerr":0,"x":1130,"y":340,"wires":[["a07e7e4d.e2dd"]]},{"id":"6a0b8411.d481fc","type":"debug","z":"dc52b959.21afb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1390,"y":340,"wires":[]},{"id":"e3cfe492.1e30e8","type":"inject","z":"68b10b3.d3953f4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":130,"y":100,"wires":[["601c3927.7a4a58"]]},{"id":"dcc8f0f1.b745","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX2 FINE PAN","label":"","group":"ea3bd860.23d408","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":380,"wires":[["e34e02da.e823"]]},{"id":"1f51f329.bc6ecd","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX11 SHUTTER","label":"","group":"ea3bd860.23d408","order":15,"width":0,"height":0,"passthru":true,"topic":"Slider","min":"7","max":"215","step":1,"x":1150,"y":220,"wires":[["ea12af47.84581"]]},{"id":"e3ad2349.00455","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX10 DIMMER","label":"","group":"ea3bd860.23d408","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":260,"wires":[["830e36cd.93c748"]]},{"id":"c535d605.110a08","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX6 COLOR WHEEL SPEED","label":"","group":"27f07b90.e6d524","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"63","step":"1","x":670,"y":800,"wires":[["1ad1fc58.808d44"]]},{"id":"f4299be5.573018","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX5 SPEED","label":"","group":"ea3bd860.23d408","order":13,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1140,"y":460,"wires":[["10d14271.75b6ee"]]},{"id":"a92b4db.29abbb","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX4 FINE TILT","label":"","group":"ea3bd860.23d408","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":420,"wires":[["ca74f11b.f8b48"]]},{"id":"445367dc.d5ad18","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX3 TILT","label":"","group":"ea3bd860.23d408","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":340,"wires":[["626aa282.f83b6c"]]},{"id":"d0bfbfd1.2779","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX1","rules":[{"t":"set","p":"chauvet_255_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":300,"wires":[["3c64c52a.b69f6a"]]},{"id":"ca9dfd78.0d0ec","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX2","rules":[{"t":"set","p":"chauvet_255_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":380,"wires":[["3c64c52a.b69f6a"]]},{"id":"38a48b55.b7b004","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX3","rules":[{"t":"set","p":"chauvet_255_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":340,"wires":[["3c64c52a.b69f6a"]]},{"id":"fba33ba3.2b1648","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX4","rules":[{"t":"set","p":"chauvet_255_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":420,"wires":[["3c64c52a.b69f6a"]]},{"id":"98003a2d.9f73c8","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX5","rules":[{"t":"set","p":"chauvet_255_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":460,"wires":[["3c64c52a.b69f6a"]]},{"id":"9adf07f0.3a0298","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX6","rules":[{"t":"set","p":"chauvet_255_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":780,"wires":[["3c64c52a.b69f6a"]]},{"id":"6853fed3.daec2","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX7","rules":[{"t":"set","p":"chauvet_255_preset[6]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":540,"wires":[["3c64c52a.b69f6a"]]},{"id":"dc0397e.63f4868","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX8","rules":[{"t":"set","p":"chauvet_255_preset[7]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":580,"wires":[["3c64c52a.b69f6a"]]},{"id":"fca1924.6eec47","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX9","rules":[{"t":"set","p":"chauvet_255_preset[8]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":500,"wires":[["3c64c52a.b69f6a"]]},{"id":"1a260e0b.f59692","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX10","rules":[{"t":"set","p":"chauvet_255_preset[9]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":260,"wires":[["3c64c52a.b69f6a"]]},{"id":"f150da4f.681bf8","type":"change","z":"169f71f9.0db13e","name":"save to Global DMX11","rules":[{"t":"set","p":"chauvet_255_preset[10]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":220,"wires":[["3c64c52a.b69f6a"]]},{"id":"72205909.7a2798","type":"function","z":"169f71f9.0db13e","name":"Just get preset","func":"global.set(\"chauvet_255_preset\", msg.payload.payload);\n\nvar preset = [];\nvar m = [];\npreset = global.get(\"chauvet_255_preset\");\n\n\nfor (var i=0;i<13;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":13,"noerr":0,"x":901,"y":368,"wires":[["413000d7.205de"],["dcc8f0f1.b745"],["445367dc.d5ad18"],["a92b4db.29abbb"],["f4299be5.573018"],["f9111796.bd1028"],["1a4c43c0.8c2aac"],["e62de44d.0dc588"],["f698725d.a1432"],["e3ad2349.00455"],["1f51f329.bc6ecd"],[],[]]},{"id":"c3da8074.35a03","type":"function","z":"169f71f9.0db13e","name":"insert preset","func":"var preset = [];\npreset = global.get(\"chauvet_255_preset\");\nvar newMsg = {};\nnewMsg.collection = 'chauvet_255_presets';\nnewMsg.payload = [\n  {topic: msg.payload},\n  {\n    \"$set\": {\n      \"payload\": preset\n    }\n  },\n  {upsert:true}\n];\n\nreturn newMsg;\n","outputs":1,"noerr":0,"x":398,"y":81,"wires":[["bff9a016.c24a4"]]},{"id":"bff9a016.c24a4","type":"mongodb2 in","z":"169f71f9.0db13e","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"chauvet_255_presets","operation":"findOneAndUpdate","x":609,"y":82,"wires":[["a547bf0d.1dcc8"]]},{"id":"cc80695f.1ee9b8","type":"function","z":"169f71f9.0db13e","name":"init global variables","func":"global.set(\"dmx_preset\",[0,0,0,0,0,0,0,0,0,0,0,0]); \nmsg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":417,"y":496,"wires":[["b92f29cb.d6cb98","ea743a54.64d3e8"]]},{"id":"4d24507b.44a1c","type":"inject","z":"169f71f9.0db13e","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":222,"y":496.5,"wires":[["cc80695f.1ee9b8"]]},{"id":"b92f29cb.d6cb98","type":"debug","z":"169f71f9.0db13e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":624,"y":496,"wires":[]},{"id":"48315bc0.eaf9c4","type":"debug","z":"169f71f9.0db13e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":623,"y":578,"wires":[]},{"id":"b82de1d0.e3f6a","type":"function","z":"169f71f9.0db13e","name":"check global preset","func":"msg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":416,"y":579,"wires":[["48315bc0.eaf9c4","ea743a54.64d3e8"]]},{"id":"ba830898.e534b8","type":"inject","z":"169f71f9.0db13e","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":215,"y":573.5,"wires":[["b82de1d0.e3f6a"]]},{"id":"ea743a54.64d3e8","type":"function","z":"169f71f9.0db13e","name":"Reset from global","func":"var preset = [];\nvar m = [];\npreset = global.get(\"chauvet_255_preset\");\n\n\nfor (var i=0;i<13;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":13,"noerr":0,"x":865.5,"y":588,"wires":[["413000d7.205de"],["dcc8f0f1.b745"],["445367dc.d5ad18"],["a92b4db.29abbb"],["f4299be5.573018"],["f9111796.bd1028"],["1a4c43c0.8c2aac"],["e62de44d.0dc588"],["f698725d.a1432"],["e3ad2349.00455"],["1f51f329.bc6ecd"],[],[]]},{"id":"7c3b2e9.17372d","type":"mongodb2 in","z":"169f71f9.0db13e","service":"_ext_","configNode":"e8414499.885228","name":"Mongo DB dynamic operation","collection":"chauvet_255_presets","operation":"","x":519,"y":202,"wires":[["2cebfc0.785f304"]]},{"id":"a547bf0d.1dcc8","type":"function","z":"169f71f9.0db13e","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":285,"y":199,"wires":[["7c3b2e9.17372d"]]},{"id":"897f1dce.b09d4","type":"ui_dropdown","z":"169f71f9.0db13e","name":"Recall Pulldown","label":"Recall","place":"Select option","group":"ef5d0924.1a70d8","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1140,"y":60,"wires":[["72205909.7a2798","f5cb5bae.e571e8"]]},{"id":"2cebfc0.785f304","type":"function","z":"169f71f9.0db13e","name":"Format Preset Pulldown","func":"//var preset_array = msg.payload;\nvar msg_array = [];\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic != undefined){\n        tmp_object[msg_object.topic] = {\"topic\": msg_object.topic, \"payload\": msg_object.payload};\n        msg_array[i] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":60,"wires":[["897f1dce.b09d4"]]},{"id":"1ee700b4.29242f","type":"inject","z":"169f71f9.0db13e","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":136,"y":197.5,"wires":[["a547bf0d.1dcc8"]]},{"id":"91e34124.bf666","type":"ui_text_input","z":"169f71f9.0db13e","name":"","label":"Edit Preset Name","group":"ef5d0924.1a70d8","order":4,"width":0,"height":0,"passthru":true,"mode":"text","delay":"300","topic":"","x":1523,"y":57,"wires":[["a6f5747.1fceb88"]]},{"id":"beaaefa7.ecc6e","type":"ui_button","z":"169f71f9.0db13e","name":"Save","group":"ef5d0924.1a70d8","order":5,"width":0,"height":0,"passthru":false,"label":"Save Preset","color":"#FFF","bgcolor":"#FF0000","icon":"","payload":"","payloadType":"date","topic":"","x":78,"y":79.5,"wires":[["1f2b662b.13c72a"]]},{"id":"a6f5747.1fceb88","type":"function","z":"169f71f9.0db13e","name":"set global preset name","func":"global.set(\"chauvet_255_preset_name\", msg.payload);","outputs":1,"noerr":0,"x":1755,"y":60,"wires":[[]]},{"id":"1f2b662b.13c72a","type":"function","z":"169f71f9.0db13e","name":"save preset","func":"msg.payload = global.get(\"chauvet_255_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":230,"y":80,"wires":[["c3da8074.35a03"]]},{"id":"f5cb5bae.e571e8","type":"function","z":"169f71f9.0db13e","name":"get preset name","func":"msg.payload = msg.payload.topic;\nreturn msg;","outputs":1,"noerr":0,"x":1328,"y":58.5,"wires":[["91e34124.bf666"]]},{"id":"1dcc2587.282b7a","type":"ui_text","z":"169f71f9.0db13e","group":"ef5d0924.1a70d8","order":3,"width":0,"height":0,"name":"","label":"SAVE PRESET","format":"{{msg.payload}}","layout":"row-left","x":254,"y":331,"wires":[]},{"id":"eca2db1.9880028","type":"ui_text","z":"169f71f9.0db13e","group":"ef5d0924.1a70d8","order":1,"width":0,"height":0,"name":"","label":"RECALL PRESET","format":"{{msg.payload}}","layout":"row-left","x":270,"y":280,"wires":[]},{"id":"4f46f8c.ba66708","type":"function","z":"169f71f9.0db13e","name":"delete preset","func":"var newMsg = {};\nnewMsg.operation  = 'deleteOne';\nnewMsg.payload    = {'topic' : msg.payload};\nreturn newMsg;","outputs":1,"noerr":0,"x":399,"y":140,"wires":[["182cc1b7.4af8ae"]]},{"id":"182cc1b7.4af8ae","type":"mongodb2 in","z":"169f71f9.0db13e","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"chauvet_255_presets","operation":"","x":610,"y":141,"wires":[["a547bf0d.1dcc8"]]},{"id":"3dc1b260.83632e","type":"ui_button","z":"169f71f9.0db13e","name":"Delete","group":"ef5d0924.1a70d8","order":6,"width":0,"height":0,"passthru":false,"label":"Delete Preset","color":"#FFF","bgcolor":"#FF00FF","icon":"","payload":"","payloadType":"date","topic":"","x":79,"y":138.5,"wires":[["ebc0f376.93699"]]},{"id":"ebc0f376.93699","type":"function","z":"169f71f9.0db13e","name":"delete preset","func":"msg.payload = global.get(\"chauvet_255_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":231,"y":139,"wires":[["4f46f8c.ba66708"]]},{"id":"3c64c52a.b69f6a","type":"function","z":"169f71f9.0db13e","name":"Send Current Universe","func":"msg.payload = { \n                dmx: global.get(\"chauvet_255_preset\"),\n                offset: 1\n            };\nreturn msg;","outputs":1,"noerr":0,"x":1940,"y":480,"wires":[[]]},{"id":"e34e02da.e823","type":"ui_numeric","z":"169f71f9.0db13e","name":"DMX 2: Fine Pan","label":"Fine Pan","group":"ea3bd860.23d408","order":8,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":380,"wires":[["ca9dfd78.0d0ec"]]},{"id":"626aa282.f83b6c","type":"ui_numeric","z":"169f71f9.0db13e","name":"DMX 3: Tilt (0-270 deg)","label":"Tilt (0-270 deg)","group":"ea3bd860.23d408","order":6,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":340,"wires":[["38a48b55.b7b004"]]},{"id":"ca74f11b.f8b48","type":"ui_numeric","z":"169f71f9.0db13e","name":"DMX 4: Fine Tilt","label":"Fine Tilt","group":"ea3bd860.23d408","order":10,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1340,"y":420,"wires":[["fba33ba3.2b1648"]]},{"id":"10d14271.75b6ee","type":"ui_numeric","z":"169f71f9.0db13e","name":"DMX 5 Speed (Fast to Slow)","label":"Speed (Fast to Slow)","group":"ea3bd860.23d408","order":12,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1380,"y":460,"wires":[["98003a2d.9f73c8"]]},{"id":"f9111796.bd1028","type":"ui_numeric","z":"169f71f9.0db13e","name":"","label":"Color DMX Output Value","group":"27f07b90.e6d524","order":1,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1410,"y":780,"wires":[["9adf07f0.3a0298"]]},{"id":"830e36cd.93c748","type":"ui_numeric","z":"169f71f9.0db13e","name":"DMX 10 Dimmer (0-100%)","label":"Dimmer (0-100%)","group":"ea3bd860.23d408","order":2,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1380,"y":260,"wires":[["1a260e0b.f59692"]]},{"id":"ea12af47.84581","type":"ui_numeric","z":"169f71f9.0db13e","name":"DMX 11 Shutter","label":"Strobe (Slow to Fast)","group":"ea3bd860.23d408","order":14,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1360,"y":220,"wires":[["f150da4f.681bf8","341dbd95.750622"]]},{"id":"413000d7.205de","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX1 PAN","label":"","group":"ea3bd860.23d408","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":300,"wires":[["a549f661.45b498"]]},{"id":"a549f661.45b498","type":"ui_numeric","z":"169f71f9.0db13e","name":"DMX 1: Pan (0-540 deg)","label":"Pan (0-254 = 0-540 deg)","group":"ea3bd860.23d408","order":4,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":300,"wires":[["d0bfbfd1.2779"]]},{"id":"ac77e770.af5478","type":"ui_switch","z":"169f71f9.0db13e","name":"","label":"Shutter ON/OFF","group":"ea3bd860.23d408","order":1,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"7","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1400,"y":120,"wires":[["1f51f329.bc6ecd"]]},{"id":"341dbd95.750622","type":"function","z":"169f71f9.0db13e","name":"update shutter switch based on dmx data","func":"if (msg.payload > 4){\n    msg.payload = 7;\n}\nelse {\n    msg.payload = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1640,"y":180,"wires":[["ac77e770.af5478"]]},{"id":"f698725d.a1432","type":"ui_switch","z":"169f71f9.0db13e","name":"","label":"Prism ON/OFF","group":"ea3bd860.23d408","order":16,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"16","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1140,"y":500,"wires":[["fca1924.6eec47"]]},{"id":"871b8a83.049308","type":"ui_button","z":"169f71f9.0db13e","name":"red","group":"27f07b90.e6d524","order":8,"width":0,"height":0,"passthru":false,"label":"red","color":"","bgcolor":"red","icon":"","payload":"28","payloadType":"num","topic":"","x":910,"y":1020,"wires":[["f9111796.bd1028"]]},{"id":"62ca9d51.30c914","type":"ui_button","z":"169f71f9.0db13e","name":"white","group":"27f07b90.e6d524","order":4,"width":0,"height":0,"passthru":false,"label":"white (color wheel off)","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":910,"y":860,"wires":[["f9111796.bd1028"]]},{"id":"444de80b.6fba98","type":"ui_button","z":"169f71f9.0db13e","name":"yellow","group":"27f07b90.e6d524","order":5,"width":0,"height":0,"passthru":false,"label":"yellow","color":"black","bgcolor":"yellow","icon":"","payload":"7","payloadType":"num","topic":"","x":910,"y":900,"wires":[["f9111796.bd1028"]]},{"id":"a0f9017d.07da9","type":"ui_button","z":"169f71f9.0db13e","name":"pink","group":"27f07b90.e6d524","order":6,"width":0,"height":0,"passthru":false,"label":"pink","color":"","bgcolor":"magenta","icon":"","payload":"14","payloadType":"num","topic":"","x":910,"y":940,"wires":[["f9111796.bd1028"]]},{"id":"8b3151a4.c0987","type":"ui_button","z":"169f71f9.0db13e","name":"green","group":"27f07b90.e6d524","order":7,"width":0,"height":0,"passthru":false,"label":"green","color":"","bgcolor":"green","icon":"","payload":"21","payloadType":"num","topic":"","x":910,"y":980,"wires":[["f9111796.bd1028"]]},{"id":"9608ff70.4bc4a","type":"ui_button","z":"169f71f9.0db13e","name":"cyan","group":"27f07b90.e6d524","order":9,"width":0,"height":0,"passthru":false,"label":"cyan","color":"black","bgcolor":"cyan","icon":"","payload":"35","payloadType":"num","topic":"","x":910,"y":1060,"wires":[["f9111796.bd1028"]]},{"id":"33cc0056.a6d7d","type":"ui_button","z":"169f71f9.0db13e","name":"lime","group":"27f07b90.e6d524","order":10,"width":0,"height":0,"passthru":false,"label":"lime","color":"black","bgcolor":"lime","icon":"","payload":"42","payloadType":"num","topic":"","x":910,"y":1100,"wires":[["f9111796.bd1028"]]},{"id":"c71c0f7c.9aad2","type":"ui_button","z":"169f71f9.0db13e","name":"orange","group":"27f07b90.e6d524","order":11,"width":0,"height":0,"passthru":false,"label":"orange","color":"","bgcolor":"orange","icon":"","payload":"49","payloadType":"num","topic":"","x":920,"y":1140,"wires":[["f9111796.bd1028"]]},{"id":"dc78fe7b.fccdb","type":"ui_button","z":"169f71f9.0db13e","name":"blue","group":"27f07b90.e6d524","order":12,"width":0,"height":0,"passthru":false,"label":"blue","color":"","bgcolor":"blue","icon":"","payload":"56","payloadType":"num","topic":"","x":910,"y":1180,"wires":[["f9111796.bd1028"]]},{"id":"42711053.c8971","type":"ui_switch","z":"169f71f9.0db13e","name":"","label":"Color Wheel UP/DOWN & SPEED","group":"27f07b90.e6d524","order":2,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"192","onvalueType":"num","onicon":"","oncolor":"","offvalue":"128","offvalueType":"num","officon":"","offcolor":"","x":680,"y":740,"wires":[["7852bce3.b8a9f4"]]},{"id":"7852bce3.b8a9f4","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"color_wheel_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":740,"wires":[["e7b83856.d22528"]]},{"id":"1ad1fc58.808d44","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"color_wheel_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":800,"wires":[["e7b83856.d22528"]]},{"id":"24c622ff.4c58ce","type":"ui_button","z":"169f71f9.0db13e","name":"red + cyan","group":"27f07b90.e6d524","order":17,"width":0,"height":0,"passthru":false,"label":"red + cyan","color":"cyan","bgcolor":"red","icon":"","payload":"93","payloadType":"num","topic":"","x":1130,"y":1000,"wires":[["f9111796.bd1028"]]},{"id":"ed3215cf.e23998","type":"ui_button","z":"169f71f9.0db13e","name":"white + yellow","group":"27f07b90.e6d524","order":13,"width":0,"height":0,"passthru":false,"label":"white + yellow","color":"black","bgcolor":"white","icon":"","payload":"65","payloadType":"num","topic":"","x":1140,"y":840,"wires":[["f9111796.bd1028"]]},{"id":"cb888c2e.05f66","type":"ui_button","z":"169f71f9.0db13e","name":"yellow + pink","group":"27f07b90.e6d524","order":14,"width":0,"height":0,"passthru":false,"label":"yellow + pink","color":"magenta","bgcolor":"yellow","icon":"","payload":"72","payloadType":"num","topic":"","x":1130,"y":880,"wires":[["f9111796.bd1028"]]},{"id":"326b34a0.dfb70c","type":"ui_button","z":"169f71f9.0db13e","name":"pink + green","group":"27f07b90.e6d524","order":15,"width":0,"height":0,"passthru":false,"label":"pink + green","color":"green","bgcolor":"magenta","icon":"","payload":"79","payloadType":"num","topic":"","x":1130,"y":920,"wires":[["f9111796.bd1028"]]},{"id":"1c7ece4f.cba672","type":"ui_button","z":"169f71f9.0db13e","name":"green + red","group":"27f07b90.e6d524","order":16,"width":0,"height":0,"passthru":false,"label":"green + red","color":"red","bgcolor":"green","icon":"","payload":"86","payloadType":"num","topic":"","x":1130,"y":960,"wires":[["f9111796.bd1028"]]},{"id":"d1976248.ce20e","type":"ui_button","z":"169f71f9.0db13e","name":"cyan + lime","group":"27f07b90.e6d524","order":18,"width":0,"height":0,"passthru":false,"label":"cyan + lime","color":"green","bgcolor":"cyan","icon":"","payload":"100","payloadType":"num","topic":"","x":1130,"y":1040,"wires":[["f9111796.bd1028"]]},{"id":"9c001f44.5fd8d","type":"ui_button","z":"169f71f9.0db13e","name":"lime + orange","group":"27f07b90.e6d524","order":19,"width":0,"height":0,"passthru":false,"label":"lime + orange","color":"orange","bgcolor":"lime","icon":"","payload":"107","payloadType":"num","topic":"","x":1140,"y":1080,"wires":[["f9111796.bd1028"]]},{"id":"e53129f7.0259b8","type":"ui_button","z":"169f71f9.0db13e","name":"orange + blue","group":"27f07b90.e6d524","order":20,"width":0,"height":0,"passthru":false,"label":"orange + blue","color":"blue","bgcolor":"orange","icon":"","payload":"114","payloadType":"num","topic":"","x":1140,"y":1120,"wires":[["f9111796.bd1028"]]},{"id":"16c7755f.8415ab","type":"ui_button","z":"169f71f9.0db13e","name":"dark + white","group":"27f07b90.e6d524","order":21,"width":0,"height":0,"passthru":false,"label":"blue + white","color":"white","bgcolor":"blue","icon":"","payload":"121","payloadType":"num","topic":"","x":1130,"y":1160,"wires":[["f9111796.bd1028"]]},{"id":"e7b83856.d22528","type":"function","z":"169f71f9.0db13e","name":"color wheel slider + offset","func":"var offset = flow.get(\"color_wheel_offset\");\nvar color_wheel_speed = flow.get(\"color_wheel_speed\");\nmsg.payload = offset + color_wheel_speed;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":780,"wires":[["f9111796.bd1028"]]},{"id":"ac857a6b.157918","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX8 GOBO ROTATION SPEED","label":"","group":"1b4c344c.bd38ac","order":17,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"111","step":"1","x":1180,"y":1340,"wires":[["4f075e94.a7bba"]]},{"id":"e62de44d.0dc588","type":"ui_numeric","z":"169f71f9.0db13e","name":"","label":"Gobo Rotation Value","group":"1b4c344c.bd38ac","order":13,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1360,"y":580,"wires":[["dc0397e.63f4868"]]},{"id":"aedfdd5.22cc42","type":"ui_switch","z":"169f71f9.0db13e","name":"","label":"Gobo Rotate UP/DOWN","group":"1b4c344c.bd38ac","order":16,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"120","onvalueType":"num","onicon":"","oncolor":"","offvalue":"8","offvalueType":"num","officon":"","offcolor":"","x":1150,"y":1300,"wires":[["153e71df.c0664e"]]},{"id":"153e71df.c0664e","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"gobo_rotate_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":1420,"y":1300,"wires":[["bdc03db2.5d49c"]]},{"id":"4f075e94.a7bba","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"gobo_rotate_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":1420,"y":1340,"wires":[["bdc03db2.5d49c"]]},{"id":"bdc03db2.5d49c","type":"function","z":"169f71f9.0db13e","name":"gobo rotation slider + offset","func":"var bounce_flag = flow.get(\"gobo_bounce_flag\");\n\nif(bounce_flag===0){\n\n   var rotate_flag = flow.get(\"gobo_rotate_flag\");\n   \n    if (rotate_flag ===0) {\n        msg.payload = 0;\n       \n    }\n    else {\n         flow.set(\"gobo_bounce_flag\", 0);\n        \n        var offset = flow.get(\"gobo_rotate_offset\");\n        var speed = flow.get(\"gobo_rotate_speed\");\n        \n        msg.payload = offset + speed;\n    }\n     \n}\nelse {\n    \n     flow.set(\"gobo_rotate_flag\", 0);\n     msg.payload = 232;  \n    \n    \n      \n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1720,"y":1280,"wires":[["e62de44d.0dc588"]]},{"id":"6db55400.0d6fec","type":"ui_button","z":"169f71f9.0db13e","name":"no gobo","group":"1b4c344c.bd38ac","order":2,"width":0,"height":0,"passthru":false,"label":"no gobo","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1360,"y":840,"wires":[["f4584838.d502f8"]]},{"id":"7d24369c.a234b8","type":"ui_button","z":"169f71f9.0db13e","name":"dots in a circle gobo","group":"1b4c344c.bd38ac","order":3,"width":0,"height":0,"passthru":false,"label":"dots in a circle gobo","color":"black","bgcolor":"white","icon":"","payload":"8","payloadType":"num","topic":"","x":1400,"y":880,"wires":[["f4584838.d502f8"]]},{"id":"4193878d.491138","type":"ui_button","z":"169f71f9.0db13e","name":"bubbles","group":"1b4c344c.bd38ac","order":4,"width":0,"height":0,"passthru":false,"label":"bubbles","color":"black","bgcolor":"white","icon":"","payload":"16","payloadType":"num","topic":"","x":1360,"y":920,"wires":[["f4584838.d502f8"]]},{"id":"154a67e.6f10298","type":"ui_switch","z":"169f71f9.0db13e","name":"","label":"Gobo Bounce ON/OFF","group":"1b4c344c.bd38ac","order":14,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1140,"y":1220,"wires":[["222d30db.be27b"]]},{"id":"92ebd030.dbe36","type":"ui_switch","z":"169f71f9.0db13e","name":"","label":"Gobo Rotate ON/OFF","group":"1b4c344c.bd38ac","order":15,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1140,"y":1260,"wires":[["947aabef.27b788"]]},{"id":"222d30db.be27b","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"gobo_bounce_flag\", msg.payload);\nif (msg.payload ===1) {\n    flow.set(\"gobo_rotate_flag\", 0);\n    msg.payload = 0;\n}\nelse {\n    msg.payload = null;\n}\nreturn msg;\n","outputs":1,"noerr":0,"x":1420,"y":1220,"wires":[["bdc03db2.5d49c","92ebd030.dbe36"]]},{"id":"947aabef.27b788","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"gobo_rotate_flag\", msg.payload);\nif (msg.payload ===1) {\n    flow.set(\"gobo_bounce_flag\", 0);\n    msg.payload = 0\n}\nelse {\n    msg.payload = null;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1420,"y":1260,"wires":[["bdc03db2.5d49c","154a67e.6f10298"]]},{"id":"47007452.8ea88c","type":"ui_button","z":"169f71f9.0db13e","name":"swirls","group":"1b4c344c.bd38ac","order":5,"width":0,"height":0,"passthru":false,"label":"swirls","color":"black","bgcolor":"white","icon":"","payload":"24","payloadType":"num","topic":"","x":1350,"y":960,"wires":[["f4584838.d502f8"]]},{"id":"e90ed6d9.7aec58","type":"ui_button","z":"169f71f9.0db13e","name":"biohazard","group":"1b4c344c.bd38ac","order":6,"width":0,"height":0,"passthru":false,"label":"biohazard","color":"black","bgcolor":"white","icon":"","payload":"32","payloadType":"num","topic":"","x":1360,"y":1000,"wires":[["f4584838.d502f8"]]},{"id":"463c093a.2e4d58","type":"ui_button","z":"169f71f9.0db13e","name":"flower","group":"1b4c344c.bd38ac","order":7,"width":0,"height":0,"passthru":false,"label":"flower","color":"black","bgcolor":"white","icon":"","payload":"40","payloadType":"num","topic":"","x":1350,"y":1040,"wires":[["f4584838.d502f8"]]},{"id":"2cea9b62.c11464","type":"ui_button","z":"169f71f9.0db13e","name":"triangle grate","group":"1b4c344c.bd38ac","order":8,"width":0,"height":0,"passthru":false,"label":"triangle grate","color":"black","bgcolor":"white","icon":"","payload":"48","payloadType":"num","topic":"","x":1370,"y":1080,"wires":[["f4584838.d502f8"]]},{"id":"62e94af1.2c8204","type":"ui_button","z":"169f71f9.0db13e","name":"spiral","group":"1b4c344c.bd38ac","order":9,"width":0,"height":0,"passthru":false,"label":"spiral","color":"black","bgcolor":"white","icon":"","payload":"56","payloadType":"num","topic":"","x":1350,"y":1120,"wires":[["f4584838.d502f8"]]},{"id":"1a4c43c0.8c2aac","type":"ui_numeric","z":"169f71f9.0db13e","name":"","label":"Gobo Output Value","group":"1b4c344c.bd38ac","order":1,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1350,"y":540,"wires":[["6853fed3.daec2"]]},{"id":"f4584838.d502f8","type":"function","z":"169f71f9.0db13e","name":"set current gobo selection","func":"flow.set(\"current_gobo_selection\", msg.payload);\nmsg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"x":1650,"y":960,"wires":[["26a22090.4ccca"]]},{"id":"e54c943d.1edec8","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX7 GOBO SHAKE SPEED","label":"Shake:","group":"1b4c344c.bd38ac","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"8","step":"1","x":1430,"y":1160,"wires":[["26a22090.4ccca"]]},{"id":"26a22090.4ccca","type":"function","z":"169f71f9.0db13e","name":"gobo rotation slider + offset","func":"var current_gobo = flow.get(\"current_gobo_selection\");\nif (msg.payload === 0) {\n    msg.payload = current_gobo;\n    return msg;\n}\nelse if(msg.payload!==null) {\n    switch(current_gobo) {\n        case 56:\n            msg.payload = msg.payload + 63;\n            break;\n        case 48:\n            msg.payload = msg.payload + 71;\n            break;\n        case 40:\n            msg.payload = msg.payload + 79;\n            break;\n        case 32:\n            msg.payload = msg.payload + 87;\n            break;\n        case 24:\n            msg.payload = msg.payload + 95;\n            break;\n        case 16:\n            msg.payload = msg.payload + 103;\n            break;\n        case 8:\n            msg.payload = msg.payload + 111;\n            break;\n        default:\n            msg.payload = 0;\n    }\n    return msg;\n}\n","outputs":1,"noerr":0,"x":2000,"y":960,"wires":[["1a4c43c0.8c2aac"]]},{"id":"aa4ad043.3c546","type":"ui_slider","z":"169f71f9.0db13e","name":"DMX7 GOBO CYCLE SPEED","label":"","group":"1b4c344c.bd38ac","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"63","step":"1","x":1770,"y":1140,"wires":[["aec873bb.e0bf4"]]},{"id":"be0fd690.e483b8","type":"ui_switch","z":"169f71f9.0db13e","name":"","label":"Gobo Cycle UP/DOWN & SPEED","group":"1b4c344c.bd38ac","order":11,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"192","onvalueType":"num","onicon":"","oncolor":"","offvalue":"128","offvalueType":"num","officon":"","offcolor":"","x":1780,"y":1080,"wires":[["50d3ac88.505e64"]]},{"id":"50d3ac88.505e64","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"gobo_cycle_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":2020,"y":1080,"wires":[["1f4b0e7f.185782"]]},{"id":"aec873bb.e0bf4","type":"function","z":"169f71f9.0db13e","name":"save flow offset","func":"flow.set(\"gobo_cycle_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":2020,"y":1140,"wires":[["1f4b0e7f.185782"]]},{"id":"1f4b0e7f.185782","type":"function","z":"169f71f9.0db13e","name":"gobo cycle slider + offset","func":"var offset = flow.get(\"gobo_cycle_offset\");\nvar gobo_cycle_speed = flow.get(\"gobo_cycle_speed\");\nmsg.payload = offset + gobo_cycle_speed;\nreturn msg;","outputs":1,"noerr":0,"x":2250,"y":1120,"wires":[["1a4c43c0.8c2aac"]]},{"id":"7097de5d.e5815","type":"comment","z":"68b10b3.d3953f4","name":"DMX Addresses","info":"house: 10 13 24\ngreen screen: 43 30 \n470: sniper 3136\n450: chauvet 155 grid\n430: chauvet 155 floor\n410: chauvet 255 floor\n400: adj pinspot","x":140,"y":40,"wires":[]},{"id":"691ef038.849f1","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX2 FINE PAN","label":"","group":"ea3bd860.23d408","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":380,"wires":[["6892133c.fab6ec"]]},{"id":"6bd31ef.91320e","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX12 FUNCTIONS","label":"DMX 12: Functions","group":"1b4c344c.bd38ac","order":6,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1180,"y":660,"wires":[["9d2a1153.df087"]]},{"id":"e0f98762.998f28","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX11 SHUTTER","label":"","group":"1b4c344c.bd38ac","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":"7","max":"215","step":1,"x":1150,"y":220,"wires":[["4787d71f.bdfb78"]]},{"id":"49316324.56342c","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX10 DIMMER","label":"","group":"ea3bd860.23d408","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":260,"wires":[["82b3418e.b7b0c"]]},{"id":"a6f4fd62.b064f","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX8 GOBO ROTATION","label":"DMX 8: Gobo Rotation","group":"1b4c344c.bd38ac","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1170,"y":580,"wires":[["ae92b77d.44c678"]]},{"id":"ead7c35e.bf79f","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX7 GOBOS","label":"DMX 7: Gobos","group":"1b4c344c.bd38ac","order":4,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1140,"y":540,"wires":[["6abc07d7.7f9eb8"]]},{"id":"57681d65.950cd4","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX6 COLOR WHEEL SPEED","label":"","group":"27f07b90.e6d524","order":3,"width":0,"height":0,"passthru":false,"topic":"Slider","min":0,"max":"63","step":"1","x":670,"y":800,"wires":[["a6f425c.25b5ad8"]]},{"id":"ba00158f.04aa78","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX5 SPEED","label":"","group":"ea3bd860.23d408","order":13,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1140,"y":460,"wires":[["21c5df3b.4f3f4"]]},{"id":"38ee0c29.645d04","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX4 FINE TILT","label":"","group":"ea3bd860.23d408","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1150,"y":420,"wires":[["114736af.c6b4d9"]]},{"id":"fd9cdef9.40ff1","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX3 TILT","label":"","group":"ea3bd860.23d408","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":340,"wires":[["51d00655.a91258"]]},{"id":"9a5f4a4f.846948","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX1","rules":[{"t":"set","p":"chauvet_255_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":300,"wires":[["cddf4f4.5a4d1b"]]},{"id":"a0bcb1f4.e2b32","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX2","rules":[{"t":"set","p":"chauvet_255_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":380,"wires":[["cddf4f4.5a4d1b"]]},{"id":"b478bb23.d55d88","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX3","rules":[{"t":"set","p":"chauvet_255_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":340,"wires":[["cddf4f4.5a4d1b"]]},{"id":"10264bfa.585e84","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX4","rules":[{"t":"set","p":"chauvet_255_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":420,"wires":[["cddf4f4.5a4d1b"]]},{"id":"b542a340.d7a2f","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX5","rules":[{"t":"set","p":"chauvet_255_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":460,"wires":[["cddf4f4.5a4d1b"]]},{"id":"1a51de37.815d02","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX6","rules":[{"t":"set","p":"chauvet_255_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":800,"wires":[["cddf4f4.5a4d1b"]]},{"id":"4a7c2daf.d704e4","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX7","rules":[{"t":"set","p":"chauvet_255_preset[6]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":540,"wires":[["cddf4f4.5a4d1b"]]},{"id":"8a48f844.4f7ee8","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX8","rules":[{"t":"set","p":"chauvet_255_preset[7]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":580,"wires":[["cddf4f4.5a4d1b"]]},{"id":"8f43fda3.c80de","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX9","rules":[{"t":"set","p":"chauvet_255_preset[8]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":500,"wires":[["cddf4f4.5a4d1b"]]},{"id":"d1960895.da62e8","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX10","rules":[{"t":"set","p":"chauvet_255_preset[9]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":260,"wires":[["cddf4f4.5a4d1b"]]},{"id":"e68628ac.0539f8","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX11","rules":[{"t":"set","p":"chauvet_255_preset[10]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":220,"wires":[["cddf4f4.5a4d1b"]]},{"id":"c0fa5514.2f7f98","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX12","rules":[{"t":"set","p":"chauvet_255_preset[11]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":660,"wires":[["cddf4f4.5a4d1b"]]},{"id":"443a282e.8b88f8","type":"function","z":"2180ec35.7437c4","name":"Just get preset","func":"global.set(\"chauvet_255_preset\", msg.payload.payload);\n\nvar preset = [];\nvar m = [];\npreset = global.get(\"chauvet_255_preset\");\n\n\nfor (var i=0;i<13;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":13,"noerr":0,"x":901,"y":368,"wires":[["553fe2bd.fc618c"],["691ef038.849f1"],["fd9cdef9.40ff1"],["38ee0c29.645d04"],["ba00158f.04aa78"],["7a32dea8.fe208"],["ead7c35e.bf79f"],["a6f4fd62.b064f"],[],["49316324.56342c"],["e0f98762.998f28"],["6bd31ef.91320e"],["a07eb2b1.82cf7"]]},{"id":"1a907ed0.d2bfd1","type":"function","z":"2180ec35.7437c4","name":"insert preset","func":"var preset = [];\npreset = global.get(\"chauvet_255_preset\");\nvar newMsg = {};\nnewMsg.collection = 'chauvet_255_presets';\nnewMsg.payload = [\n  {topic: msg.payload},\n  {\n    \"$set\": {\n      \"payload\": preset\n    }\n  },\n  {upsert:true}\n];\n\nreturn newMsg;\n","outputs":1,"noerr":0,"x":398,"y":81,"wires":[["60eb15f.120e3ec"]]},{"id":"60eb15f.120e3ec","type":"mongodb2 in","z":"2180ec35.7437c4","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"chauvet_255_presets","operation":"findOneAndUpdate","x":609,"y":82,"wires":[["2ace40d6.efb25"]]},{"id":"29851382.6a2ebc","type":"function","z":"2180ec35.7437c4","name":"init global variables","func":"global.set(\"dmx_preset\",[0,0,0,0,0,0,0,0,0,0,0,0]); \nmsg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":417,"y":496,"wires":[["4c379b69.57a0e4","75eccabb.79b964"]]},{"id":"a0d65cd1.c92b8","type":"inject","z":"2180ec35.7437c4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":222,"y":496.5,"wires":[["29851382.6a2ebc"]]},{"id":"4c379b69.57a0e4","type":"debug","z":"2180ec35.7437c4","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":624,"y":496,"wires":[]},{"id":"625ec37a.55d43c","type":"debug","z":"2180ec35.7437c4","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":623,"y":578,"wires":[]},{"id":"92bfed1b.a44b3","type":"function","z":"2180ec35.7437c4","name":"check global preset","func":"msg.payload = global.get(\"dmx_preset\");\nreturn msg;","outputs":1,"noerr":0,"x":416,"y":579,"wires":[["625ec37a.55d43c","75eccabb.79b964"]]},{"id":"25d724e8.f7c20c","type":"inject","z":"2180ec35.7437c4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":215,"y":573.5,"wires":[["92bfed1b.a44b3"]]},{"id":"75eccabb.79b964","type":"function","z":"2180ec35.7437c4","name":"Reset from global","func":"var preset = [];\nvar m = [];\npreset = global.get(\"chauvet_255_preset\");\n\n\nfor (var i=0;i<13;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":13,"noerr":0,"x":865.5,"y":588,"wires":[["553fe2bd.fc618c"],["691ef038.849f1"],["fd9cdef9.40ff1"],["38ee0c29.645d04"],["ba00158f.04aa78"],["7a32dea8.fe208"],["ead7c35e.bf79f"],["a6f4fd62.b064f"],["45f15f7b.1c47c"],["49316324.56342c"],["e0f98762.998f28"],["6bd31ef.91320e"],["a07eb2b1.82cf7"]]},{"id":"6d67f5d.752b30c","type":"mongodb2 in","z":"2180ec35.7437c4","service":"_ext_","configNode":"e8414499.885228","name":"Mongo DB dynamic operation","collection":"chauvet_255_presets","operation":"","x":519,"y":202,"wires":[["a428ef31.c7ad8"]]},{"id":"2ace40d6.efb25","type":"function","z":"2180ec35.7437c4","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":285,"y":199,"wires":[["6d67f5d.752b30c"]]},{"id":"745f3c9e.a7d064","type":"ui_dropdown","z":"2180ec35.7437c4","name":"Recall Pulldown","label":"Recall","place":"Select option","group":"ef5d0924.1a70d8","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1140,"y":60,"wires":[["443a282e.8b88f8","6cdd0e95.46c94"]]},{"id":"a428ef31.c7ad8","type":"function","z":"2180ec35.7437c4","name":"Format Preset Pulldown","func":"//var preset_array = msg.payload;\nvar msg_array = [];\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic != undefined){\n        tmp_object[msg_object.topic] = {\"topic\": msg_object.topic, \"payload\": msg_object.payload};\n        msg_array[i] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":60,"wires":[["745f3c9e.a7d064"]]},{"id":"50f67643.ce8e78","type":"inject","z":"2180ec35.7437c4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":136,"y":197.5,"wires":[["2ace40d6.efb25"]]},{"id":"f4664ea3.e237e","type":"ui_text_input","z":"2180ec35.7437c4","name":"","label":"Edit Preset Name","group":"ef5d0924.1a70d8","order":4,"width":0,"height":0,"passthru":true,"mode":"text","delay":"300","topic":"","x":1523,"y":57,"wires":[["81b9e50a.1d4dd8"]]},{"id":"ff5676b0.668238","type":"ui_button","z":"2180ec35.7437c4","name":"Save","group":"ef5d0924.1a70d8","order":5,"width":0,"height":0,"passthru":false,"label":"Save Preset","color":"#FFF","bgcolor":"#FF0000","icon":"","payload":"","payloadType":"date","topic":"","x":78,"y":79.5,"wires":[["c3f1a17e.18b11"]]},{"id":"81b9e50a.1d4dd8","type":"function","z":"2180ec35.7437c4","name":"set global preset name","func":"global.set(\"chauvet_255_preset_name\", msg.payload);","outputs":1,"noerr":0,"x":1755,"y":60,"wires":[[]]},{"id":"c3f1a17e.18b11","type":"function","z":"2180ec35.7437c4","name":"save preset","func":"msg.payload = global.get(\"chauvet_255_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":230,"y":80,"wires":[["1a907ed0.d2bfd1"]]},{"id":"6cdd0e95.46c94","type":"function","z":"2180ec35.7437c4","name":"get preset name","func":"msg.payload = msg.payload.topic;\nreturn msg;","outputs":1,"noerr":0,"x":1328,"y":58.5,"wires":[["f4664ea3.e237e"]]},{"id":"ff24bb84.c0dcc8","type":"ui_text","z":"2180ec35.7437c4","group":"ef5d0924.1a70d8","order":3,"width":0,"height":0,"name":"","label":"SAVE PRESET","format":"{{msg.payload}}","layout":"row-left","x":254,"y":331,"wires":[]},{"id":"fe8e291d.a58e58","type":"ui_text","z":"2180ec35.7437c4","group":"ef5d0924.1a70d8","order":1,"width":0,"height":0,"name":"","label":"RECALL PRESET","format":"{{msg.payload}}","layout":"row-left","x":270,"y":280,"wires":[]},{"id":"b9c7787e.dabb78","type":"function","z":"2180ec35.7437c4","name":"delete preset","func":"var newMsg = {};\nnewMsg.operation  = 'deleteOne';\nnewMsg.payload    = {'topic' : msg.payload};\nreturn newMsg;","outputs":1,"noerr":0,"x":399,"y":140,"wires":[["14076852.cfc1b8"]]},{"id":"14076852.cfc1b8","type":"mongodb2 in","z":"2180ec35.7437c4","service":"_ext_","configNode":"e8414499.885228","name":"Store Data into MongoDB","collection":"chauvet_255_presets","operation":"","x":610,"y":141,"wires":[["2ace40d6.efb25"]]},{"id":"83e2315c.77313","type":"ui_button","z":"2180ec35.7437c4","name":"Delete","group":"ef5d0924.1a70d8","order":6,"width":0,"height":0,"passthru":false,"label":"Delete Preset","color":"#FFF","bgcolor":"#FF00FF","icon":"","payload":"","payloadType":"date","topic":"","x":79,"y":138.5,"wires":[["79d4ad7.462c754"]]},{"id":"79d4ad7.462c754","type":"function","z":"2180ec35.7437c4","name":"delete preset","func":"msg.payload = global.get(\"chauvet_255_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":231,"y":139,"wires":[["b9c7787e.dabb78"]]},{"id":"cddf4f4.5a4d1b","type":"function","z":"2180ec35.7437c4","name":"Send Current Universe","func":"msg.payload = { \n                dmx: global.get(\"chauvet_255_preset\"),\n                offset: 1\n            };\nreturn msg;","outputs":1,"noerr":0,"x":1940,"y":480,"wires":[[]]},{"id":"a07eb2b1.82cf7","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX13 AUTO MACROS","label":"DMX 13: Auto Macros","group":"1b4c344c.bd38ac","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1190,"y":700,"wires":[["4adc25db.06ae0c"]]},{"id":"dcbe5a74.81e1b8","type":"change","z":"2180ec35.7437c4","name":"save to Global DMX13","rules":[{"t":"set","p":"chauvet_255_preset[12]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":700,"wires":[["cddf4f4.5a4d1b"]]},{"id":"6892133c.fab6ec","type":"ui_numeric","z":"2180ec35.7437c4","name":"DMX 2: Fine Pan","label":"Fine Pan","group":"ea3bd860.23d408","order":8,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"254","step":1,"x":1350,"y":380,"wires":[["a0bcb1f4.e2b32"]]},{"id":"51d00655.a91258","type":"ui_numeric","z":"2180ec35.7437c4","name":"DMX 3: Tilt (0-270 deg)","label":"Tilt (0-270 deg)","group":"ea3bd860.23d408","order":6,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"254","step":1,"x":1350,"y":340,"wires":[["b478bb23.d55d88"]]},{"id":"114736af.c6b4d9","type":"ui_numeric","z":"2180ec35.7437c4","name":"DMX 4: Fine Tilt","label":"Fine Tilt","group":"ea3bd860.23d408","order":10,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1340,"y":420,"wires":[["10264bfa.585e84"]]},{"id":"21c5df3b.4f3f4","type":"ui_numeric","z":"2180ec35.7437c4","name":"DMX 5 Speed (Fast to Slow)","label":"Speed (Fast to Slow)","group":"ea3bd860.23d408","order":12,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1380,"y":460,"wires":[["b542a340.d7a2f"]]},{"id":"7a32dea8.fe208","type":"ui_numeric","z":"2180ec35.7437c4","name":"","label":"Color DMX Output Value","group":"27f07b90.e6d524","order":1,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1410,"y":800,"wires":[["1a51de37.815d02"]]},{"id":"6abc07d7.7f9eb8","type":"ui_numeric","z":"2180ec35.7437c4","name":"","label":"numeric","group":"e33de808.a12a18","order":0,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1320,"y":540,"wires":[["4a7c2daf.d704e4"]]},{"id":"ae92b77d.44c678","type":"ui_numeric","z":"2180ec35.7437c4","name":"","label":"numeric","group":"e33de808.a12a18","order":0,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1360,"y":580,"wires":[["8a48f844.4f7ee8"]]},{"id":"82b3418e.b7b0c","type":"ui_numeric","z":"2180ec35.7437c4","name":"DMX 10 Dimmer (0-100%)","label":"Dimmer (0-100%)","group":"ea3bd860.23d408","order":2,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"254","step":1,"x":1380,"y":260,"wires":[["d1960895.da62e8"]]},{"id":"4787d71f.bdfb78","type":"ui_numeric","z":"2180ec35.7437c4","name":"DMX 11 Shutter","label":"Strobe (increasing speed)","group":"1b4c344c.bd38ac","order":1,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1360,"y":220,"wires":[["e68628ac.0539f8","d431ada.edb455"]]},{"id":"9d2a1153.df087","type":"ui_numeric","z":"2180ec35.7437c4","name":"","label":"numeric","group":"e33de808.a12a18","order":0,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1380,"y":660,"wires":[["c0fa5514.2f7f98"]]},{"id":"4adc25db.06ae0c","type":"ui_numeric","z":"2180ec35.7437c4","name":"","label":"numeric","group":"e33de808.a12a18","order":0,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"255","step":1,"x":1380,"y":700,"wires":[["dcbe5a74.81e1b8"]]},{"id":"553fe2bd.fc618c","type":"ui_slider","z":"2180ec35.7437c4","name":"DMX1 PAN","label":"","group":"ea3bd860.23d408","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1130,"y":300,"wires":[["e8e9c7bd.208fc8"]]},{"id":"e8e9c7bd.208fc8","type":"ui_numeric","z":"2180ec35.7437c4","name":"DMX 1: Pan (0-540 deg)","label":"Pan (0-254 = 0-540 deg)","group":"ea3bd860.23d408","order":4,"width":0,"height":0,"passthru":true,"topic":"","format":"{{value}}","min":0,"max":"254","step":1,"x":1350,"y":300,"wires":[["9a5f4a4f.846948"]]},{"id":"84275bd4.a5b208","type":"ui_switch","z":"2180ec35.7437c4","name":"","label":"Shutter ON/OFF","group":"ea3bd860.23d408","order":1,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"7","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1400,"y":120,"wires":[["e0f98762.998f28"]]},{"id":"d431ada.edb455","type":"function","z":"2180ec35.7437c4","name":"update shutter switch based on dmx data","func":"if (msg.payload > 4){\n    msg.payload = 7;\n}\nelse {\n    msg.payload = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":1640,"y":180,"wires":[["84275bd4.a5b208"]]},{"id":"45f15f7b.1c47c","type":"ui_switch","z":"2180ec35.7437c4","name":"","label":"Prism ON/OFF","group":"1b4c344c.bd38ac","order":2,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"16","onvalueType":"num","onicon":"","oncolor":"","offvalue":"0","offvalueType":"num","officon":"","offcolor":"","x":1140,"y":500,"wires":[["8f43fda3.c80de"]]},{"id":"7934ac7f.66d1b4","type":"ui_button","z":"2180ec35.7437c4","name":"red","group":"27f07b90.e6d524","order":8,"width":0,"height":0,"passthru":false,"label":"red","color":"","bgcolor":"red","icon":"","payload":"28","payloadType":"num","topic":"","x":1050,"y":1020,"wires":[["7a32dea8.fe208"]]},{"id":"308019e.f7ba3e6","type":"ui_button","z":"2180ec35.7437c4","name":"white","group":"27f07b90.e6d524","order":4,"width":0,"height":0,"passthru":false,"label":"white","color":"black","bgcolor":"white","icon":"","payload":"0","payloadType":"num","topic":"","x":1050,"y":860,"wires":[["7a32dea8.fe208"]]},{"id":"2ff0e8ae.d5a108","type":"ui_button","z":"2180ec35.7437c4","name":"yellow","group":"27f07b90.e6d524","order":5,"width":0,"height":0,"passthru":false,"label":"yellow","color":"black","bgcolor":"yellow","icon":"","payload":"7","payloadType":"num","topic":"","x":1050,"y":900,"wires":[["7a32dea8.fe208"]]},{"id":"6807a8.4359d858","type":"ui_button","z":"2180ec35.7437c4","name":"pink","group":"27f07b90.e6d524","order":6,"width":0,"height":0,"passthru":false,"label":"pink","color":"","bgcolor":"magenta","icon":"","payload":"14","payloadType":"num","topic":"","x":1050,"y":940,"wires":[["7a32dea8.fe208"]]},{"id":"6f21a4c4.8e128c","type":"ui_button","z":"2180ec35.7437c4","name":"green","group":"27f07b90.e6d524","order":7,"width":0,"height":0,"passthru":false,"label":"green","color":"","bgcolor":"green","icon":"","payload":"21","payloadType":"num","topic":"","x":1050,"y":980,"wires":[["7a32dea8.fe208"]]},{"id":"11e1572f.590429","type":"ui_button","z":"2180ec35.7437c4","name":"light blue","group":"27f07b90.e6d524","order":9,"width":0,"height":0,"passthru":false,"label":"light blue","color":"black","bgcolor":"cyan","icon":"","payload":"35","payloadType":"num","topic":"","x":1060,"y":1060,"wires":[["7a32dea8.fe208"]]},{"id":"6384ce85.2f44c","type":"ui_button","z":"2180ec35.7437c4","name":"kelly green","group":"27f07b90.e6d524","order":10,"width":0,"height":0,"passthru":false,"label":"kelly green","color":"black","bgcolor":"lime","icon":"","payload":"42","payloadType":"num","topic":"","x":1070,"y":1100,"wires":[["7a32dea8.fe208"]]},{"id":"8a921e37.ffae7","type":"ui_button","z":"2180ec35.7437c4","name":"orange","group":"27f07b90.e6d524","order":11,"width":0,"height":0,"passthru":false,"label":"orange","color":"","bgcolor":"orange","icon":"","payload":"49","payloadType":"num","topic":"","x":1060,"y":1140,"wires":[["7a32dea8.fe208"]]},{"id":"3b6e0bea.7b6554","type":"ui_button","z":"2180ec35.7437c4","name":"dark blue","group":"27f07b90.e6d524","order":12,"width":0,"height":0,"passthru":false,"label":"dark blue","color":"","bgcolor":"blue","icon":"","payload":"56","payloadType":"num","topic":"","x":1060,"y":1180,"wires":[["7a32dea8.fe208"]]},{"id":"4efbad3b.7ad1c4","type":"ui_switch","z":"2180ec35.7437c4","name":"","label":"Color Wheel UP/DOWN & SPEED","group":"27f07b90.e6d524","order":2,"width":0,"height":0,"passthru":false,"decouple":"false","topic":"","style":"","onvalue":"192","onvalueType":"num","onicon":"","oncolor":"","offvalue":"128","offvalueType":"num","officon":"","offcolor":"","x":680,"y":740,"wires":[["15793c05.7730b4"]]},{"id":"15793c05.7730b4","type":"function","z":"2180ec35.7437c4","name":"save flow offset","func":"flow.set(\"color_wheel_offset\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":740,"wires":[["b0a62dcf.9cc08"]]},{"id":"b0a62dcf.9cc08","type":"function","z":"2180ec35.7437c4","name":"color wheel slider + offset","func":"var offset = flow.get(\"color_wheel_offset\");\nvar color_wheel_slider = flow.get(\"color_wheel_slider\");\nmsg.payload = offset + color_wheel_slider;\nreturn msg;","outputs":1,"noerr":0,"x":1150,"y":780,"wires":[["7a32dea8.fe208"]]},{"id":"a6f425c.25b5ad8","type":"function","z":"2180ec35.7437c4","name":"save flow offset","func":"flow.set(\"color_wheel_speed\", msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":920,"y":800,"wires":[["b0a62dcf.9cc08"]]},{"id":"601c3927.7a4a58","type":"function","z":"68b10b3.d3953f4","name":"last known universe","func":"//add here","outputs":1,"noerr":0,"x":330,"y":100,"wires":[[]]},{"id":"6efb7d28.9ae3c4","type":"function","z":"b8aaba87.539188","name":"insert preset","func":"var preset = [];\npreset = global.get(\"dark_lab_preset\");\nvar newMsg = {};\nnewMsg.collection = 'dark_lab_presets';\nnewMsg.payload = [\n  {topic: msg.payload},\n  {\n    \"$set\": {\n      \"payload\": preset\n    }\n  },\n  {upsert:true}\n];\n\nreturn newMsg;\n","outputs":1,"noerr":0,"x":410,"y":140,"wires":[["9e3101ad.1fd05"]]},{"id":"9e3101ad.1fd05","type":"mongodb2 in","z":"b8aaba87.539188","service":"_ext_","configNode":"aa034a9c.e558d8","name":"Store Data into MongoDB","collection":"dark_lab_presets","operation":"findOneAndUpdate","x":621,"y":141,"wires":[["2c42216d.0a79ae"]]},{"id":"51068565.c6ea0c","type":"mongodb2 in","z":"b8aaba87.539188","service":"_ext_","configNode":"aa034a9c.e558d8","name":"Mongo DB dynamic operation","collection":"dark_lab_presets","operation":"","x":531,"y":261,"wires":[["b3e2dc07.06b8f"]]},{"id":"2c42216d.0a79ae","type":"function","z":"b8aaba87.539188","name":"findOne","func":"var newMsg = {};\nnewMsg.operation  = 'find.toArray';\nnewMsg.payload    = {};\nreturn newMsg;","outputs":1,"noerr":0,"x":297,"y":258,"wires":[["51068565.c6ea0c"]]},{"id":"e534a7a6.f40b88","type":"ui_dropdown","z":"b8aaba87.539188","name":"Recall Pulldown","label":"Recall","place":"Select option","group":"dc78dc99.eb78e","order":2,"width":0,"height":0,"passthru":false,"options":[],"payload":"","topic":"","x":1011,"y":187,"wires":[["644a6036.0373c","4fc49be9.faf314"]]},{"id":"b3e2dc07.06b8f","type":"function","z":"b8aaba87.539188","name":"Format Preset Pulldown","func":"//var preset_array = msg.payload;\nvar msg_array = [];\nfor (var i=0; i<  msg.payload.length; i++)\n{\n    var tmp_object = {};\n    var msg_object = msg.payload[i];\n    if (msg_object.topic != undefined){\n        tmp_object[msg_object.topic] = {\"topic\": msg_object.topic, \"payload\": msg_object.payload};\n        msg_array[i] = tmp_object;\n    }\n}\nmsg.options = msg_array;\nreturn msg;","outputs":1,"noerr":0,"x":813,"y":260.5,"wires":[["e534a7a6.f40b88"]]},{"id":"d53596dd.759da8","type":"inject","z":"b8aaba87.539188","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":148,"y":256.5,"wires":[["2c42216d.0a79ae"]]},{"id":"9e0ea19.a5c5e6","type":"ui_text_input","z":"b8aaba87.539188","name":"","label":"Edit Preset Name","group":"dc78dc99.eb78e","order":4,"width":0,"height":0,"passthru":true,"mode":"text","delay":"300","topic":"","x":1394,"y":184,"wires":[["ecd9448c.639568"]]},{"id":"bf8e2f25.c2822","type":"ui_button","z":"b8aaba87.539188","name":"Save","group":"dc78dc99.eb78e","order":5,"width":0,"height":0,"passthru":false,"label":"Save Preset","color":"#FFF","bgcolor":"#FF0000","icon":"","payload":"","payloadType":"date","topic":"","x":90,"y":138.5,"wires":[["74eef2a1.e3acbc"]]},{"id":"ecd9448c.639568","type":"function","z":"b8aaba87.539188","name":"set global preset name","func":"global.set(\"dark_lab_preset_name\", msg.payload);","outputs":1,"noerr":0,"x":1646,"y":187,"wires":[[]]},{"id":"74eef2a1.e3acbc","type":"function","z":"b8aaba87.539188","name":"save preset","func":"msg.payload = global.get(\"dark_lab_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":242,"y":139,"wires":[["6efb7d28.9ae3c4"]]},{"id":"644a6036.0373c","type":"function","z":"b8aaba87.539188","name":"get preset name","func":"msg.payload = msg.payload.topic;\nreturn msg;","outputs":1,"noerr":0,"x":1199,"y":185.5,"wires":[["9e0ea19.a5c5e6"]]},{"id":"503ac93d.4acbe8","type":"ui_text","z":"b8aaba87.539188","group":"dc78dc99.eb78e","order":3,"width":0,"height":0,"name":"","label":"SAVE PRESET","format":"{{msg.payload}}","layout":"row-left","x":260,"y":360,"wires":[]},{"id":"e5f1f604.dc17e8","type":"ui_text","z":"b8aaba87.539188","group":"dc78dc99.eb78e","order":1,"width":0,"height":0,"name":"","label":"RECALL PRESET","format":"{{msg.payload}}","layout":"row-left","x":276,"y":312,"wires":[]},{"id":"756995c1.622bfc","type":"function","z":"b8aaba87.539188","name":"delete preset","func":"var newMsg = {};\nnewMsg.operation  = 'deleteOne';\nnewMsg.payload    = {'topic' : msg.payload};\nreturn newMsg;","outputs":1,"noerr":0,"x":411,"y":199,"wires":[["ef79b2c2.e1581"]]},{"id":"ef79b2c2.e1581","type":"mongodb2 in","z":"b8aaba87.539188","service":"_ext_","configNode":"aa034a9c.e558d8","name":"Store Data into MongoDB","collection":"dark_lab_presets","operation":"","x":622,"y":200,"wires":[["2c42216d.0a79ae"]]},{"id":"12db9718.216939","type":"ui_button","z":"b8aaba87.539188","name":"Delete","group":"dc78dc99.eb78e","order":5,"width":0,"height":0,"passthru":false,"label":"Delete Preset","color":"#FFF","bgcolor":"#FF00FF","icon":"","payload":"","payloadType":"date","topic":"","x":91,"y":197.5,"wires":[["3bb94a10.d52c86"]]},{"id":"3bb94a10.d52c86","type":"function","z":"b8aaba87.539188","name":"delete preset","func":"msg.payload = global.get(\"dark_lab_preset_name\");\nreturn msg;","outputs":1,"noerr":0,"x":243,"y":198,"wires":[["756995c1.622bfc"]]},{"id":"d385b755.09b078","type":"ui_slider","z":"b8aaba87.539188","name":"DMX2","label":"DMX 2","group":"cbc8ef35.63fca","order":2,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1476,"y":287,"wires":[["f460cbe2.e17768"]]},{"id":"249bc2f2.0ae9ce","type":"ui_slider","z":"b8aaba87.539188","name":"DMX12","label":"DMX 12","group":"cbc8ef35.63fca","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1479,"y":653,"wires":[["4e51e195.aa88d"]]},{"id":"432ad99a.92d6d8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX11","label":"DMX 11","group":"cbc8ef35.63fca","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1480,"y":616,"wires":[["df19281.5af1fd8"]]},{"id":"fc8fb146.578a1","type":"ui_slider","z":"b8aaba87.539188","name":"DMX10","label":"DMX 10","group":"cbc8ef35.63fca","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1479,"y":580,"wires":[["ef675025.77ea1"]]},{"id":"eee227a4.e27288","type":"ui_slider","z":"b8aaba87.539188","name":"DMX9","label":"DMX 9","group":"cbc8ef35.63fca","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1471,"y":543,"wires":[["9fa28f43.0a4de"]]},{"id":"11a0dfb7.a0a97","type":"ui_slider","z":"b8aaba87.539188","name":"DMX8","label":"DMX 8","group":"cbc8ef35.63fca","order":8,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1471,"y":507,"wires":[["e7c225e0.56cfe8"]]},{"id":"3233d413.87fd5c","type":"ui_slider","z":"b8aaba87.539188","name":"DMX7","label":"DMX 7","group":"cbc8ef35.63fca","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1470,"y":470,"wires":[["6cce4517.64589c"]]},{"id":"ea2c161a.d04138","type":"ui_slider","z":"b8aaba87.539188","name":"DMX6","label":"DMX 6","group":"cbc8ef35.63fca","order":6,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1471,"y":435,"wires":[["717362a1.04578c"]]},{"id":"a8a4e9e1.5ece58","type":"ui_slider","z":"b8aaba87.539188","name":"DMX5","label":"DMX 5","group":"cbc8ef35.63fca","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1472,"y":398,"wires":[["82994b53.a70768"]]},{"id":"e46e57d0.d71db8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX4","label":"DMX 4","group":"cbc8ef35.63fca","order":4,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1473,"y":362,"wires":[["c184886c.7caeb8"]]},{"id":"85ec6ae0.7a9cb8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX3","label":"DMX 3","group":"cbc8ef35.63fca","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1474,"y":324,"wires":[["b824ad3.67d095"]]},{"id":"8ce84c11.1f897","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_1","rules":[{"t":"set","p":"dark_lab_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1722,"y":245,"wires":[["a2a617db.39d618"]]},{"id":"f460cbe2.e17768","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_2","rules":[{"t":"set","p":"dark_lab_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1718,"y":287,"wires":[["a2a617db.39d618"]]},{"id":"b824ad3.67d095","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_3","rules":[{"t":"set","p":"dark_lab_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1716,"y":325,"wires":[["a2a617db.39d618"]]},{"id":"c184886c.7caeb8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_4","rules":[{"t":"set","p":"dark_lab_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1716,"y":362,"wires":[["a2a617db.39d618"]]},{"id":"82994b53.a70768","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_5","rules":[{"t":"set","p":"dark_lab_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1714,"y":400,"wires":[["a2a617db.39d618"]]},{"id":"717362a1.04578c","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_6","rules":[{"t":"set","p":"dark_lab_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1715,"y":438,"wires":[["a2a617db.39d618"]]},{"id":"6cce4517.64589c","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_7","rules":[{"t":"set","p":"dark_lab_preset[6]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1713,"y":476,"wires":[["a2a617db.39d618"]]},{"id":"e7c225e0.56cfe8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_8","rules":[{"t":"set","p":"dark_lab_preset[7]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1712,"y":512,"wires":[["a2a617db.39d618"]]},{"id":"9fa28f43.0a4de","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_9","rules":[{"t":"set","p":"dark_lab_preset[8]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1712,"y":549,"wires":[["a2a617db.39d618"]]},{"id":"ef675025.77ea1","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_10","rules":[{"t":"set","p":"dark_lab_preset[9]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":587,"wires":[["a2a617db.39d618"]]},{"id":"df19281.5af1fd8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_11","rules":[{"t":"set","p":"dark_lab_preset[10]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1713,"y":625,"wires":[["a2a617db.39d618"]]},{"id":"4e51e195.aa88d","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_12","rules":[{"t":"set","p":"dark_lab_preset[11]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1709,"y":663,"wires":[["a2a617db.39d618"]]},{"id":"4fc49be9.faf314","type":"function","z":"b8aaba87.539188","name":"Just get preset","func":"global.set(\"dmx_preset\", msg.payload.payload);\n\nvar preset = [];\nvar m = [];\npreset = global.get(\"dmx_preset\");\n\n\nfor (var i=0;i<12;i++)\n{\n    m[i] = { payload: preset[i] };\n}\nreturn m;\n","outputs":80,"noerr":0,"x":1240,"y":1280,"wires":[["91180ed6.a043a"],["d385b755.09b078"],["85ec6ae0.7a9cb8"],["e46e57d0.d71db8"],["a8a4e9e1.5ece58"],["ea2c161a.d04138"],["3233d413.87fd5c"],["11a0dfb7.a0a97"],["eee227a4.e27288"],["fc8fb146.578a1"],["432ad99a.92d6d8"],["249bc2f2.0ae9ce"],["4d37bddf.35b3d4"],["faa31f95.bbcf6"],["c2060ec4.313da"],["7d5a86d2.2a8da8"],[],[],[],[],[],[],[],[],[],[],[],[],[],["38a3f1e.6e8000e"],[],[],[],[],[],[],[],[],[],[],[],[],["75e62f23.5839e"],[],[],[],[],[],[],[],[],[],[],[],[],["f08bf6dd.fcb9f8"],[],[],[],[],[],[],[],[],[],[],[],["9ac795dc.617968"],[],["564cb439.bc16cc"],[],[],[],[],[],[],[],[],[],[]]},{"id":"a2a617db.39d618","type":"function","z":"b8aaba87.539188","name":"Send Current Universe","func":"\nmsg.payload = { \n                dmx: global.get(\"dark_lab_preset\"),\n                offset: 1\n            };\nreturn msg;","outputs":1,"noerr":0,"x":2160,"y":1640,"wires":[[]]},{"id":"91180ed6.a043a","type":"ui_slider","z":"b8aaba87.539188","name":"DMX1","label":"DMX 1","group":"cbc8ef35.63fca","order":2,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1470,"y":240,"wires":[["8ce84c11.1f897"]]},{"id":"7d5a86d2.2a8da8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX16","label":"DMX 16","group":"cbc8ef35.63fca","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1480,"y":800,"wires":[["b292c84c.2959f8"]]},{"id":"c2060ec4.313da","type":"ui_slider","z":"b8aaba87.539188","name":"DMX15","label":"DMX 15","group":"cbc8ef35.63fca","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1481,"y":763,"wires":[["305116d2.d4271a"]]},{"id":"faa31f95.bbcf6","type":"ui_slider","z":"b8aaba87.539188","name":"DMX14","label":"DMX 14","group":"cbc8ef35.63fca","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1480,"y":727,"wires":[["dd3ee81b.f5e9b8"]]},{"id":"4d37bddf.35b3d4","type":"ui_slider","z":"b8aaba87.539188","name":"DMX13","label":"DMX 13","group":"cbc8ef35.63fca","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1482,"y":690,"wires":[["15933586.9650ca"]]},{"id":"15933586.9650ca","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_13","rules":[{"t":"set","p":"dark_lab_preset[12]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1713,"y":696,"wires":[["a2a617db.39d618"]]},{"id":"dd3ee81b.f5e9b8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_14","rules":[{"t":"set","p":"dark_lab_preset[13]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1711,"y":734,"wires":[["a2a617db.39d618"]]},{"id":"305116d2.d4271a","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_15","rules":[{"t":"set","p":"dark_lab_preset[14]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1714,"y":772,"wires":[["a2a617db.39d618"]]},{"id":"b292c84c.2959f8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_16","rules":[{"t":"set","p":"dark_lab_preset[15]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":810,"wires":[["a2a617db.39d618"]]},{"id":"68c1ab94.bcd954","type":"subflow:b8aaba87.539188","z":"68b10b3.d3953f4","name":"Dark Lab House DMX","x":600,"y":420,"wires":[["c377be15.a06ec","3a402de4.fcef82"]]},{"id":"c377be15.a06ec","type":"function","z":"68b10b3.d3953f4","name":"format and trigger DMX universe","func":"msg.payload = msg.payload.dmx;\nreturn msg;","outputs":1,"noerr":0,"x":970,"y":420,"wires":[["d2fca79d.2ec948"]]},{"id":"3ca528a8.757ec8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX2","label":"DMX 2","group":"cbc8ef35.63fca","order":2,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1470,"y":900,"wires":[["5b6a1fa4.249a8"]]},{"id":"810bdd05.ef3b9","type":"ui_slider","z":"b8aaba87.539188","name":"DMX12","label":"DMX 12","group":"cbc8ef35.63fca","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1473,"y":1266,"wires":[["a8c8687d.8fd198"]]},{"id":"57726be1.2bbdf4","type":"ui_slider","z":"b8aaba87.539188","name":"DMX11","label":"DMX 11","group":"cbc8ef35.63fca","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1474,"y":1229,"wires":[["229f580c.9064e8"]]},{"id":"b6fd7042.98b95","type":"ui_slider","z":"b8aaba87.539188","name":"DMX10","label":"DMX 10","group":"cbc8ef35.63fca","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1473,"y":1193,"wires":[["b6fc0b6c.69b1e8"]]},{"id":"aec41ca1.f3598","type":"ui_slider","z":"b8aaba87.539188","name":"DMX9","label":"DMX 9","group":"cbc8ef35.63fca","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1465,"y":1156,"wires":[["981f1b6e.7ba638"]]},{"id":"b795df84.14846","type":"ui_slider","z":"b8aaba87.539188","name":"DMX8","label":"DMX 8","group":"cbc8ef35.63fca","order":8,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1465,"y":1120,"wires":[["52392cc6.92e184"]]},{"id":"8ad4990d.61a3d8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX7","label":"DMX 7","group":"cbc8ef35.63fca","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1464,"y":1083,"wires":[["7f6fb806.63be98"]]},{"id":"96322482.f446a8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX6","label":"DMX 6","group":"cbc8ef35.63fca","order":6,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1465,"y":1048,"wires":[["c7cecaab.a8e518"]]},{"id":"b19d424d.58f7a","type":"ui_slider","z":"b8aaba87.539188","name":"DMX5","label":"DMX 5","group":"cbc8ef35.63fca","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1466,"y":1011,"wires":[["32b9673d.5546e8"]]},{"id":"46d90a67.a969d4","type":"ui_slider","z":"b8aaba87.539188","name":"DMX4","label":"DMX 4","group":"cbc8ef35.63fca","order":4,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1467,"y":975,"wires":[["d29749af.e4b638"]]},{"id":"4a05e3be.57991c","type":"ui_slider","z":"b8aaba87.539188","name":"DMX3","label":"DMX 3","group":"cbc8ef35.63fca","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1468,"y":937,"wires":[["383204d.be04ffc"]]},{"id":"768e76aa.5e5da8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_1","rules":[{"t":"set","p":"dark_lab_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1716,"y":858,"wires":[[]]},{"id":"5b6a1fa4.249a8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_2","rules":[{"t":"set","p":"dark_lab_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1712,"y":900,"wires":[[]]},{"id":"383204d.be04ffc","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_3","rules":[{"t":"set","p":"dark_lab_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":938,"wires":[[]]},{"id":"d29749af.e4b638","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_4","rules":[{"t":"set","p":"dark_lab_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":975,"wires":[[]]},{"id":"32b9673d.5546e8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_5","rules":[{"t":"set","p":"dark_lab_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1708,"y":1013,"wires":[[]]},{"id":"c7cecaab.a8e518","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_6","rules":[{"t":"set","p":"dark_lab_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1709,"y":1051,"wires":[[]]},{"id":"7f6fb806.63be98","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_7","rules":[{"t":"set","p":"dark_lab_preset[6]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1707,"y":1089,"wires":[[]]},{"id":"52392cc6.92e184","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_8","rules":[{"t":"set","p":"dark_lab_preset[7]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1706,"y":1125,"wires":[[]]},{"id":"981f1b6e.7ba638","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_9","rules":[{"t":"set","p":"dark_lab_preset[8]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1706,"y":1162,"wires":[[]]},{"id":"b6fc0b6c.69b1e8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_10","rules":[{"t":"set","p":"dark_lab_preset[9]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1704,"y":1200,"wires":[[]]},{"id":"229f580c.9064e8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_11","rules":[{"t":"set","p":"dark_lab_preset[10]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1707,"y":1238,"wires":[[]]},{"id":"a8c8687d.8fd198","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_12","rules":[{"t":"set","p":"dark_lab_preset[11]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1703,"y":1276,"wires":[[]]},{"id":"7da45a67.d9a664","type":"ui_slider","z":"b8aaba87.539188","name":"DMX1","label":"DMX 1","group":"cbc8ef35.63fca","order":2,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1464,"y":853,"wires":[["768e76aa.5e5da8"]]},{"id":"cebd2e16.6a591","type":"ui_slider","z":"b8aaba87.539188","name":"DMX16","label":"DMX 16","group":"cbc8ef35.63fca","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1474,"y":1413,"wires":[["99f83144.2ce4e"]]},{"id":"9ea0422a.8613d","type":"ui_slider","z":"b8aaba87.539188","name":"DMX15","label":"DMX 15","group":"cbc8ef35.63fca","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1475,"y":1376,"wires":[["1b2cc606.46af3a"]]},{"id":"38a3f1e.6e8000e","type":"ui_slider","z":"b8aaba87.539188","name":"DMX 30","label":"DMX 30","group":"7166c0de.8c1d3","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1474,"y":1340,"wires":[["ddb8aba2.348f68"]]},{"id":"b9227b46.62a638","type":"ui_slider","z":"b8aaba87.539188","name":"DMX13","label":"DMX 13","group":"cbc8ef35.63fca","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1476,"y":1303,"wires":[["c21f51db.3bef9"]]},{"id":"c21f51db.3bef9","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_13","rules":[{"t":"set","p":"dark_lab_preset[12]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1707,"y":1309,"wires":[[]]},{"id":"ddb8aba2.348f68","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_30","rules":[{"t":"set","p":"dark_lab_preset[29]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1705,"y":1347,"wires":[["a2a617db.39d618"]]},{"id":"1b2cc606.46af3a","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_15","rules":[{"t":"set","p":"dark_lab_preset[14]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1708,"y":1385,"wires":[[]]},{"id":"99f83144.2ce4e","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_16","rules":[{"t":"set","p":"dark_lab_preset[15]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1704,"y":1423,"wires":[[]]},{"id":"2af2a0c2.213b9","type":"ui_slider","z":"b8aaba87.539188","name":"DMX2","label":"DMX 2","group":"cbc8ef35.63fca","order":2,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1470,"y":1520,"wires":[["2362ca85.f994e6"]]},{"id":"3cab4fc4.b7bbb","type":"ui_slider","z":"b8aaba87.539188","name":"DMX12","label":"DMX 12","group":"cbc8ef35.63fca","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1473,"y":1886,"wires":[["80d736d2.ecfd18"]]},{"id":"75e62f23.5839e","type":"ui_slider","z":"b8aaba87.539188","name":"DMX43","label":"DMX 43","group":"b3d980a2.5ac25","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1474,"y":1849,"wires":[["686d5f0e.f9978"]]},{"id":"6d350bb2.5be4a4","type":"ui_slider","z":"b8aaba87.539188","name":"DMX10","label":"DMX 10","group":"cbc8ef35.63fca","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1473,"y":1813,"wires":[["9167a5a5.29d398"]]},{"id":"a5973da.65ccbc","type":"ui_slider","z":"b8aaba87.539188","name":"DMX9","label":"DMX 9","group":"cbc8ef35.63fca","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1465,"y":1776,"wires":[["a2edf68c.599178"]]},{"id":"b751d650.1447f8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX8","label":"DMX 8","group":"cbc8ef35.63fca","order":8,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1465,"y":1740,"wires":[["b9b64326.f19f1"]]},{"id":"22d3c12e.083b7e","type":"ui_slider","z":"b8aaba87.539188","name":"DMX7","label":"DMX 7","group":"cbc8ef35.63fca","order":7,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1464,"y":1703,"wires":[["5eefea47.a1df24"]]},{"id":"952575a0.e59958","type":"ui_slider","z":"b8aaba87.539188","name":"DMX6","label":"DMX 6","group":"cbc8ef35.63fca","order":6,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1465,"y":1668,"wires":[["52de5cfb.02cf84"]]},{"id":"fd1e2b18.1ab958","type":"ui_slider","z":"b8aaba87.539188","name":"DMX5","label":"DMX 5","group":"cbc8ef35.63fca","order":5,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1466,"y":1631,"wires":[["514e8ff5.ec7f6"]]},{"id":"ad625374.5541e","type":"ui_slider","z":"b8aaba87.539188","name":"DMX4","label":"DMX 4","group":"cbc8ef35.63fca","order":4,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1467,"y":1595,"wires":[["79cc1670.373c08"]]},{"id":"34202ae7.e6d096","type":"ui_slider","z":"b8aaba87.539188","name":"DMX3","label":"DMX 3","group":"cbc8ef35.63fca","order":3,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1468,"y":1557,"wires":[["25c22c4a.690494"]]},{"id":"9a00f21a.022b9","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_1","rules":[{"t":"set","p":"dark_lab_preset[0]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1716,"y":1478,"wires":[[]]},{"id":"2362ca85.f994e6","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_2","rules":[{"t":"set","p":"dark_lab_preset[1]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1712,"y":1520,"wires":[[]]},{"id":"25c22c4a.690494","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_3","rules":[{"t":"set","p":"dark_lab_preset[2]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":1558,"wires":[[]]},{"id":"79cc1670.373c08","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_4","rules":[{"t":"set","p":"dark_lab_preset[3]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":1595,"wires":[[]]},{"id":"514e8ff5.ec7f6","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_5","rules":[{"t":"set","p":"dark_lab_preset[4]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1708,"y":1633,"wires":[[]]},{"id":"52de5cfb.02cf84","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_6","rules":[{"t":"set","p":"dark_lab_preset[5]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1709,"y":1671,"wires":[[]]},{"id":"5eefea47.a1df24","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_7","rules":[{"t":"set","p":"dark_lab_preset[6]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1707,"y":1709,"wires":[[]]},{"id":"b9b64326.f19f1","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_8","rules":[{"t":"set","p":"dark_lab_preset[7]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1706,"y":1745,"wires":[[]]},{"id":"a2edf68c.599178","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_9","rules":[{"t":"set","p":"dark_lab_preset[8]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1706,"y":1782,"wires":[[]]},{"id":"9167a5a5.29d398","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_10","rules":[{"t":"set","p":"dark_lab_preset[9]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1704,"y":1820,"wires":[[]]},{"id":"686d5f0e.f9978","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_43","rules":[{"t":"set","p":"dark_lab_preset[42]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1707,"y":1858,"wires":[["a2a617db.39d618"]]},{"id":"80d736d2.ecfd18","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_12","rules":[{"t":"set","p":"dark_lab_preset[11]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1703,"y":1896,"wires":[[]]},{"id":"23a6ebe1.b1add4","type":"ui_slider","z":"b8aaba87.539188","name":"DMX1","label":"DMX 1","group":"cbc8ef35.63fca","order":2,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1464,"y":1473,"wires":[["9a00f21a.022b9"]]},{"id":"f08bf6dd.fcb9f8","type":"ui_slider","z":"b8aaba87.539188","name":"DMX56","label":"DMX 56","group":"52937767.091a28","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1474,"y":2033,"wires":[["26e460e3.fceab"]]},{"id":"e9b113b3.3d0b6","type":"ui_slider","z":"b8aaba87.539188","name":"DMX15","label":"DMX 15","group":"cbc8ef35.63fca","order":11,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1475,"y":1996,"wires":[["1de880f4.37ec9f"]]},{"id":"16801987.89f8b6","type":"ui_slider","z":"b8aaba87.539188","name":"DMX 30","label":"DMX 30","group":"7166c0de.8c1d3","order":10,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1474,"y":1960,"wires":[["cac4921c.eccbe"]]},{"id":"4520c47b.e23a4c","type":"ui_slider","z":"b8aaba87.539188","name":"DMX13","label":"DMX 13","group":"cbc8ef35.63fca","order":9,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1476,"y":1923,"wires":[["21530e1d.1e6b32"]]},{"id":"21530e1d.1e6b32","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_13","rules":[{"t":"set","p":"dark_lab_preset[12]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1707,"y":1929,"wires":[[]]},{"id":"cac4921c.eccbe","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_30","rules":[{"t":"set","p":"dark_lab_preset[29]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1705,"y":1967,"wires":[[]]},{"id":"1de880f4.37ec9f","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_15","rules":[{"t":"set","p":"dark_lab_preset[14]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1708,"y":2005,"wires":[[]]},{"id":"26e460e3.fceab","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_56","rules":[{"t":"set","p":"dark_lab_preset[55]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1704,"y":2043,"wires":[["a2a617db.39d618"]]},{"id":"9ac795dc.617968","type":"ui_slider","z":"b8aaba87.539188","name":"DMX68","label":"DMX 68","group":"d5fd5751.4c8a28","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1480,"y":2180,"wires":[["6ca76994.741ac8"]]},{"id":"6ca76994.741ac8","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_68","rules":[{"t":"set","p":"dark_lab_preset[67]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":2190,"wires":[["a2a617db.39d618"]]},{"id":"564cb439.bc16cc","type":"ui_slider","z":"b8aaba87.539188","name":"DMX70","label":"DMX 70","group":"d5fd5751.4c8a28","order":12,"width":0,"height":0,"passthru":true,"topic":"Slider","min":0,"max":"255","step":1,"x":1480,"y":2240,"wires":[["f4662d9b.405ad"]]},{"id":"f4662d9b.405ad","type":"change","z":"b8aaba87.539188","name":"save to Global dark_lab_preset_70","rules":[{"t":"set","p":"dark_lab_preset[69]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1710,"y":2250,"wires":[["a2a617db.39d618"]]}]